var months=["January","February","March","April","May","June","July","August","September","October","November","December"];var prevMonth=11;var prevYear=2012;var currentMonth=0;var currentYear=2013;var table=$("#upcoming-events");var tableDays=table.find("span");var inAction=false;$(document).ready(function(){reloadCalendar()});$(".next").on("click",function(a){a.preventDefault();if(inAction){return}prevMonth=currentMonth;currentMonth++;if(currentMonth>11){currentMonth=1;prevYear=currentYear;currentYear++}else{prevYear=currentYear}switchItem($("#event-header"),-1)});$(".prev").on("click",function(a){a.preventDefault();if(inAction){return}prevMonth=currentMonth;currentMonth--;if(currentMonth<0){currentMonth=11;prevYear=currentYear;currentYear--}else{prevYear=currentYear}switchItem($("#event-header"),1)});function switchItem(b,a){inAction=true;b.animate({left:"+="+50*a,opacity:0},function(){b.animate({left:"+="+100*(a*-1)},0,function(){b.html(months[currentMonth]+" "+currentYear);b.animate({left:"+="+50*a,opacity:1},function(){inAction=false})})});reloadCalendar()}function reloadCalendar(){var h=new Date(currentYear,currentMonth,1);var c=h.getDay();c=c==0?6:(c-1);var e=DaysInMonth(currentMonth,currentYear);var a=DaysInMonth(prevMonth,prevYear);var g="";var f=GetEvents(currentYear,currentMonth);var b=1;$.each(table.find("tr"),function(j,d){$.each($(d).find("td span"),function(l,i){$(i).animate({opacity:0},function(){$(i).attr("class",g);if(j==1){if(l>=c){$(i).html(b);if(b<e){b++}}else{$(i).html(a-(c-l-1));$(i).addClass("nextmonth")}}else{$(i).html(b);if(b<e){b++}else{b=1;g="nextmonth"}}$(i).animate({opacity:1});$(i).removeClass("party");$(i).parent().removeClass("party-day");if(f[b]!=undefined&&f[b]!=""){$(i).html($(i).html()+f[b]);$(i).addClass("party");$(i).parent().addClass("party-day")}})})})}$(".event-info").live("mouseover",function(){$(this).stop().animate({opacity:1,height:316,top:-10})});$(".event-info").live("mouseout",function(){$(this).stop().animate({opacity:0,height:100,top:-30})});function GetEvents(a,b){return{12:'<div class="event-info"><ul class="what-when"><li><strong>Summer Jam all night</strong></li><li><p>12/01/2013</p></li><li><a href="page-event-info.html"><img alt="" src="img/common/poster.png"></a></li></ul><a href="page-event-info.html" class="btn btn-small">View poster</a></div>',17:'<div class="event-info"><ul class="what-when"><li><strong>Summer Jam all night</strong></li><li><p>12/01/2013</p></li><li><a href="page-event-info.html"><img alt="" src="img/common/poster.png"></a></li></ul><a href="page-event-info.html" class="btn btn-small">View poster</a></div>'}}function DaysInMonth(b,a){return 32-new Date(a,b,32).getDate()};