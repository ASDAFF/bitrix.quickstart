JCCatalogElement=function(a){this.productType=0;this.showQuantity=true;this.showAbsent=true;this.checkQuantity=false;this.maxQuantity=0;this.stepQuantity=1;this.isDblQuantity=false;this.canBuy=true;this.canSubscription=true;this.showOldPrice=false;this.showPercent=false;this.showSkuProps=false;this.showOfferGroup=false;this.visual={ID:"",PICT_ID:"",QUANTITY_ID:"",QUANTITY_UP_ID:"",QUANTITY_DOWN_ID:"",PRICE_ID:"",OLD_PRICE_ID:"",DISCOUNT_VALUE_ID:"",DISCOUNT_PERC_ID:"",OFFER_GROUP:""};this.product={checkQuantity:false,maxQuantity:0,stepQuantity:1,isDblQuantity:false,canBuy:true,canSubscription:true,name:"",pict:{},id:0};this.ajaxPath="";this.mess={};this.defaultPict={preview:null,detail:null};this.offers=[];this.offerNum=0;this.treeProps=[];this.obTreeRows=[];this.showCount=[];this.showStart=[];this.selectedValues={};this.sliders=[];this.obProduct=null;this.obQuantity=null;this.obQuantityUp=null;this.obQuantityDown=null;this.obPict=null;this.obPrice={price:null,full:null,discount:null,percent:null};this.obTree=null;this.obBuyBtn=null;this.obSkuProps=null;this.obSlider=null;this.obMeasure=null;this.obQuantityLimit={all:null,value:null};this.obZoom={cont:null,pict:null};this.enableZoom=false;this.showZoom=false;this.errorCode=0;if("object"==typeof(a)){this.productType=parseInt(a.PRODUCT_TYPE);this.showQuantity=a.SHOW_QUANTITY;if(!!a.SHOW_DISCOUNT_PERCENT){this.showPercent=true}if(!!a.SHOW_OLD_PRICE){this.showOldPrice=true}if(!!a.SHOW_SKU_PROPS){this.showSkuProps=true}if(!!a.OFFER_GROUP){this.showOfferGroup=true}this.visual=a.VISUAL;this.ajaxPath=a.AJAX_PATH;if(!!a.MESS){this.mess=a.MESS}switch(this.productType){case 1:case 2:if(!!a.PRODUCT&&"object"==typeof(a.PRODUCT)){if(this.showQuantity){this.product.checkQuantity=a.PRODUCT.CHECK_QUANTITY;this.product.isDblQuantity=a.PRODUCT.QUANTITY_FLOAT;if(this.product.checkQuantity){this.product.maxQuantity=(this.product.isDblQuantity?parseFloat(a.PRODUCT.MAX_QUANTITY):parseInt(a.PRODUCT.MAX_QUANTITY))}this.product.stepQuantity=(this.product.isDblQuantity?parseFloat(a.PRODUCT.STEP_QUANTITY):parseInt(a.PRODUCT.STEP_QUANTITY));this.checkQuantity=this.product.checkQuantity;this.isDblQuantity=this.product.isDblQuantity;this.maxQuantity=this.product.maxQuantity;this.stepQuantity=this.product.stepQuantity}this.product.canBuy=a.PRODUCT.CAN_BUY;this.product.canSubscription=a.PRODUCT.SUBSCRIPTION;this.product.buyUrl=a.PRODUCT.BUY_URL;this.canBuy=this.product.canBuy;this.canSubscription=this.product.canSubscription;this.product.name=a.PRODUCT.NAME;this.product.pict=a.PRODUCT.PICT;this.product.id=a.PRODUCT.ID}else{this.errorCode=-1}break;case 3:if(!!a.OFFERS&&BX.type.isArray(a.OFFERS)){this.offers=a.OFFERS;this.offerNum=0;if(!!a.OFFER_SELECTED){this.offerNum=parseInt(a.OFFER_SELECTED)}if(isNaN(this.offerNum)){this.offerNum=0}if(!!a.TREE_PROPS){this.treeProps=a.TREE_PROPS}if(!!a.DEFAULT_PICTURE){this.defaultPict.preview=a.DEFAULT_PICTURE.PREVIEW_PICTIRE;this.defaultPict.detail=a.DEFAULT_PICTURE.DETAIL_PICTURE}}else{this.errorCode=-1}break;default:this.errorCode=-1}}if(0==this.errorCode){BX.ready(BX.delegate(this.Init,this))}};JCCatalogElement.prototype.Init=function(){var c=0;var a=0;this.obProduct=BX(this.visual.ID);if(!this.obProduct){this.errorCode=-1}this.obPict=BX(this.visual.PICT_ID);if(!this.obPict){this.errorCode=-2}this.obPrice.price=BX(this.visual.PRICE_ID);if(!this.obPrice.price){this.errorCode=-16}else{if(!!this.visual.OLD_PRICE_ID){this.obPrice.full=BX(this.visual.OLD_PRICE_ID);if(!this.obPrice.full){this.errorCode=-17}}if(!!this.visual.DISCOUNT_VALUE_ID){this.obPrice.discount=BX(this.visual.DISCOUNT_VALUE_ID);if(!this.obPrice.discount){this.errorCode=-18}}if(this.showPercent){if(!!this.visual.DISCOUNT_PERC_ID){this.obPrice.percent=BX(this.visual.DISCOUNT_PERC_ID);if(!this.obPrice.percent){this.errorCode=-19}}}}if(this.showQuantity&&!!this.visual.QUANTITY_ID){this.obQuantity=BX(this.visual.QUANTITY_ID);if(!this.obQuantity){this.errorCode=-32}if(!!this.visual.QUANTITY_UP_ID){this.obQuantityUp=BX(this.visual.QUANTITY_UP_ID);if(!this.obQuantityUp){this.errorCode=-64}}if(!!this.visual.QUANTITY_DOWN_ID){this.obQuantityDown=BX(this.visual.QUANTITY_DOWN_ID);if(!this.obQuantityDown){this.errorCode=-128}}}if(3==this.productType){if(!!this.visual.TREE_ID){this.obTree=BX(this.visual.TREE_ID);if(!this.obTree){this.errorCode=-256}var e=this.visual.TREE_ITEM_ID;for(c=0;c<this.treeProps.length;c++){this.obTreeRows[c]={LEFT:BX(e+this.treeProps[c].ID+"_left"),RIGHT:BX(e+this.treeProps[c].ID+"_right"),LIST:BX(e+this.treeProps[c].ID+"_list"),CONT:BX(e+this.treeProps[c].ID+"_cont")};if(!this.obTreeRows[c].LEFT||!this.obTreeRows[c].RIGHT||!this.obTreeRows[c].LIST||!this.obTreeRows[c].CONT){this.errorCode=-512;break}}}if(!!this.visual.QUANTITY_MEASURE){this.obMeasure=BX(this.visual.QUANTITY_MEASURE)}if(!!this.visual.QUANTITY_LIMIT){this.obQuantityLimit.all=BX(this.visual.QUANTITY_LIMIT);if(!!this.obQuantityLimit.all){this.obQuantityLimit.value=BX.findChild(this.obQuantityLimit.all,{tagName:"span"},false,false);if(!this.obQuantityLimit.value){this.obQuantityLimit.all=null}}}}if(!!this.visual.BIG_SLIDER_ID){this.obSlider=BX(this.visual.BIG_SLIDER_ID);if(!this.obSlider){this.errorCode=-1024}}if(!!this.visual.BUY_ID){this.obBuyBtn=BX(this.visual.BUY_ID);if(!this.obBuyBtn){}}if(this.showSkuProps){if(!!this.visual.DISPLAY_PROP_DIV){this.obSkuProps=BX(this.visual.DISPLAY_PROP_DIV)}}if(0==this.errorCode){if(this.showQuantity){BX.bind(this.obQuantityUp,"click",BX.delegate(this.QuantityUp,this));BX.bind(this.obQuantityDown,"click",BX.delegate(this.QuantityDown,this));BX.bind(this.obQuantity,"change",BX.delegate(this.QuantityChange,this))}switch(this.productType){case 1:break;case 3:var d=BX.findChildren(this.obTree,{tagName:"li"},true);if(!!d&&0<d.length){for(c=0;c<d.length;c++){BX.bind(d[c],"click",BX.delegate(function(f){this.SelectOfferProp(f)},this))}}for(c=0;c<this.obTreeRows.length;c++){BX.bind(this.obTreeRows[c].LEFT,"click",BX.delegate(function(f){this.RowLeft(f)},this));BX.bind(this.obTreeRows[c].RIGHT,"click",BX.delegate(function(f){this.RowRight(f)},this))}for(c=0;c<this.offers.length;c++){if(0==this.offers[c].SLIDER_COUNT){this.sliders[c]={COUNT:this.offers[c].SLIDER_COUNT,ID:""}}else{for(a=0;a<this.offers[c].SLIDER.length;a++){this.offers[c].SLIDER[a].WIDTH=parseInt(this.offers[c].SLIDER[a].WIDTH);this.offers[c].SLIDER[a].HEIGHT=parseInt(this.offers[c].SLIDER[a].HEIGHT)}this.sliders[c]={COUNT:this.offers[c].SLIDER_COUNT,OFFER_ID:this.offers[c].ID,ID:this.visual.SLIDER_CONT_OF_ID+this.offers[c].ID,CONT:BX(this.visual.SLIDER_CONT_OF_ID+this.offers[c].ID),LIST:BX(this.visual.SLIDER_LIST_OF_ID+this.offers[c].ID),LEFT:BX(this.visual.SLIDER_LEFT_OF_ID+this.offers[c].ID),RIGHT:BX(this.visual.SLIDER_RIGHT_OF_ID+this.offers[c].ID),START:0};var b=BX.findChildren(this.sliders[c].LIST,{tagName:"li"},true);if(!!b&&0<b.length){for(a=0;a<b.length;a++){BX.bind(b[a],"click",BX.delegate(function(f){this.SelectSliderImg(f)},this))}}if(!!this.sliders[c].LEFT){BX.bind(this.sliders[c].LEFT,"click",BX.delegate(function(f){this.SliderRowLeft(f)},this))}if(!!this.sliders[c].RIGHT){BX.bind(this.sliders[c].RIGHT,"click",BX.delegate(function(f){this.SliderRowRight(f)},this))}}}this.SetCurrent();break}if(!!this.obBuyBtn){BX.bind(this.obBuyBtn,"click",BX.delegate(this.Basket,this))}}};JCCatalogElement.prototype.SliderRowLeft=function(d){if(!d){d=window.event}var c=BX.proxy_context;if(!!c&&c.hasAttribute("data-value")){var f=c.getAttribute("data-value");var a=-1;for(var b=0;b<this.sliders.length;b++){if(this.sliders[b].OFFER_ID==f){a=b;break}}if(-1<a&&5<this.sliders[a].COUNT){if((5-this.sliders[a].START)<this.sliders[a].COUNT){this.sliders[a].START--;BX.adjust(this.sliders[a].LIST,{style:{marginLeft:this.sliders[a].START*20+"%"}})}}}};JCCatalogElement.prototype.SliderRowRight=function(d){if(!d){d=window.event}var c=BX.proxy_context;if(!!c&&c.hasAttribute("data-value")){var f=c.getAttribute("data-value");var a=-1;for(var b=0;b<this.sliders.length;b++){if(this.sliders[b].OFFER_ID==f){a=b;break}}if(-1<a&&5<this.sliders[a].COUNT){if(0>this.sliders[a].START){this.sliders[a].START++;BX.adjust(this.sliders[a].LIST,{style:{marginLeft:this.sliders[a].START*20+"%"}})}}}};JCCatalogElement.prototype.SelectSliderImg=function(b){if(!b){b=window.event}var a=BX.proxy_context;if(!!a&&a.hasAttribute("data-value")){var d=a.getAttribute("data-value");var c=d.split("_");this.SetMainPict(c[0],c[1])}};JCCatalogElement.prototype.SetMainPict=function(g,e){var c=-1;var a=-1;var d=0;var b=0;for(d=0;d<this.offers.length;d++){if(g==this.offers[d].ID){c=d;break}}if(-1<c){if(0<this.offers[c].SLIDER_COUNT){for(b=0;b<this.offers[c].SLIDER.length;b++){if(e==this.offers[c].SLIDER[b].ID){a=b;break}}if(-1<a){if(!!this.obPict&&!!this.offers[c].SLIDER[a]){BX.adjust(this.obPict,{props:{src:this.offers[c].SLIDER[a].SRC,className:""}})}var h=BX.findChildren(this.sliders[c].LIST,{tagName:"li"},false);if(!!h&&0<h.length){var f=g+"_"+e;for(d=0;d<h.length;d++){value=h[d].getAttribute("data-value");if(value==f){BX.addClass(h[d],"bx_active")}else{BX.removeClass(h[d],"bx_active")}}}}}}};JCCatalogElement.prototype.SetMainPictFromItem=function(c){if(!!this.obPict){var a=false;var b={};if(!!this.offers[c]){if(!!this.offers[c].DETAIL_PICTURE){obNewPict=this.offers[c].DETAIL_PICTURE;a=true}else{if(!!this.offers[c].PREVIEW_PICTURE){obNewPict=this.offers[c].PREVIEW_PICTURE;a=true}}}if(!a){if(!!this.defaultPict.detail){obNewPict=this.defaultPict.detail;a=true}else{if(!!this.defaultPict.preview){obNewPict=this.defaultPict.preview;a=true}}}if(a){BX.adjust(this.obPict,{props:{src:obNewPict.SRC,className:(obNewPict.WIDTH>obNewPict.HEIGHT?"landscape":"portrait")}})}}};JCCatalogElement.prototype.QuantityUp=function(){var b=0;var a=true;if(0==this.errorCode&&this.showQuantity){b=(this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value));if(!isNaN(b)){b+=this.stepQuantity;if(this.checkQuantity){if(b>this.maxQuantity){a=false}}if(a){this.obQuantity.value=b}}}};JCCatalogElement.prototype.QuantityDown=function(){var b=0;var a=true;if(0==this.errorCode&&this.showQuantity){b=(this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value));if(!isNaN(b)){b-=this.stepQuantity;if(b<this.stepQuantity){a=false}if(a){this.obQuantity.value=b}}}};JCCatalogElement.prototype.QuantityChange=function(){var b=0;var a=true;if(0==this.errorCode&&this.showQuantity){b=(this.isDblQuantity?parseFloat(this.obQuantity.value):parseInt(this.obQuantity.value));if(!isNaN(b)){if(this.checkQuantity){if(b>this.maxQuantity){a=false;b=this.maxQuantity}else{if(b<this.stepQuantity){a=false;b=this.stepQuantity}}}if(!a){this.obQuantity.value=b}}else{this.obQuantity.value=this.stepQuantity}}};JCCatalogElement.prototype.QuantitySet=function(b){if(0==this.errorCode){this.canBuy=this.offers[b].CAN_BUY;if(this.showQuantity){this.isDblQuantity=this.offers[b].QUANTITY_FLOAT;this.checkQuantity=this.offers[b].CHECK_QUANTITY;this.maxQuantity=(this.isDblQuantity?parseFloat(this.offers[b].MAX_QUANTITY):parseInt(this.offers[b].MAX_QUANTITY));this.stepQuantity=(this.isDblQuantity?parseFloat(this.offers[b].STEP_QUANTITY):parseInt(this.offers[b].STEP_QUANTITY));this.obQuantity.value=this.stepQuantity;if(!!this.obMeasure){if(!!this.offers[b].MEASURE){BX.adjust(this.obMeasure,{html:this.offers[b].MEASURE})}else{BX.adjust(this.obMeasure,{html:""})}}if(!!this.obQuantityLimit.all){if(!this.checkQuantity){BX.adjust(this.obQuantityLimit.value,{html:""});BX.adjust(this.obQuantityLimit.all,{style:{display:"none"}})}else{var a=this.offers[b].MAX_QUANTITY;if(!!this.offers[b].MEASURE){a+=(" "+this.offers[b].MEASURE)}BX.adjust(this.obQuantityLimit.value,{html:a});BX.adjust(this.obQuantityLimit.all,{style:{display:""}})}}}}};JCCatalogElement.prototype.SelectOfferProp=function(c){if(!c){c=window.event}var b=BX.proxy_context;if(!!b&&b.hasAttribute("data-treevalue")){var a=b.getAttribute("data-treevalue");var d=a.split("_");this.SearchOfferPropIndex(d[0],d[1]);var f=BX.findChildren(b.parentNode,{tagName:"li"},false);if(!!f&&0<f.length){for(i=0;i<f.length;i++){BX.removeClass(f[i],"bx_active")}}BX.addClass(b,"bx_active")}};JCCatalogElement.prototype.SearchOfferPropIndex=function(b,k){var d=-1;for(var c=0;c<this.treeProps.length;c++){if(this.treeProps[c].ID==b){d=c;break}}if(-1<d){var f={};for(c=0;c<d;c++){var e="PROP_"+this.treeProps[c].ID;f[e]=this.selectedValues[e]}var e="PROP_"+this.treeProps[d].ID;f[e]=k;for(c=d+1;c<this.treeProps.length;c++){e="PROP_"+this.treeProps[c].ID;var l=this.GetRowValues(f,e);if(!l){break}if(this.showAbsent){var g=[];var h=[];h=BX.clone(f,true);for(var a=0;a<l.length;a++){h[e]=l[a];if(this.GetCanBuy(h)){g[g.length]=l[a]}}}else{var g=l}if(!!this.selectedValues[e]&&BX.util.in_array(this.selectedValues[e],g)){f[e]=this.selectedValues[e]}else{f[e]=g[0]}this.UpdateRow(c,f[e],l,g)}this.selectedValues=f;this.ChangeInfo()}};JCCatalogElement.prototype.RowLeft=function(f){if(!f){f=window.event}var d=BX.proxy_context;if(!!d&&d.hasAttribute("data-treevalue")){var c=d.getAttribute("data-treevalue");var a=-1;for(var b=0;b<this.treeProps.length;b++){if(this.treeProps[b].ID==c){a=b;break}}if(-1<a&&5<this.showCount[a]){if((5-this.showStart[a])<this.showCount[a]){this.showStart[a]--;BX.adjust(this.obTreeRows[a].LIST,{style:{marginLeft:this.showStart[a]*20+"%"}})}}}};JCCatalogElement.prototype.RowRight=function(f){if(!f){f=window.event}var d=BX.proxy_context;if(!!d&&d.hasAttribute("data-treevalue")){var c=d.getAttribute("data-treevalue");var a=-1;for(var b=0;b<this.treeProps.length;b++){if(this.treeProps[b].ID==c){a=b;break}}if(-1<a&&5<this.showCount[a]){if(0>this.showStart[a]){this.showStart[a]++;BX.adjust(this.obTreeRows[a].LIST,{style:{marginLeft:this.showStart[a]*20+"%"}})}}}};JCCatalogElement.prototype.UpdateRow=function(j,f,g,a){var d=0;var h;var b=0;var c="";if(-1<j&&j<this.obTreeRows.length){var e=BX.findChildren(this.obTreeRows[j].LIST,{tagName:"li"},false);if(!!e&&0<e.length){b=g.length;c=(5<b?(100/b)+"%":"20%");obData={props:{className:""},style:{width:c}};if("E"==this.treeProps[j].TYPE){obData.style.paddingTop=c}for(d=0;d<e.length;d++){h=e[d].getAttribute("data-onevalue");if(BX.util.in_array(h,a)){if(h==f){obData.props.className="bx_active"}else{obData.props.className=""}}else{if(h==f){obData.props.className="bx_active bx_missing"}else{obData.props.className="bx_missing"}}if(BX.util.in_array(h,g)){obData.style.display=""}else{obData.style.display="none"}BX.adjust(e[d],obData)}obData={style:{width:(5<b?20*b:100)+"%",marginLeft:"0%"}};BX.adjust(this.obTreeRows[j].LIST,obData);if("E"==this.treeProps[j].TYPE){BX.adjust(this.obTreeRows[j].CONT,{props:{className:(5<b?"bx_item_detail_scu full":"bx_item_detail_scu")}})}else{BX.adjust(this.obTreeRows[j].CONT,{props:{className:(5<b?"bx_item_detail_size full":"bx_item_detail_size")}})}if(5<b){BX.adjust(this.obTreeRows[j].LEFT,{style:{display:""}});BX.adjust(this.obTreeRows[j].RIGHT,{style:{display:""}})}else{BX.adjust(this.obTreeRows[j].LEFT,{style:{display:"none"}});BX.adjust(this.obTreeRows[j].RIGHT,{style:{display:"none"}})}this.showCount[j]=b;this.showStart[j]=0}}};JCCatalogElement.prototype.GetRowValues=function(b,d){var a=[];var f=false;if(0==b.length){for(var e=0;e<this.offers.length;e++){if(!BX.util.in_array(this.offers[e].TREE[d],a)){a[a.length]=this.offers[e].TREE[d]}}f=true}else{for(var e=0;e<this.offers.length;e++){var g=true;for(var c in b){if(b[c]!=this.offers[e].TREE[c]){g=false;break}}if(g){if(!BX.util.in_array(this.offers[e].TREE[d],a)){a[a.length]=this.offers[e].TREE[d]}f=true}}}return(f?a:false)};JCCatalogElement.prototype.GetCanBuy=function(a){var d=false;for(var c=0;c<this.offers.length;c++){var e=true;for(var b in a){if(a[b]!=this.offers[c].TREE[b]){e=false;break}}if(e){if(this.offers[c].CAN_BUY){d=true;break}}}return d};JCCatalogElement.prototype.SetCurrent=function(){var c={};var h=this.offers[this.offerNum].TREE;for(var f=0;f<this.treeProps.length;f++){var g="PROP_"+this.treeProps[f].ID;var e=this.GetRowValues(c,g);if(!e){break}if(BX.util.in_array(h[g],e)){c[g]=h[g]}else{c[g]=e[0];this.offerNum=0}if(this.showAbsent){var a=[];var b=[];b=BX.clone(c,true);for(var d=0;d<e.length;d++){b[g]=e[d];if(this.GetCanBuy(b)){a[a.length]=e[d]}}}else{var a=e}this.UpdateRow(f,c[g],e,a)}this.selectedValues=c;this.ChangeInfo()};JCCatalogElement.prototype.ChangeInfo=function(){var b=-1;for(var c=0;c<this.offers.length;c++){var d=true;for(var a in this.selectedValues){if(this.selectedValues[a]!=this.offers[c].TREE[a]){d=false;break}}if(d){b=c;break}}if(-1<b){if(!!this.obPrice.price){BX.adjust(this.obPrice.price,{html:this.offers[b].PRICE.PRINT_DISCOUNT_VALUE});if(this.offers[b].PRICE.DISCOUNT_VALUE!=this.offers[b].PRICE.VALUE){if(this.showOldPrice){if(!!this.obPrice.full){BX.adjust(this.obPrice.full,{style:{display:""},html:this.offers[b].PRICE.PRINT_VALUE})}if(!!this.obPrice.discount){BX.adjust(this.obPrice.discount,{style:{display:""},html:this.offers[b].PRICE.PRINT_DISCOUNT_DIFF})}}if(this.showPercent){if(!!this.obPrice.percent){BX.adjust(this.obPrice.percent,{style:{display:""},html:this.offers[b].PRICE.DISCOUNT_DIFF_PERCENT+"%"})}}}else{if(this.showOldPrice){if(!!this.obPrice.full){BX.adjust(this.obPrice.full,{style:{display:"none"},html:""})}if(!!this.obPrice.discount){BX.adjust(this.obPrice.discount,{style:{display:"none"},html:""})}}if(this.showPercent){if(!!this.obPrice.percent){BX.adjust(this.obPrice.percent,{style:{display:"none"},html:""})}}}}for(c=0;c<this.offers.length;c++){if(this.showOfferGroup&&this.offers[c].OFFER_GROUP){if(c!=b){BX.adjust(BX(this.visual.OFFER_GROUP+this.offers[c].ID),{style:{display:"none"}})}}if(""==this.sliders[c].ID){continue}if(c==b){this.sliders[c].START=0;BX.adjust(this.sliders[c].LIST,{style:{marginLeft:"0%"}});BX.adjust(this.sliders[c].CONT,{style:{display:""}})}else{BX.adjust(this.sliders[c].CONT,{style:{display:"none"}})}}if(this.showOfferGroup&&this.offers[b].OFFER_GROUP){BX.adjust(BX(this.visual.OFFER_GROUP+this.offers[b].ID),{style:{display:""}})}if(0<this.offers[b].SLIDER_COUNT){this.SetMainPict(this.offers[b].ID,this.offers[b].SLIDER[0].ID)}else{this.SetMainPictFromItem(b)}if(this.showSkuProps&&!!this.obSkuProps){if(0==this.offers[b].DISPLAY_PROPERTIES.length){BX.adjust(this.obSkuProps,{style:{display:"none"},html:""})}else{BX.adjust(this.obSkuProps,{style:{display:""},html:this.offers[b].DISPLAY_PROPERTIES})}}this.offerNum=b;if(this.showQuantity){this.QuantitySet(this.offerNum)}BX.onCustomEvent("onCatalogStoreProductChange",[this.offers[this.offerNum].ID])}};JCCatalogElement.prototype.Basket=function(){if(!this.canBuy){return}switch(this.productType){case 1:case 2:var a=this.product.buyUrl;if(this.showQuantity){a+="&quantity="+this.obQuantity.value}location.href=a;break;case 3:var a=this.offers[this.offerNum].BUY_URL;if(this.showQuantity){a+="&quantity="+this.obQuantity.value}location.href=a;break;default:return}};JCCatalogElement.prototype.ShowBasketPopup=function(c){var b="";if("object"==typeof(c)){if("OK"==c.STATUS){strName="";strPict="";switch(this.productType){case 1:case 2:strName=this.product.name;strPict=this.product.pict.SRC;break;case 3:strName=this.offers[this.offerNum].NAME;strPict=this.offers[this.offerNum].PICT.SRC;break}b="<p>"+BX.message("ADD_TO_BASKET_OK")+"</p>";b+='<img src="'+strPict+'" height="130"><p>'+strName+"</p>"}else{}}else{}var a=BX.PopupWindowManager.create("CatalogSectionBasket"+this.visual.ID,null,{autoHide:false,offsetLeft:0,offsetTop:0,overlay:true,draggable:{restrict:true},closeByEsc:true,closeIcon:{right:"12px",top:"10px"},content:'<div style="width:300px;text-align: center;padding-top:5px; margin-bottom: 10px;">'+b+'<a class="bx_bt_blue bx_medium" href="'+BX.message("setButtonBuyUrl")+'"><span class="bx_icon_cart"></span><span>'+BX.message("setButtonBuyName")+"</span></a></div>"});a.show()};JCCatalogElementZoom=function(a){};JCCatalogElementZoom.prototype.Init=function(){};JCCatalogElementZoom.prototype.SetPict=function(a){};JCCatalogElementZoom.prototype.Show=function(a){};