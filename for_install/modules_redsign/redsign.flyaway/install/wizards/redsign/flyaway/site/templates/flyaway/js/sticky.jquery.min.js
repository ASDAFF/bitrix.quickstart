!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(u){var k=Array.prototype.slice,j=Array.prototype.splice,h={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},b=u(window),v=u(document),g=[],m=b.height(),q=function(){for(var A=b.scrollTop(),t=v.height(),o=t-m,D=A>o?o-A:0,c=0,B=g.length;B>c;c++){var s=g[c],E=s.stickyWrapper.offset().top,w=E-s.topSpacing-D;if(s.stickyWrapper.css("height",s.stickyElement.outerHeight()),w>=A){null!==s.currentTop&&(s.stickyElement.css({width:"",position:"",top:"","z-index":""}),s.stickyElement.parent().removeClass(s.className),s.stickyElement.trigger("sticky-end",[s]),s.currentTop=null)}else{var x=t-s.stickyElement.outerHeight()-s.topSpacing-s.bottomSpacing-A-D;if(0>x?x+=s.topSpacing:x=s.topSpacing,s.currentTop!==x){var r;s.getWidthFrom?r=u(s.getWidthFrom).width()||null:s.widthFromWrapper&&(r=s.stickyWrapper.width()),null==r&&(r=s.stickyElement.width()),s.stickyElement.css("width",r).css("position","fixed").css("top",x).css("z-index",s.zIndex),s.stickyElement.parent().addClass(s.className),null===s.currentTop?s.stickyElement.trigger("sticky-start",[s]):s.stickyElement.trigger("sticky-update",[s]),s.currentTop===s.topSpacing&&s.currentTop>x||null===s.currentTop&&x<s.topSpacing?s.stickyElement.trigger("sticky-bottom-reached",[s]):null!==s.currentTop&&x===s.topSpacing&&s.currentTop<x&&s.stickyElement.trigger("sticky-bottom-unreached",[s]),s.currentTop=x}var C=s.stickyWrapper.parent(),z=s.stickyElement.offset().top+s.stickyElement.outerHeight()>=C.offset().top+C.outerHeight()&&s.stickyElement.offset().top<=s.topSpacing;z?s.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):s.stickyElement.css("position","fixed").css("top",x).css("bottom","").css("z-index",s.zIndex)}}},f=function(){m=b.height();for(var d=0,a=g.length;a>d;d++){var o=g[d],c=null;o.getWidthFrom?o.responsiveWidth&&(c=u(o.getWidthFrom).width()):o.widthFromWrapper&&(c=o.stickyWrapper.width()),null!=c&&o.stickyElement.css("width",c)}},l={init:function(c){var a=u.extend({},h,c);return this.each(function(){var o=u(this),n=o.attr("id"),i=n?n+"-"+h.wrapperClassName:h.wrapperClassName,p=u("<div></div>").attr("id",i).addClass(a.wrapperClassName);o.wrapAll(p);var d=o.parent();a.center&&d.css({width:o.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===o.css("float")&&o.css({"float":"none"}).parent().css({"float":"right"}),a.stickyElement=o,a.stickyWrapper=d,a.currentTop=null,g.push(a),l.setWrapperHeight(this),l.setupChangeListeners(this)})},setWrapperHeight:function(c){var a=u(c),d=a.parent();d&&d.css("height",a.outerHeight())},setupChangeListeners:function(a){if(window.MutationObserver){var c=new window.MutationObserver(function(d){(d[0].addedNodes.length||d[0].removedNodes.length)&&l.setWrapperHeight(a)});c.observe(a,{subtree:!0,childList:!0})}else{a.addEventListener("DOMNodeInserted",function(){l.setWrapperHeight(a)},!1),a.addEventListener("DOMNodeRemoved",function(){l.setWrapperHeight(a)},!1)}},update:q,unstick:function(a){return this.each(function(){for(var i=this,o=u(i),d=-1,c=g.length;c-->0;){g[c].stickyElement.get(0)===i&&(j.call(g,c,1),d=c)}-1!==d&&(o.unwrap(),o.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",q,!1),window.addEventListener("resize",f,!1)):window.attachEvent&&(window.attachEvent("onscroll",q),window.attachEvent("onresize",f)),u.fn.sticky=function(a){return l[a]?l[a].apply(this,k.call(arguments,1)):"object"!=typeof a&&a?void u.error("Method "+a+" does not exist on jQuery.sticky"):l.init.apply(this,arguments)},u.fn.unstick=function(a){return l[a]?l[a].apply(this,k.call(arguments,1)):"object"!=typeof a&&a?void u.error("Method "+a+" does not exist on jQuery.sticky"):l.unstick.apply(this,arguments)},u(function(){setTimeout(q,0)})});