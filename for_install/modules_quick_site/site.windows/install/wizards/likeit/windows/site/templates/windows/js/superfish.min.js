(function(b){b.fn.superfish=function(p){var r=b.fn.superfish,q=r.c,o=b('<span class="'+q.arrowClass+'"> &#187;</span>'),i=function(g){var e=b(this),f=n(e);("mouseenter"===g.type||"focusin"===g.type)&&e.children("a").data("follow",!0);clearTimeout(f.sfTimer);e.showSuperfishUl().siblings().hideSuperfishUl()},h=function(m){var d=b(this),k=n(d),l=r.op,j=function(){l.retainPath=-1<b.inArray(d[0],l.$path);d.hideSuperfishUl();l.$path.length&&1>d.parents("li."+l.hoverClass).length&&(l.onIdle.call(),b.proxy(i,l.$path,m)())};"mouseleave"!==m.type&&"focusout"!==m.type?j():(clearTimeout(k.sfTimer),k.sfTimer=setTimeout(j,l.delay));("mouseleave"===m.type||"focusout"===m.type)&&d.children("a").data("follow",!1)},n=function(d){d.hasClass(q.menuClass)&&b.error("Superfish requires you to update to a version of hoverIntent that supports event-delegation, such as this one: https://github.com/joeldbirch/onHoverIntent");d=d.closest("."+q.menuClass)[0];r.op=r.o[d.serial];return d},a=function(g){var d=b(this),e=d.next("ul"),d=d.data("follow");if(e.length&&(r.op.useClick||!d)){g.preventDefault(),e.is(":visible")?b.proxy(h,b(this).parent(),g)():b.proxy(i,b(this).parent(),g)()}};return this.addClass(q.menuClass).each(function(){var g=this.serial=r.o.length,d=b.extend({},r.defaults,p),f=b(this),e=f.find("li:has(ul)");d.$path=f.find("li."+d.pathClass).slice(0,d.pathLevels).each(function(){b(this).addClass(d.hoverClass+" "+q.bcClass).filter("li:has(ul)").removeClass(d.pathClass)});r.o[g]=r.op=d;d.autoArrows&&e.children("a").each(function(){b(this).addClass(q.anchorClass).append(o.clone())});r.op.useClick||(b.fn.hoverIntent&&!r.op.disableHI?f.hoverIntent(i,h,"li:has(ul)"):(f.on("mouseenter","li:has(ul)",i),f.on("mouseleave","li:has(ul)",h)));f.on("focusin","li:has(ul)",i);f.on("focusout","li:has(ul)",h);f.on("click","a",a);e.not("."+q.bcClass).hideSuperfishUl();d.onInit.call(this)})};var c=b.fn.superfish;c.o=[];c.op={};c.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator"};c.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",autoArrows:!0,disableHI:!1,useClick:!1,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){},onIdle:function(){}};b.fn.extend({hideSuperfishUl:function(){var a=c.op,h=!0===a.retainPath?a.$path:"";a.retainPath=!1;var g=b("li."+a.hoverClass,this).add(this).not(h).find(">ul").stop(!0,!0).animate(a.animationOut,a.speedOut,function(){g=b(this);g.css("visibility","hidden").parent().removeClass(a.hoverClass);a.onHide.call(g)});return this},showSuperfishUl:function(){var e=c.op,f=this.addClass(e.hoverClass).find(">ul:hidden").css("visibility","visible");e.onBeforeShow.call(f);f.stop(!0,!0).animate(e.animation,e.speed,function(){e.onShow.call(f)});return this}})})(jQuery);