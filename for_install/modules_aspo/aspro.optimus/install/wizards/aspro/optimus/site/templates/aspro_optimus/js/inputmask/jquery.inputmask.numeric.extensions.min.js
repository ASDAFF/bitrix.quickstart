(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./jquery.inputmask"],a)}else{a(jQuery)}}(function(a){a.extend(a.inputmask.defaults.aliases,{numeric:{mask:function(d){if(d.repeat!==0&&isNaN(d.integerDigits)){d.integerDigits=d.repeat}d.repeat=0;d.autoGroup=d.autoGroup&&d.groupSeparator!="";if(d.autoGroup&&isFinite(d.integerDigits)){var e=Math.floor(d.integerDigits/d.groupSize);var c=d.integerDigits%d.groupSize;d.integerDigits+=c==0?e-1:e}d.definitions[":"].placeholder=d.radixPoint;var b=d.prefix;b+="[+]";b+="~{1,"+d.integerDigits+"}";if(d.digits!=undefined&&(isNaN(d.digits)||parseInt(d.digits)>0)){if(d.digitsOptional){b+="[:~{"+d.digits+"}]"}else{b+=":~{"+d.digits+"}"}}b+=d.suffix;return b},placeholder:"",greedy:false,digits:"*",digitsOptional:true,groupSeparator:"",radixPoint:".",groupSize:3,autoGroup:false,allowPlus:true,allowMinus:true,integerDigits:"+",prefix:"",suffix:"",rightAlign:true,postFormat:function(k,q,e,b){var j=false,o=k[q];if(b.groupSeparator==""||(a.inArray(b.radixPoint,k)!=-1&&q>=a.inArray(b.radixPoint,k))||new RegExp("[-+]").test(o)){return{pos:q}}var g=k.slice();if(o==b.groupSeparator){g.splice(q--,1);o=g[q]}if(e){g[q]="?"}else{g.splice(q,0,"?")}var n=g.join("");if(b.autoGroup||(e&&n.indexOf(b.groupSeparator)!=-1)){var h=a.inputmask.escapeRegex.call(this,b.groupSeparator);j=n.indexOf(b.groupSeparator)==0;n=n.replace(new RegExp(h,"g"),"");var d=n.split(b.radixPoint);n=d[0];if(n!=(b.prefix+"?0")&&n.length>=(b.groupSize+b.prefix.length)){j=true;var c=new RegExp("([-+]?[\\d?]+)([\\d?]{"+b.groupSize+"})");while(c.test(n)){n=n.replace(c,"$1"+b.groupSeparator+"$2");n=n.replace(b.groupSeparator+b.groupSeparator,b.groupSeparator)}}if(d.length>1){n+=b.radixPoint+d[1]}}k.length=n.length;for(var m=0,f=n.length;m<f;m++){k[m]=n.charAt(m)}var p=a.inArray("?",k);if(e){k[p]=o}else{k.splice(p,1)}return{pos:p,refreshFromBuffer:j}},onKeyDown:function(j,c,d,g){if(j.keyCode==g.keyCode.TAB&&g.placeholder.charAt(0)!="0"){var h=a.inArray(g.radixPoint,c);if(h!=-1&&isFinite(g.digits)){for(var f=1;f<=g.digits;f++){if(c[h+f]==undefined||c[h+f]==g.placeholder.charAt(0)){c[h+f]="0"}}return{refreshFromBuffer:{start:++h,end:h+g.digits}}}}else{if(g.autoGroup&&(j.keyCode==g.keyCode.DELETE||j.keyCode==g.keyCode.BACKSPACE)){var b=g.postFormat(c,d-1,true,g);b.caret=b.pos+1;return b}}},onKeyPress:function(g,c,d,f){if(f.autoGroup){var b=f.postFormat(c,d-1,true,f);b.caret=b.pos+1;return b}},regex:{integerPart:function(b){return new RegExp("[-+]?\\d+")}},negationhandler:function(d,c,g,b,f){if(!b&&f.allowMinus&&d==="-"){var e=c.join("").match(f.regex.integerPart(f));if(e.length>0){if(c[e.index]=="+"){return{pos:e.index,c:"-",remove:e.index,caret:g}}else{if(c[e.index]=="-"){return{remove:e.index,caret:g-1}}else{return{pos:e.index,c:"-",caret:g+1}}}}}return false},definitions:{"~":{validator:function(c,h,i,b,e){var g=e.negationhandler(c,h.buffer,i,b,e);if(!g){g=b?new RegExp("[0-9"+a.inputmask.escapeRegex.call(this,e.groupSeparator)+"]").test(c):new RegExp("[0-9]").test(c);if(g===true){g={pos:i}}if(g!=false&&!b){var d=h.buffer.join("").match(e.regex.integerPart(e)),f=a.inArray(e.radixPoint,h.buffer);if(d){if(d["0"].indexOf("0")==0&&i>=e.prefix.length){if(f==-1||(i<=f&&h.validPositions[f]==undefined)){h.buffer.splice(d.index,1);i=i>d.index?i-1:d.index;a.extend(g,{pos:i,remove:d.index})}else{if(i>d.index&&i<=f){h.buffer.splice(d.index,1);i=i>d.index?i-1:d.index;a.extend(g,{pos:i,remove:d.index})}}}else{if(c=="0"&&i<=d.index){return false}}}if(e.digitsOptional===false&&i>f){return{pos:i,remove:i}}}}return g},cardinality:1,prevalidator:null},"+":{validator:function(d,g,h,c,e){var b="[";if(e.allowMinus===true){b+="-"}if(e.allowPlus===true){b+="+"}b+="]";var f=new RegExp(b).test(d);return f},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(c,g,h,b,e){var f=e.negationhandler(c,g.buffer,h,b,e);if(!f){var d="["+a.inputmask.escapeRegex.call(this,e.radixPoint)+"]";f=new RegExp(d).test(c);if(f&&g.validPositions[h]&&g.validPositions[h]["match"].placeholder==e.radixPoint){f={pos:h,remove:h}}}return f},cardinality:1,prevalidator:null,placeholder:""}},insertMode:true,autoUnmask:false,onUnMask:function(e,b,d){var c=e.replace(d.prefix,"");c=c.replace(d.suffix,"");c=c.replace(new RegExp(a.inputmask.escapeRegex.call(this,d.groupSeparator),"g"),"");return c},isComplete:function(c,e){var f=c.join(""),b=c.slice();e.postFormat(b,0,true,e);if(b.join("")!=f){return false}var d=f.replace(e.prefix,"");d=d.replace(e.suffix,"");d=d.replace(new RegExp(a.inputmask.escapeRegex.call(this,e.groupSeparator),"g"),"");d=d.replace(a.inputmask.escapeRegex.call(this,e.radixPoint),".");return isFinite(d)},onBeforeMask:function(c,d){if(isFinite(c)){return c.toString().replace(".",d.radixPoint)}else{var b=c.match(/,/g);var e=c.match(/\./g);if(e&&b){if(e.length>b.length){c=c.replace(/\./g,"");c=c.replace(",",d.radixPoint)}else{if(b.length>e.length){c=c.replace(/,/g,"");c=c.replace(".",d.radixPoint)}}}else{c=c.replace(new RegExp(a.inputmask.escapeRegex.call(this,d.groupSeparator),"g"),"")}return c}}},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0"}});return a.fn.inputmask}));