$(document).on("click",".js-favorite",function(c){c.preventDefault();var d=$(this),b=$(this).closest(".js-product"),a=parseInt(b.data("product-id"));if(a>0){$.ajax({type:"POST",dataType:"json",data:{rs_ajax:"Y",action:"add2favorite",element_id:a},success:function(e){if(e.STATUS=="OK"){if(appSLine.favoriteList[a]){delete appSLine.favoriteList[a]}else{appSLine.favoriteList[a]=true}d.find(".favorite__cnt").text(e.LIKES_COUNT);appSLine.setProductItems()}else{console.warn("favorite - error responsed");c.preventDefault()}},error:function(){console.warn("favorite - fail request");c.preventDefault()},complete:function(){}})}});