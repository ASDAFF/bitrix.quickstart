(function(f,d){var e="redsignBanners",c="rs.banners.",a={height:320,breakpoints:{large:1024,medium:768,small:480,xsmall:320},isAdjustBlocks:true,isAutoAdjustHeight:false,heightFactor:2.2,heightAdjustStart:"medium",sliderAdapter:"owlAdapter"};function b(h,j){var i;return function(){var k=arguments,l=this;clearTimeout(i);i=setTimeout(function(){h.apply(l,k)},j)}}function g(i,h){this.$element=f(i);this.options=f.extend(a,h);this.adapters=f.redsignBanners.adapters;this.sliderAdapter=null;this.init();this.listenEvents()}f.extend(g.prototype,{init:function(){var h=this;if(!this.adapters[this.options.sliderAdapter]){console.warn("I can`t find adapter "+this.options.sliderAdapter);return}this.sliderAdapter=new this.adapters[this.options.sliderAdapter](this);this.loadImages().then(function(){h.sliderAdapter.initSlider()},function(){console.error("Images wasn`t load")})},resize:function(){b(f.proxy(function(){this.resize()},this),250)()},setHeight:function(h){h=h||this.getAdjustHeight();this.$element.css("height",h);this.$element.find(".rs-banners_banner").css("height",h);this.resize()},getAdjustHeight:function(){var h=this.options.height,i=f(d).width();if(i<this.options.breakpoints[this.options.heightAdjustStart]){h=f(d).width()/this.options.heightFactor}return h},adjustBlocks:function(){var h=f(".rs-banners_banner");h.each(f.proxy(function(m,k){var o=f(k).find(".rs-banners_info"),n=o.children("div, a"),l,j,q=this.$element.find(".rs-banners_banner:eq(0)").outerHeight(),p;if(n.length<1){return}n.css("display","inline-block");for(l=n.length-1;l>=0;--l){j=f(n[l]);p=j.position().top+j.outerHeight()+parseInt(j.css("marginTop"),10)+5;if(q-p<0){j.hide()}}},this));this.trigger("adjustblocks")},update:function(){if(this.options.isAutoAdjustHeight){this.setHeight()}if(this.options.isAdjustBlocks){this.adjustBlocks()}},loadImages:function(){var h=[];this.$element.find("[data-img-src]").each(function(i){var j=f(this).data("img-src");if(!j){return}h.push(f.Deferred(function(k){f("<img>").attr("src",j).load(function(){k.resolve()})}))});return f.when.apply(f,h).then(f.proxy(function(){this.trigger("images:load")},this))},refresh:function(){b(f.proxy(function(){this.update()},this),250)()},playVideo:function(h){h.parents(".rs-banners_banner").find(".rs-banners_wrap").css("visibility","hidden");h.data("play",true);h.find("video").each(function(i,j){if(typeof j.play==="function"){j.play()}})},stopVideo:function(h){h.parents(".rs-banners_banner").find(".rs-banners_wrap").css("visibility","visible");h.data("play",false);h.find("video").each(function(i,j){if(typeof j.pause==="function"){j.pause()}})},listenEvents:function(){var i=this,h=["resize"];h.forEach(function(j){i.$element.on(c+j,function(m,k,l){if(f.isFunction(i[j])){i[j].apply(i,l)}})});f(document).on("click",".rs-banners_video-play",function(){var j=f(this).siblings(".rs-banners_video");console.log(j);if(!j.data("play")){i.playVideo(j)}else{i.stopVideo(j)}})},trigger:function(h){d.setTimeout(f.proxy(function(){this.$element.trigger(c+h)},this))}});f.fn[e]=function(h){return this.each(function(){if(!f.data(this,"plugin_"+e)){f.data(this,"plugin_"+e,new g(this,h))}})}}(jQuery,window));(function(c){c.redsignBanners=c.redsignBanners||{};c.redsignBanners.adapters=c.redsignBanners.adapters||{};var a={};function b(d){this.core=d;this.slider={};this.sliderOptions=this.convertOptions();this.init()}c.extend(b.prototype,{init:function(){console.info("Owl Adapter");this.triggerEvents()},initSlider:function(){var d=this.core.$element.owlCarousel(this.sliderOptions);this.slider=d.data("owl.carousel")},convertOptions:function(){return c.extend(a,this.core.options.params)},resize:function(){this.slider.invalidate("width");this.slider.refresh()},triggerEvents:function(){this.core.$element.on("refreshed.owl.carousel",c.proxy(this.core.refresh,this.core))}});c.redsignBanners.adapters.owlAdapter=b}(jQuery));(function(c){c.redsignBanners=c.redsignBanners||{};c.redsignBanners.adapters=c.redsignBanners.adapters||{};var a={};function b(d){this.core=d;this.slider={};this.sliderOptions=this.convertOptions();this.init()}c.extend(b.prototype,{init:function(){console.warn("Slick adapter")},initSlider:function(){var d=this.core.$element.slick(this.sliderOptions);this.slider=d.slick("getSlick")},convertOptions:function(){var d={},e,f={items:"slidesToShow",loop:"infinite",nav:"arrows",smartSpeed:"speed"};for(e in this.core.options.params){if(this.core.options.params.hasOwnProperty(e)){if(f[e]){d[f[e]]=this.core.options.params[e]}else{d[e]=this.core.options.params[e]}}}return c.extend(a,d)},resize:function(){this.slider.resize()}});c.redsignBanners.adapters.slickAdapter=b}(jQuery));