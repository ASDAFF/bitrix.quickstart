(function(b){if(!b.BX||BX.PortalTopMenu){return}BX.PortalTopMenu={items:{},idCnt:1,getItem:function(c){if(!BX.type.isDomNode(c)){return null}var d=!c.id||!BX.type.isNotEmptyString(c.id)?(c.id="root-menu-item-"+this.idCnt++):c.id;if(!this.items[d]){this.items[d]=new a(c)}return this.items[d]},itemOver:function(d){var c=this.getItem(d);if(!c){return false}c.itemOver()},itemOut:function(d){var c=this.getItem(d);if(c){c.itemOut()}}};var a=function(c){this.element=c;this.submenu=BX.findChild(c,{className:"submenu"},true);this.timeoutId=null;if(this.submenu){BX("top-menu-layout",true).appendChild(this.submenu.parentNode.removeChild(this.submenu));BX.bind(this.submenu,"mouseover",BX.proxy(this.itemOver,this));BX.bind(this.submenu,"mouseout",BX.proxy(this.itemOut,this))}};a.prototype.itemOver=function(){if(this.timeoutId){clearTimeout(this.timeoutId)}if(this.submenu&&this.submenu.style.display!="block"){BX.addClass(this.element,"hover");this.adjustPosition()}};a.prototype.itemOut=function(){this.timeoutId=setTimeout(BX.proxy(this.__itemOut,this),0)};a.prototype.__itemOut=function(){BX.removeClass(this.element,"hover");if(this.submenu){this.submenu.style.display="none"}};a.prototype.adjustPosition=function(){if(!this.submenu){return}var d=0;var e=BX.pos(this.element,true);var c=this.getSubmenuWidth();if((e.left+c+42)>BX.GetWindowInnerSize().innerWidth){d=e.left-c+e.width+12;BX.addClass(this.submenu,"submenu-rtl")}else{d=e.left;BX.removeClass(this.submenu,"submenu-rtl")}BX.adjust(this.submenu,{style:{position:"absolute",top:e.bottom+"px",left:d+"px",display:"block",width:e.width+"px",zIndex:1001}})};a.prototype.getSubmenuWidth=function(){var c=BX.hasClass(this.submenu,"submenu-two-columns")?400:220;if(this.element.offsetWidth>c-8){c=this.element.offsetWidth+50;this.submenu.style.width=this.submenu.style.maxWidth=c+"px"}else{this.submenu.style.width="";this.submenu.style.maxWidth="400px"}return c}})(window);