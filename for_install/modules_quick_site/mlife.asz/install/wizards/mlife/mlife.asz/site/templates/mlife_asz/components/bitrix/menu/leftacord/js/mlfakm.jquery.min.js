(function(a){a.fn.mlfakm=function(b){var c=a.extend({currentClass:"active",onlyOne:true,speed:500},b);return this.each(function(){var e=a(this).addClass("mlfakm"),d=a("ul",e).prev("a");e.children(":last").addClass("last");a("ul",e).each(function(){a(this).children(":last").addClass("last")});a("ul",e).prev("a").addClass("harFull");e.find("."+c.currentClass).parents("ul").show().prev("a").addClass(c.currentClass).addClass("harOpen");d.on("click",function(){if(a(this).next("ul").is(":hidden")){a(this).addClass("harOpen")}else{a(this).removeClass("harOpen")}if(c.onlyOne){a(this).closest("ul").closest("ul").find("ul").not(a(this).next("ul")).slideUp(c.speed).prev("a").removeClass("harOpen");a(this).next("ul").slideToggle(c.speed)}else{a(this).next("ul").stop(true).slideToggle(c.speed)}return false})})}})(jQuery);