<?global $MESS;$strPath2Lang = str_replace("\\", "/", __FILE__);$strPath2Lang = substr($strPath2Lang, 0, strlen($strPath2Lang)-18);include(GetLangFileName($strPath2Lang."/lang/", "/install/index.php"));Class twinpx_bejetservice extends CModule{	var $MODULE_ID = "twinpx.bejetservice";	var $MODULE_VERSION;	var $MODULE_VERSION_DATE;	var $MODULE_NAME;	var $MODULE_DESCRIPTION;	var $MODULE_CSS;		function twinpx_bejetservice()	{		$arModuleVersion = array();		$path = str_replace("\\", "/", __FILE__);		$path = substr($path, 0, strlen($path) - strlen("/index.php"));        		include($path."/version.php");                $this->PARTNER_NAME = "Twin px";        $this->PARTNER_URI  = "http://www.twinpx.ru";        		if (is_array($arModuleVersion) && array_key_exists("VERSION", $arModuleVersion))		{			$this->MODULE_VERSION = $arModuleVersion["VERSION"];			$this->MODULE_VERSION_DATE = $arModuleVersion["VERSION_DATE"];		}		else		{			$this->MODULE_VERSION = COMPRESSION_VERSION;			$this->MODULE_VERSION_DATE = COMPRESSION_VERSION_DATE;		}        		$this->MODULE_NAME = GetMessage("BEJET_MODULE_NAME");		$this->MODULE_DESCRIPTION = GetMessage("BEJET_MODULE_DESC");	}	function InstallDB($arParams = array())	{   		return true;	}	function UnInstallDB($arParams = array())	{		return true;	}	function InstallEvents()	{		return true;	}	function UnInstallEvents()	{		return true;	}	function InstallFiles($arParams = array())	{	    CopyDirFiles($_SERVER["DOCUMENT_ROOT"]."/bitrix/modules/twinpx.bejetservice/install/wizards", $_SERVER["DOCUMENT_ROOT"]."/bitrix/wizards", true, true);        RegisterModule("twinpx.bejetservice");		return true;	}	function UnInstallFiles()	{		DeleteDirFilesEx("/bitrix/wizards/bejet/");        UnRegisterModule("twinpx.bejetservice");		return true;	}	function DoInstall()	{		global $DOCUMENT_ROOT, $APPLICATION; $step;	    $step = IntVal($_REQUEST['step']);	    if($step < 2)	    {	        $APPLICATION->IncludeAdminFile(GetMessage("BEJET_INSTALL_TITLE"), $DOCUMENT_ROOT."/bitrix/modules/twinpx.bejetservice/install/step1.php");	    }	    elseif($step == 2)	    {	        if($_REQUEST['license'] == "y")	        {                    $this->InstallFiles();		            $APPLICATION->IncludeAdminFile(GetMessage("BEJET_INSTALL_TITLE"), $DOCUMENT_ROOT."/bitrix/modules/twinpx.bejetservice/install/step2.php");	        }	        else	        {	            $APPLICATION->ThrowException("Необходимо принять лицензионное соглашение");	            $APPLICATION->IncludeAdminFile(GetMessage("BEJET_INSTALL_TITLE"), $DOCUMENT_ROOT."/bitrix/modules/twinpx.bejetservice/install/step1.php");	        }	    }	}	function DoUninstall()	{		global $DOCUMENT_ROOT, $APPLICATION;        $this->UnInstallFiles();		$APPLICATION->IncludeAdminFile(GetMessage("BEJET_UNINSTALL_TITLE"), $DOCUMENT_ROOT."/bitrix/modules/twinpx.bejetservice/install/unstep.php");        	}}?>