var needOffset=0;var elementsWidth=0;function RSMONOPOLY_hideLis(a){if($(".main-menu-nav").length>0){var b=$(".main-menu-nav");b.find(".other").removeAttr("style");if($(document).width()>=970){element=b.find(".lvl1")[0];needOffset=$(element).offset();needOffset=needOffset.top;b.find(".lvl1").each(function(c){offset=$(this).offset();offset=offset.top;if(offset!=needOffset){$(this).addClass("invisible");b.find(".other").removeClass("invisible");if(b.find(".other #element"+$(this).attr("id")).length>=1){b.find(".other #element"+$(this).attr("id")).show()}else{if(a){b.find(".other ul.dropdown-menu").prepend('<li class="other_li" id="element'+$(this).attr("id")+'">'+$(this).html()+"</li>")}else{b.find(".other ul.dropdown-menu").append('<li class="other_li" id="element'+$(this).attr("id")+'">'+$(this).html()+"</li>")}}}else{$(this).removeClass("invisible");if(b.find(".other #element"+$(this).attr("id")).length>=1){b.find(".other #element"+$(this).attr("id")).hide()}}})}else{b.find(".lvl1").each(function(c){$(this).removeClass("invisible");b.find(".other").addClass("invisible")})}elementsWidth=0;b.find("li.lvl1").each(function(c){if(!$(this).hasClass("invisible")){elementsWidth=elementsWidth+$(this).outerWidth(true)}});width=b.width()-elementsWidth;b.find(".other").css("width",width);b.removeAttr("style");if(b.find(".lvl1.invisible").length==0){b.find(".other").hide()}else{b.find(".other").show()}}}function RSMONOPOLY_Area2Darken(a){a.toggleClass("area2darken")}function RSMONOPOLY_DropFancy(){if($(document).width()<600){$(".fancyajax").removeClass("fancyajax fancybox.ajax").addClass("fancyajaxwait")}else{$(".fancyajaxwait").removeClass("fancyajaxwait").addClass("fancyajax fancybox.ajax")}}function RSMONOPOLY_PopupGallerySetHeight(){if($(".popupgallery").length>0){if($(document).width()>767){var e=parseInt($(".popupgallery").parents(".fancybox-inner").height()),d=e-55,c=d-30,b=e-55-parseInt($(".popupgallery").find(".preview").height());$(".popupgallery").find(".thumbs.style1").css("maxHeight",b)}else{var a=parseInt($(".popupgallery").find(".fullright").height());var e=parseInt($(".popupgallery").parents(".fancybox-inner").height()),d=e-55-a-25,c=d-30-a-25,b=e-55-parseInt($(".popupgallery").find(".preview").height());$(".popupgallery").find(".thumbs.style1").css("maxHeight",100)}$(".popupgallery").find(".changeit").css("height",d);$(".popupgallery").find(".changeit").find("img").css("maxHeight",c)}}function RSMONOPOLY_PopupGallerySetPicture(){if($(".popupgallery").length>0){$(".js-gallery").find(".thumbs").find('a[href="'+$(".changeFromSlider:not(.cantopen)").find("img").attr("src")+'"]').trigger("click")}}function RSMONOPOLY_SetSet(){RSMONOPOLY_SetCompared()}function RSMONOPOLY_SetCompared(){$(".js-compare").removeClass("checked");for(element_id in RSMONOPOLY_COMPARE){if(RSMONOPOLY_COMPARE[element_id]=="Y"&&$(".js-elementid"+element_id).find(".js-compare").length>0){$(".js-elementid"+element_id).find(".js-compare").addClass("checked").find(".count").html(" ("+RS_MONOPOLY_COUNT_COMPARE+")")}}$(".js-compare:not(.checked)").find(".count").html("")}$(document).ready(function(){$(document).on("closeFancy",function(){if($.fancybox&&$.fancybox.isOpen){setTimeout($.fancybox.close,1500)}});$(document).on("click","a.area2darken",function(c){console.info("Area2Darken - block click");c.preventDefault();c.stopImmediatePropagation()});RSMONOPOLY_DropFancy();$(window).resize(function(){setTimeout(function(){RSMONOPOLY_hideLis(true);RSMONOPOLY_DropFancy()},100)});$(window).load(function(){setTimeout(function(){RSMONOPOLY_hideLis(false);RSMONOPOLY_DropFancy()},100)});$(document).on("click",".main-menu-nav .dropdown a > span",function(){$(this).parent().parent().toggleClass("open");return false});$(document).on("click",".reloadCaptcha",function(){var c=$(this).parents(".captcha_wrap");BX.ajax.loadJSON("/bitrix/tools/ajax_captcha.php",function(d){c.find(".captchaImg").attr("src","/bitrix/tools/captcha.php?captcha_sid="+d.captcha_sid);c.find(".captchaSid").val(d.captcha_sid)});return false});$(document).on("click",".nav .search-btn",function(){var c=$(this);if(c.hasClass("lupa")){$(".search-open").fadeIn(500,function(){c.removeClass("lupa");c.addClass("remove")})}else{$(".search-open").fadeOut(500,function(){c.addClass("lupa");c.removeClass("remove")})}});$(document).on("show.bs.dropdown","header .main-menu-nav li.dropdown, header .main-menu-nav li.dropdown > a",function(c){console.warn("script.js -> preventDefault");c.preventDefault()});$(document).on("shown.bs.collapse",".nav-sidebar",function(c){$(c.target).parent().addClass("showed")}).on("hidden.bs.collapse",".nav-sidebar",function(c){$(c.target).parent().removeClass("showed")});$(".owl").each(function(){var e=$(this),d=2000,g=8000,c=0,f={0:{items:1},768:{items:1},1200:{items:1}};if(parseInt(e.data("changespeed"))>0){d=e.data("changespeed")}if(parseInt(e.data("changedelay"))>0){g=e.data("changedelay")}if(parseInt(e.data("margin"))>0){c=e.data("margin")}if(e.data("responsive")!=""&&(typeof(e.data("responsive"))=="object")){f=e.data("responsive")}if(e.find(".item").length>1){e.owlCarousel({items:4,margin:c,loop:true,autoplay:true,nav:true,navText:["<span></span>","<span></span>"],navClass:["prev","next"],autoplaySpeed:d,autoplayTimeout:g,smartSpeed:d,onInitialize:function(h){e.addClass("owl-carousel owl-theme");if(this.$element.children().length<=this.settings.items){this.settings.loop=false}},onResize:function(h){if(this._items.length<=this.settings.items){this.settings.loop=false}},onRefreshed:function(){e.removeClass("noscroll");if(e.find(".cloned").length<1){e.addClass("noscroll")}},responsive:f})}});var b={},a={};b={maxWidth:400,maxHeight:750,minWidth:200,minHeight:100,openEffect:"none",closeEffect:"none",padding:[20,24,15,24],helpers:{title:{type:"inside",position:"top"}},beforeShow:function(){var c=$(this.element);if(c.data("insertdata")!=""&&(typeof(c.data("insertdata"))=="object")){setTimeout(function(){var d=c.data("insertdata");for(fieldName in d){$(".fancybox-inner").find('[name="'+fieldName+'"]').val(d[fieldName])}},50)}$(document).trigger("RSMONOPOLY_fancyBeforeShow")},afterShow:function(){setTimeout(function(){$.fancybox.toggle();RSMONOPOLY_PopupGallerySetHeight();RSMONOPOLY_PopupGallerySetPicture();$(document).trigger("RSMONOPOLY_fancyAfterShow")},50)},onUpdate:function(){setTimeout(function(){RSMONOPOLY_PopupGallerySetHeight();$(document).trigger("RSMONOPOLY_fancyOnUpdate")},50)}};$(".fancyajax").fancybox(b);a=$.extend({},b);a.ajax={type:"POST",cache:false,data:{AJAX_CALL:"Y",POPUP_GALLERY:"Y"}};delete a.minHeight;delete a.maxHeight;a.maxWidth=1091;a.minWidth=600;a.width="90%";a.height="90%";a.autoSize=false;$(".changeFromSlider:not(.cantopen)").fancybox(a);$(document).on("click",".cantopen",function(){return false});$(document).on("click",".thumbs .thumb a",function(){var c=$(this);var d=c.parents(".thumbs");d.find(".thumb").removeClass("checked");d.find(".thumb.pic"+c.data("index")).addClass("checked");$(d.data("changeto")).attr("src",$(this).attr("href"));$(document).trigger("RSMONOPOLY_changePicture",{id:$(this).data("index")});return false});$(document).on("click",".js-nav",function(){var g=$(this),c=$(this).parents(".js-gallery"),e=c.find(".thumb.checked"),f=(e.prev().hasClass("thumb")?e.prev():c.find(".thumb:last")),d=(e.next().hasClass("thumb")?e.next():c.find(".thumb:first"));if(g.hasClass("prev")){f.find("a").trigger("click")}else{d.find("a").trigger("click")}return false}).on("mouseenter mouseleave",".js-nav",function(){$("html").toggleClass("disableSelection")});$(document).on("click",".popupgallery .changeit img",function(){$(".popupgallery").find(".js-nav.next").trigger("click")});$(document).on("focusin",".form-control",function(){$(this).next().addClass("focused")});$(document).on("focusout",".form-control",function(){$(this).next().removeClass("focused")});$(document).on("focusout",".req-input",function(){if($(this).val()==""){$(this).addClass("must-be-filled almost-filled");$(this).attr("placeholder",BX.message("RSMONOPOLY_JS_REQUIRED_FIELD"))}}).on("focusin",".req-input",function(){if($(this).hasClass("must-be-filled")){$(this).removeClass("must-be-filled almost-filled")}});$(document).on("click",".dropdown-menu .variable",function(){$(this).parents(".dropdown").find(".dropdown-button").html($(this).html()+'<span class="right-arrow-caret"></span>');$(this).parents(".dropdown").find('input[type="hidden"]').val($(this).data("value"))});$(document).on("click",".btn.btn-primary",function(){submittedFlag=false;$(this).parents("form").find(".field-wrap.req").each(function(){if(($(this).find("input.req-input").val()==""&&$(this).hasClass("text-wrap"))||($(this).find("select option:selected").length==0&&$(this).hasClass("select-wrap"))||($(this).find("input.req-input").val()==""&&$(this).hasClass("calendar-wrap"))||($(this).find("textarea").val()==""&&$(this).hasClass("textarea-wrap"))||($(this).find("input.req-input").val()==""&&$(this).hasClass("file-wrap"))||($(this).find("input:checked").length==0&&$(this).hasClass("choice-wrap"))){$(this).addClass("has-error");submittedFlag=true}else{$(this).removeClass("has-error")}});if(submittedFlag){return false}});$(document).on("click",".checkbox label",function(){$(this).parent().find("input").checked=!$(this).parent().find("input").checked});$(document).on("change",".almost-filled",function(){$(this).removeClass("almost-filled").attr("placeholder","")});$(document).on("click",".js-compare",function(){console.info("AJAX -> add2compare ");var d=$(this),c=d.parents(".js-element").find(".js-detail_page_url").attr("href"),f=parseInt(d.parents(".js-element").data("elementid")),e="";if(f>0){if(c.indexOf("?")==-1){c=c+"?"}if(RSMONOPOLY_COMPARE[f]=="Y"||parseInt(RSMONOPOLY_COMPARE[f])>0){e="DELETE_FROM_COMPARE_LIST"}else{e="ADD_TO_COMPARE_LIST"}c=c+"AJAX_CALL=Y&action="+e+"&id="+f;RSMONOPOLY_Area2Darken($(".js-compare"));$.getJSON(c,{},function(g){if(g.TYPE=="OK"){if(e=="DELETE_FROM_COMPARE_LIST"){delete RSMONOPOLY_COMPARE[f]}else{RSMONOPOLY_COMPARE[f]="Y"}RS_MONOPOLY_COUNT_COMPARE=g.COUNT;if(RS_MONOPOLY_COUNT_COMPARE>0){$(".comparelist").removeClass("hidden").find(".count").html(g.COUNT_WITH_WORD)}else{$(".comparelist").addClass("hidden")}}else{console.warn("compare - error responsed")}}).fail(function(g){console.warn("compare - fail request")}).always(function(){RSMONOPOLY_Area2Darken($(".js-compare"));RSMONOPOLY_SetCompared()})}return false})});$(function(){var e=$(".file_upload"),c=e.find("input"),a=e.find(".file-link"),d=e.find(".file-link");a.add(d).click(function(){c.click()});var b=(window.File&&window.FileReader&&window.FileList&&window.Blob)?true:false;c.change(function(){var f;if(b&&c[0].files[0]){f=c[0].files[0].name}else{f=c.val().replace("C:\\fakepath\\","")}if(!f.length){return}if(d.is(":visible")){d.text(f);a.text(f)}else{a.text(f)}}).change()});function owlInit(b,c){var a={items:4,margin:30,loop:true,autoplay:false,merge:true,nav:true,navText:["<span></span>","<span></span>"],navClass:["prev","next"],responsive:{},onInitialize:function(d){b.addClass("owl-carousel owl-theme");if(this.$element.children().length<=this.settings.items){this.settings.loop=false}},onResize:function(d){this.destroy();owlInit(b,c)}};c=$.extend({},a,c);return b.owlCarousel(c)};