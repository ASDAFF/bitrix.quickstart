<?if(!$USER->IsAdmin()) return;IncludeModuleLangFile(__FILE__);if ( ! CModule::IncludeModule('redsign.recaptcha') )	return (false);	//Restore defaultsif ($_SERVER["REQUEST_METHOD"]=="POST" && strlen($RestoreDefaults)>0 && check_bitrix_sessid()) {	COption::RemoveOption("redsign.recaptcha");}$arAllOptions =	Array("on", "key", "secretkey", "theme", "use_hided_class"); //Save optionsif($_SERVER["REQUEST_METHOD"]=="POST" ){		$sites_	= CSite::getList($by="sort", $order="desc", Array());	while($site_	= $sites_->fetch()){		$arSettings	= Array();		foreach($arAllOptions as $option){			if (isset($_POST[$option."_".$site_['LID']])){				$arSettings[$option]	= $_POST[$option."_".$site_['LID']];			}			}		COption::SetOptionString("redsign.recaptcha", "settings", serialize($arSettings), false, $site_['LID']);	}	}$tabControl = new CAdminTabControl('redsign_googlecaptcha_settings', array(	array('DIV' => 'redsign_googlecaptcha_main', 'TAB' => GetMessage('RSGC_SETTINGS'), 'ICON' => 'settings', 'TITLE' => GetMessage('RSGC_SETTINGS')),));$tabControl->Begin();?><form name="redsign_googlecaptcha_settings" method="post" action="<?echo $APPLICATION->GetCurPage()?>?mid=<?=htmlspecialcharsbx($mid)?>&amp;lang=<?echo LANG?>">		<?$tabControl->BeginNextTab();?>	<h3><?=GetMessage("RSGC_INSTR_1")?></h3>	<img src="/bitrix/images/redsign.recaptcha/info.png" />	<h3><?=GetMessage("RSGC_INSTR_2")?></h3>			<tr>			<th><?=GetMessage('RSGC_SITE');?></th>			<th><?=GetMessage('RSGC_KEY');?></th>			<th><?=GetMessage('RSGC_SECRETKEY');?></th>			<th><?=GetMessage('RSGC_THEME');?></th>			<th><?=GetMessage('RSGC_ON');?></th>            <th><?=GetMessage('RSGC_IN_DESIGN');?></th>		</tr>		<?$sites_	= CSite::getList($by="sort", $order="desc", Array());		while($site_	= $sites_->fetch()):?>			<?$settings	= COption::GetOptionString("redsign.recaptcha", "settings", false, $site_['LID']);			if(!$settings){				$arSettings	= array();			}else{					$arSettings	= unserialize($settings);			}				?>			<tr>				<td>					<select name="site_<?=$site_['LID'];?>" disabled>						<option value=""></option>						<?$sites	= CSite::getList();						while($site	= $sites->fetch()):?>						<?print_r($site);?>						<option <?=$site['LID']==$site_['LID']?'selected':'';?> value="<?=$site['LID'];?>"><?=$site['SITE_NAME'];?></option>						<?endwhile;?>					</select>				</td>				<td><input name="key_<?=$site_['LID'];?>" type="text" size="45" value="<?=$arSettings['key'];?>"/></td>				<td><input name="secretkey_<?=$site_['LID'];?>" type="text" size="45" value="<?=$arSettings['secretkey'];?>"/></td>				<td><select name="theme_<?=$site_['LID'];?>">					<option <?=$arSettings['theme']=='light'?'selected':'';?> value="light"><?=GetMessage('RSGC_THEME_LIGHT');?></option>					<option <?=$arSettings['theme']=='dark'?'selected':'';?> value="dark"><?=GetMessage('RSGC_THEME_DARK');?></option>				</select></td>				<td><input name="on_<?=$site_['LID'];?>" type="checkbox" <?=$arSettings['on']=='on'?'checked="true"':'';?>/></td>                <td><input name="use_hided_class_<?=$site_['LID'];?>" type="checkbox" <?=$arSettings['use_hided_class']=='on'?'checked="true"':'';?>/></td>			</tr>		<?endwhile;?>		<?	$tabControl->Buttons(array());		$tabControl->End();?></form>