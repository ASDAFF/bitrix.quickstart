/**
 * leWindow.min.js v1
 * Le Window - jQuery plug-in for opening breathtaking blocks for your aesthetics pleasure.
 * Dependencies: isMobile.min.js
 *
 * Made by Alex Kasimov - 2015
 * https://vk.com/al4str
 * Under MIT License
 */
!function(e){"use strict";e.fn.le_window=function(o){var t=e(this),n=function(t){var n={},i=t,s=e(window),l=e("body"),d=e(o.element_id===!0?"#"+i.attr("data-element"):"#"+o.element_id),c=d.find(".close-button"),h=e('<div class="le-window-content"></div>'),r=isMobile;return"object"!=typeof d[0]?(console.log("$element is not defined for $button:"),console.log(i),console.log("\r\n"),!1):(n.options={element_id:"",before_open:function(){return!1},after_open:function(){return!1},before_close:function(){return!1},after_close:function(){return!1}},n.get_elements_size=function(){var e,o,t=d.css("position"),n=d.css("z-index"),i=d.css("left"),c=d.parent();return d.css({position:"absolute",left:-1*s.width(),zIndex:-10}),d.appendTo(l),e=d.outerWidth(),o=d.outerHeight(),d.css({position:t,left:i,zIndex:n}),d.appendTo(c),{width:e,height:o}},n.show_overlay=function(o){var t=l.children(".le-window-overlay").eq(0),i=e('<div class="le-window-overlay"></div>');0==t.length&&(t=i.appendTo(l)),o?(t.css({height:l.outerHeight()}),t.addClass("show")):t.removeClass("show"),r.phone||t.on("click",function(){n.close()})},n.margin_right=function(){var e,o,t=0,n=l.css("overflow-y"),i="hidden"==n?"scroll":"hidden";return e=l.outerWidth(),l.css({"overflow-y":i}),o=l.outerWidth(),o!=e&&(t=o-e),l.css({"overflow-y":n}),0>t?-1*t:t},n.initiate=function(){e.extend(n.options,o),n.opened=!1,h.appendTo(l),n.element_width=n.get_elements_size().width,n.element_height=n.get_elements_size().height},n.close=function(){n.options.before_close(i,d),n.opened=!1,l.addClass("disable-hover"),d.addClass("close-animation"),h.removeClass("opened"),i.removeClass("opened"),h.css({left:i.offset().left,top:i.offset().top,width:i.outerWidth(),height:i.outerHeight()}),setTimeout(function(){h.removeClass("active"),i.removeClass("active"),n.show_overlay(!1),d.removeClass("close-animation"),l.removeClass("disable-hover"),n.options.after_close(i,d)},500)},n.open=function(){var e=s.height()/2-n.element_height/2;s.height()-40<=n.element_height&&(e=40),n.options.before_open(i,d),n.element_width=n.get_elements_size().width,n.element_height=n.get_elements_size().height,n.opened=!0,l.addClass("disable-hover"),n.show_overlay(!0),h.addClass("active"),i.addClass("active"),h.addClass("no-transition"),d.appendTo(h),h.css({left:i.offset().left,top:i.offset().top,width:i.outerWidth(),height:i.outerHeight()}),h.removeClass("no-transition"),setTimeout(function(){h.addClass("opened"),i.addClass("opened"),r.phone?(h.css({left:0,top:s.scrollTop(),width:"100vw",height:n.element_height}),d.css({width:"100%",height:"100%"})):h.css({left:s.width()/2-n.element_width/2,top:e+s.scrollTop(),width:n.element_width,height:n.element_height}),setTimeout(function(){d.removeClass("close-animation"),l.removeClass("disable-hover"),n.options.after_open(i,d)},500)},50)},d.on("close_window",function(){n.close()}),i.on("click",function(){n.open()}),c.on("click",function(){n.close()}),e(document).on("keydown",function(e){27==e.keyCode&&n.close()}),n.initiate(),i)};return t.each(function(){"object"!=typeof e(this)[0]?(console.log("$button is not defined"),console.log("\r\n")):n(e(this))})}}(jQuery);
