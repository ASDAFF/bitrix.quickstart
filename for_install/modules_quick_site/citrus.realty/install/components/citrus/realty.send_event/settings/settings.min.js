function OnCitrusSendEventSettingsEdit(a){if(null!=window.jsCSESettingsOpener){try{window.jsCSESettingsOpener.Close()}catch(b){}window.jsCSESettingsOpener=null}window.jsCSESettingsOpener=new JCEditorOpener(a)}function JCEditorOpener(b){this.jsOptions=b.data.split("||");this.arParams=b;var a=document.createElement("BUTTON");this.arParams.oCont.appendChild(a);a.innerHTML=this.jsOptions[1];a.onclick=BX.delegate(this.btnClick,this);this.saveData=BX.delegate(this.__saveData,this)}JCEditorOpener.prototype.Close=function(a){if(false!==a){BX.PreventDefault(a)}if(null!=window.jsPopup_CitrusSendEventForm){window.jsPopup_CitrusSendEventForm.Close()}};JCEditorOpener.prototype.btnClick=function(){this.arElements=this.arParams.getElements();if(!this.arElements){return false}if(window.jsPopup_CitrusSendEventForm){window.jsPopup_CitrusSendEventForm.DIV.parentNode.removeChild(window.jsPopup_CitrusSendEventForm.DIV)}var a="/bitrix/components/citrus/realty.send_event/settings/settings.php?lang="+this.jsOptions[0]+"&event="+BX.util.urlencode(this.arElements.EVENT_TYPE.value);strUrlPost="DATA="+BX.util.urlencode(this.arParams.oInput.value);window.jsPopup_CitrusSendEventForm=new BX.CDialog({content_url:a,content_post:strUrlPost,width:800,height:500,resizable:false});window.jsPopup_CitrusSendEventForm.Show();window.jsPopup_CitrusSendEventForm.PARAMS.content_url="";return false};JCEditorOpener.prototype.__saveData=function(a){this.arParams.oInput.value=a;if(null!=this.arParams.oInput.onchange){this.arParams.oInput.onchange()}this.Close(false)};