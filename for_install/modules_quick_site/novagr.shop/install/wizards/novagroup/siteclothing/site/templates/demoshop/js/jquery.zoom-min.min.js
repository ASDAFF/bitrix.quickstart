(function(b){var a={url:!1,callback:!1,target:!1,duration:120,on:"mouseover"};b.zoom=function(p,g,j){var h,o,l,m,f,k=b(p).css("position");return b(p).css({position:/(absolute|fixed)/.test()?k:"relative",overflow:"hidden"}),b(j).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:j.width,height:j.height,border:"none",maxWidth:"none"}).appendTo(p),{init:function(){h=b(p).outerWidth(),o=b(p).outerHeight(),l=(j.width-h)/b(g).outerWidth(),m=(j.height-o)/b(g).outerHeight(),f=b(g).offset()},move:function(d){var c=d.pageX-f.left,e=d.pageY-f.top;e=Math.max(Math.min(e,o),0),c=Math.max(Math.min(c,h),0),j.style.left=c*-l+"px",j.style.top=e*-m+"px"}}},b.fn.zoom=function(c){return this.each(function(){var k=b.extend({},a,c||{}),h=k.target||this,g=this,m=new Image,f=b(m),j="mousemove",l=!1;(k.url||(k.url=b(g).find("img").attr("src"),k.url))&&(m.onload=function(){function e(n){d.init(),d.move(n),f.stop().fadeTo(b.support.opacity?k.duration:0,1)}function i(){f.stop().fadeTo(k.duration,0)}var d=b.zoom(h,g,m);"grab"===k.on?b(g).mousedown(function(n){b(document).one("mouseup",function(){i(),b(document).unbind(j,d.move)}),e(n),b(document)[j](d.move),n.preventDefault()}):"click"===k.on?b(g).click(function(n){return l?void 0:(l=!0,e(n),b(document)[j](d.move),b(document).one("click",function(){i(),l=!1,b(document).unbind(j,d.move)}),!1)}):"toggle"===k.on?b(g).click(function(n){l?i():e(n),l=!l}):(d.init(),b(g).hover(e,i)[j](d.move)),b.isFunction(k.callback)&&k.callback.call(m)},m.src=k.url)})},b.fn.zoom.defaults=a})(window.jQuery);