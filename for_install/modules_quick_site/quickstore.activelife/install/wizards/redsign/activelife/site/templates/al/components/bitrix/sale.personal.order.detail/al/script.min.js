BX.namespace("BX.Sale.PersonalOrderComponent");(function(){BX.Sale.PersonalOrderComponent.PersonalOrderDetail={init:function(g){var d=document.getElementsByClassName("sale-order-detail-about-order-inner-container-name-read-more")[0];var c=document.getElementsByClassName("sale-order-detail-about-order-inner-container-name-read-less")[0];var f=document.getElementsByClassName("sale-order-detail-about-order-inner-container-details")[0];var e=document.getElementsByClassName("sale-order-detail-payment-options-shipment");var b=document.getElementsByClassName("sale-order-detail-payment-options-methods");var a=document.getElementsByClassName("sale-order-detail-shipment-id");if(a[0]){Array.prototype.forEach.call(a,function(h){var i=h.parentNode.getElementsByClassName("sale-order-detail-shipment-id-icon")[0];if(i){BX.clipboard.bindCopyClick(i,{text:h.innerHTML})}})}BX.bind(d,"click",function(){f.style.display="inline-block";d.style.display="none";c.style.display="inline-block"},this);BX.bind(c,"click",function(){f.style.display="none";d.style.display="inline-block";c.style.display="none"},this);Array.prototype.forEach.call(e,function(k){var j=k.getElementsByClassName("sale-order-detail-payment-options-shipment-composition-map")[0];var h=k.getElementsByClassName("sale-order-detail-show-link")[0];var i=k.getElementsByClassName("sale-order-detail-hide-link")[0];BX.bindDelegate(k,"click",{"class":"sale-order-detail-show-link"},BX.proxy(function(){h.style.display="none";i.style.display="inline-block";j.style.display="block"},this));BX.bindDelegate(k,"click",{"class":"sale-order-detail-hide-link"},BX.proxy(function(){h.style.display="inline-block";i.style.display="none";j.style.display="none"},this))});Array.prototype.forEach.call(b,function(h){var i=h.getElementsByClassName("sale-order-detail-payment-options-methods-info")[0];BX.bindDelegate(h,"click",{"class":"active-button"},BX.proxy(function(){BX.toggleClass(h,"sale-order-detail-active-event")},this));BX.bindDelegate(i,"click",{"class":"sale-order-detail-payment-options-methods-info-change-link"},BX.proxy(function(l){l.preventDefault();var j=i.parentNode.getElementsByClassName("sale-order-detail-payment-options-methods-button-container")[0];var k=i.parentNode.getElementsByClassName("sale-order-detail-payment-inner-row-template")[0];BX.ajax({method:"POST",dataType:"html",url:g.url,data:{sessid:BX.bitrix_sessid(),orderData:g.paymentList[l.target.id]},onsuccess:BX.proxy(function(m){i.innerHTML=m;if(j){j.parentNode.removeChild(j)}k.style.display="block";BX.bind(k,"click",function(){window.location.reload()},this)},this),onfailure:BX.proxy(function(){return this},this)},this)},this))})}}})();