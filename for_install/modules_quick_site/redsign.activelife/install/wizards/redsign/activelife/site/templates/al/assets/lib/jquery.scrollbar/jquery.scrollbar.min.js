(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{b(a.jQuery)}}(this,function(d){var a=false;var e={data:{index:0,name:"scrollbar"},firefox:/firefox/i.test(navigator.userAgent),macosx:/mac/i.test(navigator.platform),msie:/(msie|trident)/i.test(navigator.userAgent),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};e.scrolls.add=function(k){this.remove(k).push(k)};e.scrolls.remove=function(k){while(d.inArray(k,this)>=0){this.splice(d.inArray(k,this),1)}return this};var c={autoScrollSize:true,autoUpdate:true,debug:false,disableBodyScroll:false,duration:200,ignoreMobile:false,ignoreOverlay:false,isRtl:false,scrollStep:30,showArrows:false,stepScrolling:true,scrollx:null,scrolly:null,onDestroy:null,onFallback:null,onInit:null,onScroll:null,onUpdate:null};var f=function(k){if(!e.scroll){e.overlay=b();e.scroll=j();g();d(window).resize(function(){var m=false;if(e.scroll&&(e.scroll.height||e.scroll.width)){var l=j();if(l.height!==e.scroll.height||l.width!==e.scroll.width){e.scroll=l;m=true}}g(m)})}this.container=k;this.namespace=".scrollbar_"+e.data.index++;this.options=d.extend({},c,window.jQueryScrollbarOptions||{});this.scrollTo=null;this.scrollx={};this.scrolly={};k.data(e.data.name,this);e.scrolls.add(this)};f.prototype={destroy:function(){if(!this.wrapper){return}this.container.removeData(e.data.name);e.scrolls.remove(this);var l=this.container.scrollLeft();var k=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(l).scrollTop(k);this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").andSelf().off(this.namespace);this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").andSelf().off(this.namespace);this.wrapper.remove();d(document).add("body").off(this.namespace);if(d.isFunction(this.options.onDestroy)){this.options.onDestroy.apply(this,[this.container])}},init:function(x){var n=this,q=this.container,p=this.containerWrapper||q,l=this.namespace,k=d.extend(this.options,x||{}),v={x:this.scrollx,y:this.scrolly},r=this.wrapper,m={};var t={scrollLeft:q.scrollLeft(),scrollTop:q.scrollTop()};if((e.mobile&&k.ignoreMobile)||(e.overlay&&k.ignoreOverlay)||(e.macosx&&!e.webkit)){if(d.isFunction(k.onFallback)){k.onFallback.apply(this,[q])}return false}if(!r){this.wrapper=r=d("<div>").addClass("scroll-wrapper").addClass(q.attr("class")).css("position",q.css("position")==="absolute"?"absolute":"relative").insertBefore(q).append(q);if(k.isRtl){r.addClass("scroll--rtl")}if(q.is("textarea")){this.containerWrapper=p=d("<div>").insertBefore(q).append(q);r.addClass("scroll-textarea")}m={height:"auto","margin-bottom":e.scroll.height*-1+"px","max-height":""};m[k.isRtl?"margin-left":"margin-right"]=e.scroll.width*-1+"px";p.addClass("scroll-content").css(m);q.on("scroll"+l,function(o){var w=q.scrollLeft();var s=q.scrollTop();if(k.isRtl){switch(true){case e.firefox:w=Math.abs(w);case e.msie:w=q[0].scrollWidth-q[0].clientWidth-w;break}}if(d.isFunction(k.onScroll)){k.onScroll.call(n,{maxScroll:v.y.maxScrollOffset,scroll:s,size:v.y.size,visible:v.y.visible},{maxScroll:v.x.maxScrollOffset,scroll:w,size:v.x.size,visible:v.x.visible})}v.x.isVisible&&v.x.scroll.bar.css("left",w*v.x.kx+"px");v.y.isVisible&&v.y.scroll.bar.css("top",s*v.y.kx+"px")});r.on("scroll"+l,function(){r.scrollTop(0).scrollLeft(0)});if(k.disableBodyScroll){var u=function(o){h(o)?v.y.isVisible&&v.y.mousewheel(o):v.x.isVisible&&v.x.mousewheel(o)};r.on("MozMousePixelScroll"+l,u);r.on("mousewheel"+l,u);if(e.mobile){r.on("touchstart"+l,function(s){var y=s.originalEvent.touches&&s.originalEvent.touches[0]||s;var o={pageX:y.pageX,pageY:y.pageY};var w={left:q.scrollLeft(),top:q.scrollTop()};d(document).on("touchmove"+l,function(z){var A=z.originalEvent.targetTouches&&z.originalEvent.targetTouches[0]||z;q.scrollLeft(w.left+o.pageX-A.pageX);q.scrollTop(w.top+o.pageY-A.pageY);z.preventDefault()});d(document).on("touchend"+l,function(){d(document).off(l)})})}}if(d.isFunction(k.onInit)){k.onInit.apply(this,[q])}}else{m={height:"auto","margin-bottom":e.scroll.height*-1+"px","max-height":""};m[k.isRtl?"margin-left":"margin-right"]=e.scroll.width*-1+"px";p.css(m)}d.each(v,function(B,C){var w=null;var A=1;var s=(B==="x")?"scrollLeft":"scrollTop";var z=k.scrollStep;var o=function(){var D=q[s]();q[s](D+z);if(A==1&&(D+z)>=y){D=q[s]()}if(A==-1&&(D+z)<=y){D=q[s]()}if(q[s]()==D&&w){w()}};var y=0;if(!C.scroll){C.scroll=n._getScroll(k["scroll"+B]).addClass("scroll-"+B);if(k.showArrows){C.scroll.addClass("scroll-element_arrows_visible")}C.mousewheel=function(E){if(!C.isVisible||(B==="x"&&h(E))){return true}if(B==="y"&&!h(E)){v.x.mousewheel(E);return true}var F=E.originalEvent.wheelDelta*-1||E.originalEvent.detail;var D=C.size-C.visible-C.offset;if(!F){if(B==="x"&&!!E.originalEvent.deltaX){F=E.originalEvent.deltaX*40}else{if(B==="y"&&!!E.originalEvent.deltaY){F=E.originalEvent.deltaY*40}}}if((F>0&&y<D)||(F<0&&y>0)){y=y+F;if(y<0){y=0}if(y>D){y=D}n.scrollTo=n.scrollTo||{};n.scrollTo[s]=y;setTimeout(function(){if(n.scrollTo){q.stop().animate(n.scrollTo,240,"linear",function(){y=q[s]()});n.scrollTo=null}},1)}E.preventDefault();return false};C.scroll.on("MozMousePixelScroll"+l,C.mousewheel).on("mousewheel"+l,C.mousewheel).on("mouseenter"+l,function(){y=q[s]()});C.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+l,function(D){if(D.which!=1){return true}A=1;var F={eventOffset:D[(B==="x")?"pageX":"pageY"],maxScrollValue:C.size-C.visible-C.offset,scrollbarOffset:C.scroll.bar.offset()[(B==="x")?"left":"top"],scrollbarSize:C.scroll.bar[(B==="x")?"outerWidth":"outerHeight"]()};var E=0,G=0;if(d(this).hasClass("scroll-arrow")){A=d(this).hasClass("scroll-arrow_more")?1:-1;z=k.scrollStep*A;y=A>0?F.maxScrollValue:0}else{A=(F.eventOffset>(F.scrollbarOffset+F.scrollbarSize)?1:(F.eventOffset<F.scrollbarOffset?-1:0));z=Math.round(C.visible*0.75)*A;y=(F.eventOffset-F.scrollbarOffset-(k.stepScrolling?(A==1?F.scrollbarSize:0):Math.round(F.scrollbarSize/2)));y=q[s]()+(y/C.kx)}n.scrollTo=n.scrollTo||{};n.scrollTo[s]=k.stepScrolling?q[s]()+z:y;if(k.stepScrolling){w=function(){y=q[s]();clearInterval(G);clearTimeout(E);E=0;G=0};E=setTimeout(function(){G=setInterval(o,40)},k.duration+100)}setTimeout(function(){if(n.scrollTo){q.animate(n.scrollTo,k.duration);n.scrollTo=null}},1);return n._handleMouseDown(w,D)});C.scroll.bar.on("mousedown"+l,function(E){if(E.which!=1){return true}var D=E[(B==="x")?"pageX":"pageY"];var F=q[s]();C.scroll.addClass("scroll-draggable");d(document).on("mousemove"+l,function(G){var H=parseInt((G[(B==="x")?"pageX":"pageY"]-D)/C.kx,10);if(B==="x"&&k.isRtl&&e.msie){H=H*-1}q[s](F+H)});return n._handleMouseDown(function(){C.scroll.removeClass("scroll-draggable");y=q[s]()},E)})}});d.each(v,function(w,y){var o="scroll-scroll"+w+"_visible";var s=(w=="x")?v.y:v.x;y.scroll.removeClass(o);s.scroll.removeClass(o);p.removeClass(o)});d.each(v,function(o,s){d.extend(s,(o=="x")?{offset:parseInt(q.css("left"),10)||0,size:q.prop("scrollWidth"),visible:r.width()}:{offset:parseInt(q.css("top"),10)||0,size:q.prop("scrollHeight"),visible:r.height()})});this._updateScroll("x",this.scrollx);this._updateScroll("y",this.scrolly);if(d.isFunction(k.onUpdate)){k.onUpdate.apply(this,[q])}d.each(v,function(C,B){var w=(C==="x")?"left":"top";var s=(C==="x")?"outerWidth":"outerHeight";var z=(C==="x")?"width":"height";var A=parseInt(q.css(w),10)||0;var y=B.size;var D=B.visible+A;var o=B.scroll.size[s]()+(parseInt(B.scroll.size.css(w),10)||0);if(k.autoScrollSize){B.scrollbarSize=parseInt(o*D/y,10);B.scroll.bar.css(z,B.scrollbarSize+"px")}B.scrollbarSize=B.scroll.bar[s]();B.kx=((o-B.scrollbarSize)/(y-D))||1;B.maxScrollOffset=y-D});q.scrollLeft(t.scrollLeft).scrollTop(t.scrollTop).trigger("scroll")},_getScroll:function(k){var l={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};if(l[k]){k=l[k]}if(!k){k=l.simple}if(typeof(k)=="string"){k=d(k).appendTo(this.wrapper)}else{k=d(k)}d.extend(k,{bar:k.find(".scroll-bar"),size:k.find(".scroll-element_size"),track:k.find(".scroll-element_track")});return k},_handleMouseDown:function(m,l){var k=this.namespace;d(document).on("blur"+k,function(){d(document).add("body").off(k);m&&m()});d(document).on("dragstart"+k,function(n){n.preventDefault();return false});d(document).on("mouseup"+k,function(){d(document).add("body").off(k);m&&m()});d("body").on("selectstart"+k,function(n){n.preventDefault();return false});l&&l.preventDefault();return false},_updateScroll:function(q,p){var l=this.container,r=this.containerWrapper||l,s="scroll-scroll"+q+"_visible",o=(q==="x")?this.scrolly:this.scrollx,n=parseInt(this.container.css((q==="x")?"left":"top"),10)||0,k=this.wrapper;var m=p.size;var t=p.visible+n;p.isVisible=(m-t)>1;if(p.isVisible){p.scroll.addClass(s);o.scroll.addClass(s);r.addClass(s)}else{p.scroll.removeClass(s);o.scroll.removeClass(s);r.removeClass(s)}if(q==="y"){if(l.is("textarea")||m<t){r.css({height:(t+e.scroll.height)+"px","max-height":"none"})}else{r.css({"max-height":(t+e.scroll.height)+"px"})}}if(p.size!=l.prop("scrollWidth")||o.size!=l.prop("scrollHeight")||p.visible!=k.width()||o.visible!=k.height()||p.offset!=(parseInt(l.css("left"),10)||0)||o.offset!=(parseInt(l.css("top"),10)||0)){d.extend(this.scrollx,{offset:parseInt(l.css("left"),10)||0,size:l.prop("scrollWidth"),visible:k.width()});d.extend(this.scrolly,{offset:parseInt(l.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:k.height()});this._updateScroll(q==="x"?"y":"x",o)}}};var i=f;d.fn.scrollbar=function(l,k){if(typeof l!=="string"){k=l;l="init"}if(typeof k==="undefined"){k=[]}if(!d.isArray(k)){k=[k]}this.not("body, .scroll-wrapper").each(function(){var n=d(this),m=n.data(e.data.name);if(m||l==="init"){if(!m){m=new i(n)}if(m[l]){m[l].apply(m,k)}}});return this};d.fn.scrollbar.options=c;var g=(function(){var l=0,k=0;return function(q){var p,n,o,m,t,s,r;for(p=0;p<e.scrolls.length;p++){m=e.scrolls[p];n=m.container;o=m.options;t=m.wrapper;s=m.scrollx;r=m.scrolly;if(q||(o.autoUpdate&&t&&t.is(":visible")&&(n.prop("scrollWidth")!=s.size||n.prop("scrollHeight")!=r.size||t.width()!=s.visible||t.height()!=r.visible))){m.init();if(o.debug){window.console&&console.log({scrollHeight:n.prop("scrollHeight")+":"+m.scrolly.size,scrollWidth:n.prop("scrollWidth")+":"+m.scrollx.size,visibleHeight:t.height()+":"+m.scrolly.visible,visibleWidth:t.width()+":"+m.scrollx.visible},true);k++}}}if(a&&k>10){window.console&&console.log("Scroll updates exceed 10");g=function(){}}else{clearTimeout(l);l=setTimeout(g,300)}}})();function j(l){if(e.webkit&&!l){return{height:0,width:0}}if(!e.data.outer){var k={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};e.data.inner=d("<div>").css(d.extend({},k));e.data.outer=d("<div>").css(d.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},k)).append(e.data.inner).appendTo("body")}e.data.outer.scrollLeft(1000).scrollTop(1000);return{height:Math.ceil((e.data.outer.offset().top-e.data.inner.offset().top)||0),width:Math.ceil((e.data.outer.offset().left-e.data.inner.offset().left)||0)}}function b(){var k=j(true);return !(k.height||k.width)}function h(k){var l=k.originalEvent;if(l.axis&&l.axis===l.HORIZONTAL_AXIS){return false}if(l.wheelDeltaX){return false}return true}if(window.angular){(function(k){k.module("jQueryScrollbar",[]).provider("jQueryScrollbar",function(){var l=c;return{setOptions:function(m){k.extend(l,m)},$get:function(){return{options:k.copy(l)}}}}).directive("jqueryScrollbar",["jQueryScrollbar","$parse",function(m,l){return{restrict:"AC",link:function(r,q,p){var o=l(p.jqueryScrollbar),n=o(r);q.scrollbar(n||m.options).on("$destroy",function(){q.scrollbar("destroy")})}}}])})(window.angular)}}));