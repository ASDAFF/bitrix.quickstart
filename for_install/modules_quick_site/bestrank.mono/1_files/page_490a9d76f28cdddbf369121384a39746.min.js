var Opener={btn:null,box:null,content:null,duration:400,init:function(a,c,b){this.btn=BX(a);this.box=BX(c);this.content=BX(b);BX.bind(this.btn,"click",BX.proxy(function(){this.btn.style.display="none";var d=this;(new BX.easing({duration:this.duration,start:{minHeight:this.box.offsetHeight},finish:{minHeight:this.content.offsetHeight},transition:BX.easing.makeEaseOut(BX.easing.transitions.quart),step:function(e){d.box.style.minHeight=e.minHeight+"px"}})).animate()},this))}};var changePrice;BX.ready(function(){changePrice=function(e){var f=e;b.innerHTML=bndl_price["prd"+f];if(a!=null){a.innerHTML=bndl_price["prd"+f+"old"]}d.dataset.module=c.replace(/&PRD=[0-9]+/,"")+(f!="0"?"&PRD="+f:"")};var d=BX("buy_bndl_btn");if(d!=null){var c=d.dataset.module}var b=BX("total_bndl_sum");var a=BX("total_bndl_sum_old");BX.bind(BX("bundles"),"change",function(){console.log("1");changePrice(this.value)})});function Answer(b,a){BX("discuss-form-btn").click();BX("module_COMMENT").value=a+", ";BX("id_com").value=b}var enterUrlWindow={form_window:null,form_window_id:"enter-site-url",login_field_id:"enterURL",ShowLoginForm:function(c){if(!this.form_window){this.form_window=document.getElementById(this.form_window_id);if(!this.form_window){return false}try{document.body.appendChild(this.form_window)}catch(f){}}authFormWindow.CreateOverlay();if(authFormWindow.overlay){authFormWindow.overlay.onclick=function(){enterUrlWindow.CloseLoginForm()}}this.form_window.style.display="block";var b=jsUtils.GetWindowSize();var d=BX.pos(c);this.form_window.style.left=d.left+c.offsetWidth*0.6-this.form_window.offsetWidth*0.5+"px";this.form_window.style.top=d.top+c.offsetHeight*0.2-this.form_window.offsetHeight-12+"px";var a=document.getElementById(this.login_field_id);if(a){a.focus();a.select()}return false},CloseLoginForm:function(){authFormWindow.CloseLoginForm();if(this.form_window){this.form_window.style.display="none"}return false},GetWindowScrollSize:function(c){var b,a;if(!c){c=document}if((c.compatMode&&c.compatMode=="CSS1Compat")){b=c.documentElement.scrollWidth;a=c.documentElement.scrollHeight}else{if(c.body.scrollHeight>c.body.offsetHeight){a=c.body.scrollHeight}else{a=c.body.offsetHeight}if(c.body.scrollWidth>c.body.offsetWidth||(c.compatMode&&c.compatMode=="BackCompat")||(c.documentElement&&!c.documentElement.clientWidth)){b=c.body.scrollWidth}else{b=c.body.offsetWidth}}return{scrollWidth:b,scrollHeight:a}}};var enterURL1="";function AddModuleEx(){enterU=document.getElementById("enterURL").value;var b=document.getElementById("module").value;if(enterU){var a=enterU+"/bitrix/admin/update_system_partner.php?addmodule=#MODULE#";a=a.replace("#MODULE#",b);window.open(a);enterUrlWindow.CloseLoginForm()}}function expand(a){BX.findParent(BX.findParent(a)).style.maxHeight="none";a.style.display="none"}var imagesSlider=function(d){this.slide_move_left=function(k){i=true;BX.PreventDefault(k);if(a==(b.length-3)){return false}else{a=a+1}if(!h&&a<b.length){return this.view_slide(a)}else{a=a-1;return false}};this.slide_move_right=function(k){i=true;BX.PreventDefault(k);if(a==0){return false}else{a=a-1}if(!h&&a>=0){this.view_slide(a)}else{a=a+1;return false}};this.view_slide=function(k){var m=parseFloat(c.style.left.replace("%",""),10);var l=-1*k*e;if(h){return false}h=true;if(m<=f&&m>=g){j=l;(new BX.easing({duration:400,start:{left:m},finish:{left:l},transition:BX.easing.makeEaseOut(BX.easing.transitions.linear),step:function(n){c.style.left=n.left+"%"},complete:function(){h=false;c.style.left=-1*a*e+"%"}})).animate();return true}return false};this.pageClick=function(k,l){return function(m){BX.PreventDefault(m);if(!h){a=k;this.view_slide(k);i=true}}};var a=0;var e=33.33333;var c=BX("imagesSlider_"+d);var b=BX.findChildren(c,{tagName:"LI"});var f=e;var g=-1*(b.length+1)*e;var i=false;var j=0;var h=false;BX.bind(BX("imagesSliderLeft_"+d),"click",BX.delegate(this.slide_move_right,this));BX.bind(BX("imagesSliderRight_"+d),"click",BX.delegate(this.slide_move_left,this))};var buyModuleWindow={form_window:null,form_title:null,module_name:"",form_window_id:"buy-module",BuyModule:function(a){if(!this.form_window){this.form_window=document.getElementById(this.form_window_id);if(!this.form_window){return false}try{document.body.appendChild(this.form_window);this.form_title=this.form_window.getElementsByClassName("buying-title")[0]}catch(c){}}this.form_window.style.display="block";var b=BX.pos(a);this.form_window.style.left=b.left+a.offsetWidth*0.6-this.form_window.offsetWidth*0.5+"px";this.form_window.style.top=b.top+a.offsetHeight*0.2-this.form_window.offsetHeight-12+"px";this.module_name=a.dataset.module;BX.ajax({method:"GET",url:"/tobasket.php?ID="+this.module_name,dataType:"html",data:{},onsuccess:function(d){},onfailure:function(d){}});return false},CloseWindow:function(){if(this.form_window){this.form_window.style.display="none"}return false}};function AddModuleToBasket(a){}function ShowMoreModules(a){var b=BX("other-modules").getElementsByClassName("modules-wrap")[0];if(b!=null){b.style.maxHeight=b.scrollHeight+"px";a.style.opacity=0;setTimeout(function(){BX.removeClass(BX("other-modules"),"hidden-other");a.parentNode.parentNode.removeChild(a.parentNode)},300)}}function setRecommend(a,b){var d=BX.cookie_prefix+"_RCM_PRODUCT_LOG";var h=getCookie(d);var f=false;var j=[],g;if(h){j=h.split(".")}var e=j.length;while(e--){g=j[e].split("-");if(g[0]==b){g=j[e].split("-");g[1]=a;g[2]=BX.current_server_time;j[e]=g.join("-");f=true}else{if((BX.current_server_time-g[2])>3600*24*30){j.splice(e,1)}}}if(!f){j.push([b,a,BX.current_server_time].join("-"))}var c=j.join(".");var k=new Date(new Date().getTime()+1000*3600*24*365*10);document.cookie=d+"="+c+"; path=/; expires="+k.toUTCString()+"; domain="+BX.cookie_domain}function getCookie(a){var b=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return b?decodeURIComponent(b[1]):undefined}function bx_rcm_get_from_cloud(d,f,c){var b="https://analytics.bitrix.info/crecoms/v1_0/recoms.php";var e=BX.ajax.prepareData(f);if(e){b+=(b.indexOf("?")!==-1?"&":"?")+e;e=""}var a=function(g){if(g!="timeout"){if(!g.items){g.items=[]}else{BX.ajax({url:"/bitrix/components/bx/marketplace.bigdata.products/ajax.php?"+BX.ajax.prepareData({AJAX_ITEMS:g.items,RID:g.id}),method:"POST",data:c,dataType:"html",processData:false,start:true,onsuccess:function(i){var h=BX.processHTML(i);BX(d).innerHTML=h.HTML;BX.ajax.processScripts(h.SCRIPT)}})}}};BX.ajax({method:"GET",dataType:"json",url:b,timeout:3,onsuccess:a,onfailure:a})};