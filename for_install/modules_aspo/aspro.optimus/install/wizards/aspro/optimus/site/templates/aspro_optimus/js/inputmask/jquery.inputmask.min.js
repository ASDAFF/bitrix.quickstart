(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(d){if(d.fn.inputmask===undefined){function l(n){var p=document.createElement("input"),n="on"+n,o=(n in p);if(!o){p.setAttribute(n,"return;");o=typeof p[n]=="function"}p=null;return o}function f(o,p,q){var n=q.aliases[o];if(n){if(n.alias){f(n.alias,undefined,q)}d.extend(true,q,n);d.extend(true,q,p);return true}return false}function b(r,s){var n=[];function q(K){var E=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,B=false;function x(S,Q,R,P){this.matches=[];this.isGroup=S||false;this.isOptional=Q||false;this.isQuantifier=R||false;this.isAlternator=P||false;this.quantifier={min:1,max:1}}function u(X,S,U){var Q=r.definitions[S];var R=X.matches.length==0;U=U!=undefined?U:X.matches.length;if(Q&&!B){var W=Q.prevalidator,Z=W?W.length:0;for(var T=1;T<Q.cardinality;T++){var Y=Z>=T?W[T-1]:[],P=Y.validator,V=Y.cardinality;X.matches.splice(U++,0,{fn:P?typeof P=="string"?new RegExp(P):new function(){this.test=P}:new RegExp("."),cardinality:V?V:1,optionality:X.isOptional,newBlockMarker:R,casing:Q.casing,def:Q.definitionSymbol||S,placeholder:Q.placeholder,mask:S})}X.matches.splice(U++,0,{fn:Q.validator?typeof Q.validator=="string"?new RegExp(Q.validator):new function(){this.test=Q.validator}:new RegExp("."),cardinality:Q.cardinality,optionality:X.isOptional,newBlockMarker:R,casing:Q.casing,def:Q.definitionSymbol||S,placeholder:Q.placeholder,mask:S})}else{X.matches.splice(U++,0,{fn:null,cardinality:0,optionality:X.isOptional,newBlockMarker:R,casing:null,def:S,placeholder:undefined,mask:S});B=false}}var w=new x(),C,G,O=[],z=[],A,L,N,M;while(C=E.exec(K)){G=C[0];switch(G.charAt(0)){case r.optionalmarker.end:case r.groupmarker.end:A=O.pop();if(O.length>0){L=O[O.length-1];L.matches.push(A);if(L.isAlternator){N=O.pop();for(var D=0;D<N.matches.length;D++){N.matches[D].isGroup=false}if(O.length>0){L=O[O.length-1];L.matches.push(N)}else{w.matches.push(N)}}}else{w.matches.push(A)}break;case r.optionalmarker.start:O.push(new x(false,true));break;case r.groupmarker.start:O.push(new x(true));break;case r.quantifiermarker.start:var F=new x(false,false,true);G=G.replace(/[{}]/g,"");var H=G.split(","),J=isNaN(H[0])?H[0]:parseInt(H[0]),I=H.length==1?J:(isNaN(H[1])?H[1]:parseInt(H[1]));if(I=="*"||I=="+"){J=I=="*"?0:1}F.quantifier={min:J,max:I};if(O.length>0){var v=O[O.length-1]["matches"];C=v.pop();if(!C.isGroup){var y=new x(true);y.matches.push(C);C=y}v.push(C);v.push(F)}else{C=w.matches.pop();if(!C.isGroup){var y=new x(true);y.matches.push(C);C=y}w.matches.push(C);w.matches.push(F)}break;case r.escapeChar:B=true;break;case r.alternatormarker:if(O.length>0){L=O[O.length-1];M=L.matches.pop()}else{M=w.matches.pop()}if(M.isAlternator){O.push(M)}else{N=new x(false,false,false,true);N.matches.push(M);O.push(N)}break;default:if(O.length>0){L=O[O.length-1];if(L.matches.length>0){M=L.matches[L.matches.length-1];if(M.isGroup){M.isGroup=false;u(M,r.groupmarker.start,0);u(M,r.groupmarker.end)}}u(L,G);if(L.isAlternator){N=O.pop();for(var D=0;D<N.matches.length;D++){N.matches[D].isGroup=false}if(O.length>0){L=O[O.length-1];L.matches.push(N)}else{w.matches.push(N)}}}else{if(w.matches.length>0){M=w.matches[w.matches.length-1];if(M.isGroup){M.isGroup=false;u(M,r.groupmarker.start,0);u(M,r.groupmarker.end)}}u(w,G)}}}if(w.matches.length>0){M=w.matches[w.matches.length-1];if(M.isGroup){M.isGroup=false;u(M,r.groupmarker.start,0);u(M,r.groupmarker.end)}z.push(w)}return z}function p(u,w){if(r.numericInput&&r.multi!==true){u=u.split("").reverse();for(var v=0;v<u.length;v++){if(u[v]==r.optionalmarker.start){u[v]=r.optionalmarker.end}else{if(u[v]==r.optionalmarker.end){u[v]=r.optionalmarker.start}else{if(u[v]==r.groupmarker.start){u[v]=r.groupmarker.end}else{if(u[v]==r.groupmarker.end){u[v]=r.groupmarker.start}}}}}u=u.join("")}if(u==undefined||u==""){return undefined}else{if(r.repeat>0||r.repeat=="*"||r.repeat=="+"){var x=r.repeat=="*"?0:(r.repeat=="+"?1:r.repeat);u=r.groupmarker.start+u+r.groupmarker.end+r.quantifiermarker.start+x+","+r.repeat+r.quantifiermarker.end}if(d.inputmask.masksCache[u]==undefined){d.inputmask.masksCache[u]={mask:u,maskToken:q(u),validPositions:{},_buffer:undefined,buffer:undefined,tests:{},metadata:w}}return d.extend(true,{},d.inputmask.masksCache[u])}}if(d.isFunction(r.mask)){r.mask=r.mask.call(this,r)}if(d.isArray(r.mask)){if(s){d.each(r.mask,function(u,v){if(v.mask!=undefined){n.push(p(v.mask.toString(),v))}else{n.push(p(v.toString()))}})}else{var t=false;var o="(";d.each(r.mask,function(u,v){if(o.length>1){o+=")|("}if(v.mask!=undefined){t=true;o+=v.mask.toString()}else{o+=v.toString()}});o+=")";n=p(o,t?r.mask:undefined)}}else{if(r.mask.length==1&&r.greedy==false&&r.repeat!=0){r.placeholder=""}if(r.mask.mask!=undefined){n=p(r.mask.mask.toString(),r.mask)}else{n=p(r.mask.toString())}}return n}var i=typeof ScriptEngineMajorVersion==="function"?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,a=navigator.userAgent,k=a.match(new RegExp("iphone","i"))!==null,c=a.match(new RegExp("android.*safari.*","i"))!==null,h=a.match(new RegExp("android.*chrome.*","i"))!==null,m=a.match(new RegExp("android.*firefox.*","i"))!==null,j=/Kindle/i.test(a)||/Silk/i.test(a)||/KFTT/i.test(a)||/KFOT/i.test(a)||/KFJWA/i.test(a)||/KFJWI/i.test(a)||/KFSOWI/i.test(a)||/KFTHWA/i.test(a)||/KFTHWI/i.test(a)||/KFAPWA/i.test(a)||/KFAPWI/i.test(a),g=l("paste")?"paste":l("input")?"input":"propertychange";function e(v,C,P){var ah=false,U,af,ab=false,u=false,E=false,w;function ao(aF,aE,ay){aE=aE||0;var az=[],aA,aD=0,aC,aB;do{if(aF===true&&J()["validPositions"][aD]){var ax=J()["validPositions"][aD];aC=ax.match;aA=ax.locator.slice();az.push(aC.fn==null?aC.def:(ay===true?ax.input:aC.placeholder||P.placeholder.charAt(aD%P.placeholder.length)))}else{if(aE>aD){var aw=A(aD,aA,aD-1);aB=aw[0]}else{aB=B(aD,aA,aD-1)}aC=aB.match;aA=aB.locator.slice();az.push(aC.fn==null?aC.def:(aC.placeholder!=undefined?aC.placeholder:P.placeholder.charAt(aD%P.placeholder.length)))}aD++}while((w==undefined||aD-1<w)&&aC.fn!=null||(aC.fn==null&&aC.def!="")||aE>=aD);az.pop();return az}function J(){return C}function L(aw){var ax=J();ax.buffer=undefined;ax.tests={};if(aw!==true){ax._buffer=undefined;ax.validPositions={};ax.p=-1}}function r(ax){var aD=J(),aA=-1,ay=aD.validPositions;if(ax==undefined){ax=-1}var aB=aA,aC=aA;for(var aw in ay){var az=parseInt(aw);if(ax==-1||ay[az]["match"].fn!=null){if(az<ax){aB=az}if(az>=ax){aC=az}}}aA=(ax-aB)>1||aC<ax?aB:aC;return aA}function y(aB,aC,az){if(P.insertMode&&J()["validPositions"][aB]!=undefined&&az==undefined){var aD=d.extend(true,{},J()["validPositions"]),aA=r(),ay;for(ay=aB;ay<=aA;ay++){delete J()["validPositions"][ay]}J()["validPositions"][aB]=aC;var aw=true;for(ay=aB;ay<=aA;ay++){var aE=aD[ay];if(aE!=undefined){var ax=aE.match.fn==null?ay+1:p(ay);if(ak(ax,aE.match.def)){aw=aw&&t(ax,aE.input,true,true)!==false}else{aw=false}}if(!aw){break}}if(!aw){J()["validPositions"]=d.extend(true,{},aD);return false}}else{J()["validPositions"][aB]=aC}return true}function T(aC,aw){var az,ax=aC,aB;for(az=aC;az<aw;az++){delete J()["validPositions"][az]}for(az=aw;az<=r();){var ay=J()["validPositions"][az];var aA=J()["validPositions"][ax];if(ay!=undefined&&aA==undefined){if(ak(ax,ay.match.def)&&t(ax,ay.input,true)!==false){delete J()["validPositions"][az];az++}ax++}else{az++}}aB=r();while(aB>0&&(J()["validPositions"][aB]==undefined||J()["validPositions"][aB].match.fn==null)){delete J()["validPositions"][aB];aB--}L(true)}function B(aC,az,ay){var ax=A(aC,az,ay),aA,aB=r(),aD=J()["validPositions"][aB]||A(0)[0],aw=(aD.alternation!=undefined)?aD.locator[aD.alternation].split(","):[];for(var aE=0;aE<ax.length;aE++){aA=ax[aE];if(P.greedy||((aA.match&&(aA.match.optionality===false||aA.match.newBlockMarker===false)&&aA.match.optionalQuantifier!==true)&&(aD.alternation==undefined||(aA.locator[aD.alternation]!=undefined&&d.inArray(aA.locator[aD.alternation].toString(),aw)==-1)))){break}}return aA}function aa(aw){if(J()["validPositions"][aw]){return J()["validPositions"][aw]["match"]}return A(aw)[0]["match"]}function ak(aA,az){var ay=false,aw=A(aA);for(var ax=0;ax<aw.length;ax++){if(aw[ax]["match"]&&aw[ax]["match"].def==az){ay=true;break}}return ay}function A(aF,az,ay){var aw=J()["maskToken"],aC=az?ay:0,aI=az||[0],aB=[],aH=false;function aG(aO,aL,aN,aJ){function aP(a1,bb,ba){if(aC>10000){alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+J()["mask"]);return true}if(aC==aF&&a1.matches==undefined){aB.push({match:a1,locator:bb.reverse()});return true}else{if(a1.matches!=undefined){if(a1.isGroup&&ba!==true){a1=aP(aO.matches[aM+1],bb);if(a1){return true}}else{if(a1.isOptional){var a4=a1;a1=aG(a1,aL,bb,ba);if(a1){var aR=aB[aB.length-1]["match"];var a7=d.inArray(aR,a4.matches)==0;if(a7){aH=true}aC=aF}}else{if(a1.isAlternator){var aU=a1,aQ=[],aT,aV=aB.slice(),aX=bb.length;var aY=aL.length>0?aL.shift():-1;if(aY==-1||typeof aY=="string"){var bc=aC,a2=aL.slice(),a9;if(typeof aY=="string"){a9=aY.split(",")}for(var a3=0;a3<aU.matches.length;a3++){aB=[];a1=aP(aU.matches[a3],[a3].concat(bb),ba)||a1;aT=aB.slice();aC=bc;aB=[];for(var a8=0;a8<a2.length;a8++){aL[a8]=a2[a8]}for(var a6=0;a6<aT.length;a6++){var a0=aT[a6];for(var a5=0;a5<aQ.length;a5++){var aS=aQ[a5];if(a0.match.mask==aS.match.mask&&(typeof aY!="string"||d.inArray(a0.locator[aX].toString(),a9)!=-1)){aT.splice(a6,1);aS.locator[aX]=aS.locator[aX]+","+a0.locator[aX];aS.alternation=aX;break}}}aQ=aQ.concat(aT)}if(typeof aY=="string"){aQ=d.map(aQ,function(bf,be){if(isFinite(be)){var bg=bf.locator[aX].toString().split(",");var bi;bf.locator[aX]="";for(var bh=0;bh<bg.length;bh++){bi=d.inArray(bg[bh],a9)!=-1;if(bi){if(bf.locator[aX]!=""){bf.locator[aX]+=","}bf.locator[aX]+=bg[bh]}}if(bf.locator[aX]!=""){return bf}}})}aB=aV.concat(aQ);aH=true}else{a1=aP(aU.matches[aY],[aY].concat(bb),ba)}if(a1){return true}}else{if(a1.isQuantifier&&ba!==true){var bd=a1;P.greedy=P.greedy&&isFinite(bd.quantifier.max);for(var aW=(aL.length>0&&ba!==true)?aL.shift():0;(aW<(isNaN(bd.quantifier.max)?aW+1:bd.quantifier.max))&&aC<=aF;aW++){var aZ=aO.matches[d.inArray(bd,aO.matches)-1];a1=aP(aZ,[aW].concat(bb),true);if(a1){var aR=aB[aB.length-1]["match"];aR.optionalQuantifier=aW>(bd.quantifier.min-1);var a7=d.inArray(aR,aZ.matches)==0;if(a7){if(aW>(bd.quantifier.min-1)){aH=true;aC=aF;break}else{return true}}else{return true}}}}else{a1=aG(a1,aL,bb,ba);if(a1){return true}}}}}}else{aC++}}}for(var aM=(aL.length>0?aL.shift():0);aM<aO.matches.length;aM++){if(aO.matches[aM]["isQuantifier"]!==true){var aK=aP(aO.matches[aM],[aM].concat(aN),aJ);if(aK&&aC==aF){return aK}else{if(aC>aF){break}}}}}if(az==undefined){var aE=aF-1,aD;while((aD=J()["validPositions"][aE])==undefined&&aE>-1){aE--}if(aD!=undefined&&aE>-1){aC=aE;aI=aD.locator.slice()}else{aE=aF-1;while((aD=J()["tests"][aE])==undefined&&aE>-1){aE--}if(aD!=undefined&&aE>-1){aC=aE;aI=aD[0]["locator"].slice()}}}for(var ax=aI.shift();ax<aw.length;ax++){var aA=aG(aw[ax],aI,[ax]);if((aA&&aC==aF)||aC>aF){break}}if(aB.length==0||aH){aB.push({match:{fn:null,cardinality:0,optionality:true,casing:null,def:""},locator:[]})}J()["tests"][aF]=d.extend(true,[],aB);return J()["tests"][aF]}function av(){if(J()["_buffer"]==undefined){J()["_buffer"]=ao(false,1)}return J()["_buffer"]}function o(){if(J()["buffer"]==undefined){J()["buffer"]=ao(true,r(),true)}return J()["buffer"]}function V(az,ax){var aw=o().slice();if(az===true){L();az=0;ax=aw.length}else{for(var ay=az;ay<ax;ay++){delete J()["validPositions"][ay];delete J()["tests"][ay]}}for(var ay=az;ay<ax;ay++){if(aw[ay]!=P.skipOptionalPartCharacter){t(ay,aw[ay],true,true)}}}function S(aw,ax){switch(ax.casing){case"upper":aw=aw.toUpperCase();break;case"lower":aw=aw.toLowerCase();break}return aw}function t(aF,aD,aH,aC){aH=aH===true;function az(aK,aN,aM,aJ){var aL=false;d.each(A(aK),function(aX,aQ){var aW=aQ.match;var aR=aN?1:0,aP="",aT=o();for(var aU=aW.cardinality;aU>aR;aU--){aP+=O(aK-(aU-1))}if(aN){aP+=aN}aL=aW.fn!=null?aW.fn.test(aP,J(),aK,aM,P):(aN==aW.def||aN==P.skipOptionalPartCharacter)&&aW.def!=""?{c:aW.def,pos:aK}:false;if(aL!==false){var aS=aL.c!=undefined?aL.c:aN;aS=(aS==P.skipOptionalPartCharacter&&aW.fn===null)?aW.def:aS;var aO=aK;if(aL.remove!=undefined){T(aL.remove,aL.remove+1)}if(aL.refreshFromBuffer){var aV=aL.refreshFromBuffer;aM=true;V(aV===true?aV:aV.start,aV.end);if(aL.pos==undefined&&aL.c==undefined){aL.pos=r();return false}aO=aL.pos!=undefined?aL.pos:aK;if(aO!=aK){aL=d.extend(aL,t(aO,aS,true));return false}}else{if(aL!==true&&aL.pos!=undefined&&aL.pos!=aK){aO=aL.pos;V(aK,aO);if(aO!=aK){aL=d.extend(aL,t(aO,aS,true));return false}}}if(aL!=true&&aL.pos==undefined&&aL.c==undefined){return false}if(aX>0){L(true)}if(!y(aO,d.extend({},aQ,{input:S(aS,aW)}),aJ)){aL=false}return false}});return aL}function aA(aT,aS,aV,aR){if(P.keepStatic){var aJ=d.extend(true,{},J()["validPositions"]),aY=J()["validPositions"],aW,aM;for(aW in aY){if(aY[aW].alternation!=undefined){aM=aY[aW].alternation;break}}for(var aK in aY){if(parseInt(aK)>parseInt(aW)&&aY[aK].alternation===undefined){var aX=aY[aK],aL=aX.locator[aM],aN=aY[aW].locator[aM].split(",");for(var aQ=0;aQ<aN.length;aQ++){if(aL<aN[aQ]){aX=aY[am(aK)];aX.locator[aM]=aN[aQ];break}}if(aL!=aX.locator[aM]){J()["buffer"].splice(aK,1);var aO=o().slice();for(var aP=aK;aP<r()+1;aP++){delete J()["validPositions"][aP];delete J()["tests"][aP]}L(true);for(var aP=aK;aP<aO.length;aP++){if(aO[aP]!=P.skipOptionalPartCharacter){t(r()+1,aO[aP],false,true)}}aX.locator[aM]=aL;var aU=t(aT,aS,aV,aR);if(!aU){L();J()["validPositions"]=d.extend(true,{},aJ)}return aU}break}}}return false}var aB=o();for(var aE=aF-1;aE>-1;aE--){if(J()["validPositions"][aE]&&J()["validPositions"][aE].fn==null){break}else{if((!K(aE)||aB[aE]!=au(aE))&&A(aE).length>1){az(aE,aB[aE],true);break}}}var aG=aF;if(aG>=ac()){return aA(aF,aD,aH,aC)}var aI=az(aG,aD,aH,aC);if(!aH&&aI===false){var aw=J()["validPositions"][aG];if(aw&&aw.match.fn==null&&(aw.match.def==aD||aD==P.skipOptionalPartCharacter)){aI={caret:p(aG)}}else{if((P.insertMode||J()["validPositions"][p(aG)]==undefined)&&!K(aG)){for(var ay=aG+1,ax=p(aG);ay<=ax;ay++){aI=az(ay,aD,aH,aC);if(aI!==false){aG=ay;break}}}}}if(aI===true){aI={pos:aG}}return aI}function K(ax){var aw=aa(ax);return aw.fn!=null?aw.fn:false}function ac(){var aA;w=af.prop("maxLength");if(w==-1){w=undefined}if(P.greedy==false){var az,ay=r(),aw=J()["validPositions"][ay],ax=aw!=undefined?aw.locator.slice():undefined;for(az=ay+1;aw==undefined||(aw.match["fn"]!=null||(aw.match["fn"]==null&&aw.match["def"]!=""));az++){aw=B(az,ax,az-1);ax=aw.locator.slice()}aA=az}else{aA=o().length}return(w==undefined||aA<w)?aA:w}function p(ay){var ax=ac();if(ay>=ax){return ax}var aw=ay;while(++aw<ax&&!K(aw)&&(P.nojumps!==true||P.nojumpsThreshold>aw)){}return aw}function am(ax){var aw=ax;if(aw<=0){return 0}while(--aw>0&&!K(aw)){}return aw}function O(aw){return J()["validPositions"][aw]==undefined?au(aw):J()["validPositions"][aw]["input"]}function X(ax,aw,ay){ax._valueSet(aw.join(""));if(ay!=undefined){G(ax,ay)}}function au(ax,aw){aw=aw||aa(ax);return aw.placeholder||(aw.fn==null?aw.def:P.placeholder.charAt(ax%P.placeholder.length))}function x(az,aB,ay,aC,aA){var aw=aC!=undefined?aC.slice():Y(az._valueGet()).split("");L();if(aB){az._valueSet("")}d.each(aw,function(aE,aD){if(aA===true){var aF=J()["p"],aH=aF==-1?aF:am(aF),aG=aH==-1?aE:p(aH);if(d.inArray(aD,av().slice(aH+1,aG))==-1){I.call(az,undefined,true,aD.charCodeAt(0),false,ay,aE)}}else{I.call(az,undefined,true,aD.charCodeAt(0),false,ay,aE);ay=ay||(aE>0&&aE>J()["p"])}});if(aB){var ax=P.onKeyPress.call(this,undefined,o(),0,P);aq(az,ax);X(az,o(),d(az).is(":focus")?p(r(0)):undefined)}}function s(aw){return d.inputmask.escapeRegex.call(this,aw)}function Y(aw){return aw.replace(new RegExp("("+s(av().join(""))+")*$"),"")}function n(aB){if(aB.data("_inputmask")&&!aB.hasClass("hasDatepicker")){var ay=[],aA=J()["validPositions"];for(var az in aA){if(aA[az]["match"]&&aA[az]["match"].fn!=null){ay.push(aA[az]["input"])}}var aw=(ah?ay.reverse():ay).join("");var ax=(ah?o().slice().reverse():o()).join("");if(d.isFunction(P.onUnMask)){aw=P.onUnMask.call(aB,ax,aw,P)}return aw}else{return aB[0]._valueGet()}}function aj(ax){if(ah&&typeof ax=="number"&&(!P.greedy||P.placeholder!="")){var aw=o().length;ax=aw-ax}return ax}function G(ay,az,aw){var aB=ay.jquery&&ay.length>0?ay[0]:ay,ax;if(typeof az=="number"){az=aj(az);aw=aj(aw);aw=(typeof aw=="number")?aw:az;var aA=d(aB).data("_inputmask")||{};aA.caret={begin:az,end:aw};d(aB).data("_inputmask",aA);if(!d(aB).is(":visible")){return}aB.scrollLeft=aB.scrollWidth;if(P.insertMode==false&&az==aw){aw++}if(aB.setSelectionRange){aB.selectionStart=az;aB.selectionEnd=aw}else{if(aB.createTextRange){ax=aB.createTextRange();ax.collapse(true);ax.moveEnd("character",aw);ax.moveStart("character",az);ax.select()}}}else{var aA=d(aB).data("_inputmask");if(!d(aB).is(":visible")&&aA&&aA.caret!=undefined){az=aA.caret["begin"];aw=aA.caret["end"]}else{if(aB.setSelectionRange){az=aB.selectionStart;aw=aB.selectionEnd}else{if(document.selection&&document.selection.createRange){ax=document.selection.createRange();az=0-ax.duplicate().moveStart("character",-100000);aw=az+ax.text.length}}}az=aj(az);aw=aj(aw);return{begin:az,end:aw}}}function z(aA){var ay=o(),ax=ay.length,aE,aD=r(),aB={},aF=J()["validPositions"][aD],az=aF!=undefined?aF.locator.slice():undefined,aC;for(aE=aD+1;aE<ay.length;aE++){aC=B(aE,az,aE-1);az=aC.locator.slice();aB[aE]=d.extend(true,{},aC)}var aw=aF&&aF.alternation!=undefined?aF.locator[aF.alternation].split(","):[];for(aE=ax-1;aE>aD;aE--){aC=aB[aE]["match"];if((aC.optionality||aC.optionalQuantifier||(aF&&aF.alternation!=undefined&&aB[aE]["locator"][aF.alternation]!=undefined&&d.inArray(aB[aE]["locator"][aF.alternation].toString(),aw)!=-1))&&ay[aE]==au(aE,aC)){ax--}else{break}}return aA?{l:ax,def:aB[ax]?aB[ax]["match"]:undefined}:ax}function an(ax){var aw=o(),az=aw.slice();var ay=z();az.length=ay;X(ax,az)}function W(ay){if(d.isFunction(P.isComplete)){return P.isComplete.call(af,ay,P)}if(P.repeat=="*"){return undefined}var ax=false,az=z(true),aB=am(az.l),aC=r();if(aC==aB){if(az.def==undefined||az.def.newBlockMarker||az.def.optionalQuantifier){ax=true;for(var aA=0;aA<=aB;aA++){var aw=K(aA);if((aw&&(ay[aA]==undefined||ay[aA]==au(aA)))||(!aw&&ay[aA]!=au(aA))){ax=false;break}}}}return ax}function H(ax,aw){return ah?(ax-aw)>1||((ax-aw)==1&&P.insertMode):(aw-ax)>1||((aw-ax)==1&&P.insertMode)}function D(ax){var aw=d._data(ax).events;d.each(aw,function(ay,az){d.each(az,function(aA,aB){if(aB.namespace=="inputmask"){if(aB.type!="setvalue"){var aC=aB.handler;aB.handler=function(aD){if(this.readOnly||this.disabled){aD.preventDefault}else{return aC.apply(this,arguments)}}}}})})}function ag(aC){var aB;var ay;function ax(aG){if(d.valHooks[aG]==undefined||d.valHooks[aG].inputmaskpatch!=true){var aF=d.valHooks[aG]&&d.valHooks[aG].get?d.valHooks[aG].get:function(aH){return aH.value};var aE=d.valHooks[aG]&&d.valHooks[aG].set?d.valHooks[aG].set:function(aH,aI){aH.value=aI;return aH};d.valHooks[aG]={get:function(aK){var aI=d(aK);if(aI.data("_inputmask")){if(aI.data("_inputmask")["opts"].autoUnmask){return aI.inputmask("unmaskedvalue")}else{var aH=aF(aK),aL=aI.data("_inputmask"),aM=aL.maskset,aJ=aM._buffer;aJ=aJ?aJ.join(""):"";return aH!=aJ?aH:""}}else{return aF(aK)}},set:function(aJ,aL){var aI=d(aJ),aK=aI.data("_inputmask"),aH;if(aK){aH=aE(aJ,d.isFunction(aK.opts.onBeforeMask)?aK.opts.onBeforeMask.call(ap,aL,aK.opts):aL);aI.triggerHandler("setvalue.inputmask")}else{aH=aE(aJ,aL)}return aH},inputmaskpatch:true}}}function aw(){var aF=d(this),aE=d(this).data("_inputmask");if(aE){return aE.opts.autoUnmask?aF.inputmask("unmaskedvalue"):(aB.call(this)!=av().join("")?aB.call(this):"")}else{return aB.call(this)}}function aD(aF){var aE=d(this).data("_inputmask");if(aE){ay.call(this,d.isFunction(aE.opts.onBeforeMask)?aE.opts.onBeforeMask.call(ap,aF,aE.opts):aF);d(this).triggerHandler("setvalue.inputmask")}else{ay.call(this,aF)}}function az(aI){d(aI).bind("mouseenter.inputmask",function(aK){var aM=d(this),aJ=this,aL=aJ._valueGet();if(aL!=""&&aL!=o().join("")){aM.trigger("setvalue")}});var aH=d._data(aI).events;var aF=aH.mouseover;if(aF){var aE=aF[aF.length-1];for(var aG=aF.length-1;aG>0;aG--){aF[aG]=aF[aG-1]}aF[0]=aE}}if(!aC._valueGet){if(Object.getOwnPropertyDescriptor){var aA=Object.getOwnPropertyDescriptor(aC,"value")}if(aA&&aA.configurable&&false){aC._value=aA.value;aB=function(){return this._value||""};ay=function(aE){this._value=aE;this.select();this.setRangeText(aE);this.selectionStart=this.selectionEnd};Object.defineProperty(aC,"value",{get:aw,set:aD})}else{if(document.__lookupGetter__&&aC.__lookupGetter__("value")){aB=aC.__lookupGetter__("value");ay=aC.__lookupSetter__("value");aC.__defineGetter__("value",aw);aC.__defineSetter__("value",aD)}else{aB=function(){return aC.value};ay=function(aE){aC.value=aE};ax(aC.type);az(aC)}}aC._valueGet=function(){return ah?aB.call(this).split("").reverse().join(""):aB.call(this)};aC._valueSet=function(aE){ay.call(this,ah?aE.split("").reverse().join(""):aE)}}}function Q(ay,ax,aA){if(P.numericInput||ah){if(ax==P.keyCode.BACKSPACE){ax=P.keyCode.DELETE}else{if(ax==P.keyCode.DELETE){ax=P.keyCode.BACKSPACE}}if(ah){var az=aA.end;aA.end=aA.begin;aA.begin=az}}if(ax==P.keyCode.BACKSPACE&&aA.end-aA.begin<=1){aA.begin=am(aA.begin)}else{if(ax==P.keyCode.DELETE&&aA.begin==aA.end){aA.end++}}T(aA.begin,aA.end);var aw=r(aA.begin);if(aw<aA.begin){J()["p"]=p(aw)}else{J()["p"]=aA.begin}}function aq(aw,az,ax){if(az&&az.refreshFromBuffer){var ay=az.refreshFromBuffer;V(ay===true?ay:ay.start,ay.end);L(true);if(ax!=undefined){X(aw,o());G(aw,az.caret||ax.begin,az.caret||ax.end)}}}function at(aA){ab=false;var ay=this,aC=d(ay),ax=aA.keyCode,aB=G(ay);if(ax==P.keyCode.BACKSPACE||ax==P.keyCode.DELETE||(k&&ax==127)||aA.ctrlKey&&ax==88){aA.preventDefault();if(ax==88){U=o().join("")}Q(ay,ax,aB);X(ay,o(),J()["p"]);if(ay._valueGet()==av().join("")){aC.trigger("cleared")}if(P.showTooltip){aC.prop("title",J()["mask"])}}else{if(ax==P.keyCode.END||ax==P.keyCode.PAGE_DOWN){setTimeout(function(){var aD=p(r());if(!P.insertMode&&aD==ac()&&!aA.shiftKey){aD--}G(ay,aA.shiftKey?aB.begin:aD,aD)},0)}else{if((ax==P.keyCode.HOME&&!aA.shiftKey)||ax==P.keyCode.PAGE_UP){G(ay,0,aA.shiftKey?aB.begin:0)}else{if(ax==P.keyCode.ESCAPE||(ax==90&&aA.ctrlKey)){x(ay,true,false,U.split(""));aC.click()}else{if(ax==P.keyCode.INSERT&&!(aA.shiftKey||aA.ctrlKey)){P.insertMode=!P.insertMode;G(ay,!P.insertMode&&aB.begin==ac()?aB.begin-1:aB.begin)}else{if(P.insertMode==false&&!aA.shiftKey){if(ax==P.keyCode.RIGHT){setTimeout(function(){var aD=G(ay);G(ay,aD.begin)},0)}else{if(ax==P.keyCode.LEFT){setTimeout(function(){var aD=G(ay);G(ay,ah?aD.begin+1:aD.begin-1)},0)}}}}}}}}var aw=G(ay);var az=P.onKeyDown.call(this,aA,o(),aw.begin,P);aq(ay,az,aw);E=d.inArray(ax,P.ignorables)!=-1}function I(aK,aA,aJ,aw,aP,aE){if(aJ==undefined&&ab){return false}ab=true;var aF=this,ax=d(aF);aK=aK||window.event;var aJ=aA?aJ:(aK.which||aK.charCode||aK.keyCode);if(aA!==true&&(!(aK.ctrlKey&&aK.altKey)&&(aK.ctrlKey||aK.metaKey||E))){return true}else{if(aJ){if(aA!==true&&aJ==46&&aK.shiftKey==false&&P.radixPoint==","){aJ=44}var aD,aB,aM=String.fromCharCode(aJ);if(aA){var aC=aP?aE:r()+1;aD={begin:aC,end:aC}}else{aD=G(aF)}var ay=H(aD.begin,aD.end);if(ay){J()["undoPositions"]=d.extend(true,{},J()["validPositions"]);Q(aF,P.keyCode.DELETE,aD);if(!P.insertMode){P.insertMode=!P.insertMode;y(aD.begin,aP);P.insertMode=!P.insertMode}ay=!P.multi}J()["writeOutBuffer"]=true;var aH=ah&&!ay?aD.end:aD.begin;var az=t(aH,aM,aP);if(az!==false){if(az!==true){aH=az.pos!=undefined?az.pos:aH;aM=az.c!=undefined?az.c:aM}L(true);if(az.caret!=undefined){aB=az.caret}else{var aO=J()["validPositions"];if(!P.keepStatic&&(aO[aH+1]!=undefined&&A(aH+1,aO[aH].locator.slice(),aH).length>1||aO[aH].alternation!=undefined)){aB=aH+1}else{aB=p(aH)}}J()["p"]=aB}if(aw!==false){var aG=this;setTimeout(function(){P.onKeyValidation.call(aG,az,P)},0);if(J()["writeOutBuffer"]&&az!==false){var aI=o();X(aF,aI,aA?undefined:P.numericInput?am(aB):aB);if(aA!==true){setTimeout(function(){if(W(aI)===true){ax.trigger("complete")}u=true;ax.trigger("input")},0)}}else{if(ay){J()["buffer"]=undefined;J()["validPositions"]=J()["undoPositions"]}}}else{if(ay){J()["buffer"]=undefined;J()["validPositions"]=J()["undoPositions"]}}if(P.showTooltip){ax.prop("title",J()["mask"])}if(aK&&aA!=true){aK.preventDefault?aK.preventDefault():aK.returnValue=false;var aL=G(aF);var aN=P.onKeyPress.call(this,aK,o(),aL.begin,P);aq(aF,aN,aL)}}}}function R(aA){var aC=d(this),az=this,ay=aA.keyCode,ax=o();var aw=G(az);var aB=P.onKeyUp.call(this,aA,ax,aw.begin,P);aq(az,aB,aw);if(ay==P.keyCode.TAB&&P.showMaskOnFocus){if(aC.hasClass("focus-inputmask")&&az._valueGet().length==0){L();ax=o();X(az,ax);G(az,0);U=o().join("")}else{X(az,ax);G(az,aj(0),aj(ac()))}}}function ae(az){if(u===true&&az.type=="input"){u=false;return true}var ax=this,aA=d(ax),aw=ax._valueGet();if(az.type=="propertychange"&&ax._valueGet().length<=ac()){return true}else{if(az.type=="paste"){if(window.clipboardData&&window.clipboardData.getData){aw=window.clipboardData.getData("Text")}else{if(az.originalEvent&&az.originalEvent.clipboardData&&az.originalEvent.clipboardData.getData){aw=az.originalEvent.clipboardData.getData("text/plain")}}}}var ay=d.isFunction(P.onBeforePaste)?P.onBeforePaste.call(ax,aw,P):aw;x(ax,true,false,ay.split(""),true);aA.click();if(W(o())===true){aA.trigger("complete")}return false}function ad(az){if(u===true&&az.type=="input"){u=false;return true}var aw=this;var ax=G(aw),ay=aw._valueGet();ay=ay.replace(new RegExp("("+s(av().join(""))+")*"),"");if(ax.begin>ay.length){G(aw,ay.length);ax=G(aw)}if((o().length-ay.length)==1&&ay.charAt(ax.begin)!=o()[ax.begin]&&ay.charAt(ax.begin+1)!=o()[ax.begin]&&!K(ax.begin)){az.keyCode=P.keyCode.BACKSPACE;at.call(aw,az)}az.preventDefault()}function F(aA){if(u===true&&aA.type=="input"){u=false;return true}var ax=this;var ay=G(ax),az=ax._valueGet();G(ax,ay.begin-1);var aw=d.Event("keypress");aw.which=az.charCodeAt(ay.begin-1);ab=false;E=false;I.call(ax,aw,undefined,undefined,false);var aB=J()["p"];X(ax,o(),P.numericInput?am(aB):aB);aA.preventDefault()}function N(ax){u=true;var aw=this;setTimeout(function(){G(aw,G(aw).begin-1);var ay=d.Event("keypress");ay.which=ax.originalEvent.data.charCodeAt(0);ab=false;E=false;I.call(aw,ay,undefined,undefined,false);var az=J()["p"];X(aw,o(),P.numericInput?am(az):az)},0);u===true;return false}function al(ax){af=d(ax);if(af.is(":input")&&af.attr("type")!="number"){af.data("_inputmask",{maskset:C,opts:P,isRTL:false});if(P.showTooltip){af.prop("title",J()["mask"])}if(ax.dir=="rtl"||P.rightAlign){af.css("text-align","right")}if(ax.dir=="rtl"||P.numericInput){ax.dir="ltr";af.removeAttr("dir");var az=af.data("_inputmask");az.isRTL=true;af.data("_inputmask",az);ah=true}af.unbind(".inputmask");af.removeClass("focus-inputmask");af.closest("form").bind("submit",function(){if(U!=o().join("")){af.change()}if(P.autoUnmask&&P.removeMaskOnSubmit){af.inputmask("remove")}}).bind("reset",function(){setTimeout(function(){af.trigger("setvalue")},0)});af.bind("mouseenter.inputmask",function(){var aC=d(this),aB=this;if(!aC.hasClass("focus-inputmask")&&P.showMaskOnHover){if(aB._valueGet()!=o().join("")){X(aB,o())}}}).bind("blur.inputmask",function(){var aE=d(this),aC=this;if(aE.data("_inputmask")){var aD=aC._valueGet(),aB=o();aE.removeClass("focus-inputmask");if(U!=o().join("")){aE.change()}if(P.clearMaskOnLostFocus&&aD!=""){if(aD==av().join("")){aC._valueSet("")}else{an(aC)}}if(W(aB)===false){aE.trigger("incomplete");if(P.clearIncomplete){L();if(P.clearMaskOnLostFocus){aC._valueSet("")}else{aB=av().slice();X(aC,aB)}}}}}).bind("focus.inputmask",function(){var aD=d(this),aB=this,aC=aB._valueGet();if(P.showMaskOnFocus&&!aD.hasClass("focus-inputmask")&&(!P.showMaskOnHover||(P.showMaskOnHover&&aC==""))){if(aB._valueGet()!=o().join("")){X(aB,o(),p(r()))}}aD.addClass("focus-inputmask");U=o().join("")}).bind("mouseleave.inputmask",function(){var aC=d(this),aB=this;if(P.clearMaskOnLostFocus){if(!aC.hasClass("focus-inputmask")&&aB._valueGet()!=aC.attr("placeholder")){if(aB._valueGet()==av().join("")||aB._valueGet()==""){aB._valueSet("")}else{an(aB)}}}}).bind("click.inputmask",function(){var aB=this;if(d(aB).is(":focus")){setTimeout(function(){var aE=G(aB);if(aE.begin==aE.end){var aD=ah?aj(aE.begin):aE.begin,aF=r(aD),aC=p(aF);if(aD<aC){if(K(aD)){G(aB,aD)}else{G(aB,p(aD))}}else{G(aB,aC)}}},0)}}).bind("dblclick.inputmask",function(){var aB=this;setTimeout(function(){G(aB,0,p(r()))},0)}).bind(g+".inputmask dragdrop.inputmask drop.inputmask",ae).bind("setvalue.inputmask",function(){var aB=this;x(aB,true);U=o().join("")}).bind("complete.inputmask",P.oncomplete).bind("incomplete.inputmask",P.onincomplete).bind("cleared.inputmask",P.oncleared);af.bind("keydown.inputmask",at).bind("keypress.inputmask",I).bind("keyup.inputmask",R).bind("compositionupdate.inputmask",N);if(g==="paste"){af.bind("input.inputmask",F)}if(c||m||h||j){if(g=="input"){af.unbind(g+".inputmask")}af.bind("input.inputmask",ad)}if(i){af.bind("input.inputmask",ae)}ag(ax);var aw=d.isFunction(P.onBeforeMask)?P.onBeforeMask.call(ax,ax._valueGet(),P):ax._valueGet();x(ax,true,false,aw.split(""),true);U=o().join("");var ay;try{ay=document.activeElement}catch(aA){}if(W(o())===false){if(P.clearIncomplete){L()}}if(P.clearMaskOnLostFocus){if(o().join("")==av().join("")){ax._valueSet("")}else{an(ax)}}else{X(ax,o())}if(ay===ax){af.addClass("focus-inputmask");G(ax,p(r()))}D(ax)}}if(v!=undefined){switch(v.action){case"isComplete":af=d(v.el);C=af.data("_inputmask")["maskset"];P=af.data("_inputmask")["opts"];return W(v.buffer);case"unmaskedvalue":af=v["$input"];C=af.data("_inputmask")["maskset"];P=af.data("_inputmask")["opts"];ah=v["$input"].data("_inputmask")["isRTL"];return n(v["$input"]);case"mask":U=o().join("");al(v.el);break;case"format":af=d({});af.data("_inputmask",{maskset:C,opts:P,isRTL:P.numericInput});if(P.numericInput){ah=true}var q=v.value.split("");x(af,false,false,ah?q.reverse():q,true);P.onKeyPress.call(this,undefined,o(),0,P);return ah?o().slice().reverse().join(""):o().join("");case"isValid":af=d({});af.data("_inputmask",{maskset:C,opts:P,isRTL:P.numericInput});if(P.numericInput){ah=true}var q=v.value.split("");x(af,false,true,ah?q.reverse():q);var M=o();var Z=z();M.length=Z;return W(M)&&v.value==M.join("");case"getemptymask":af=d(v.el);C=af.data("_inputmask")["maskset"];P=af.data("_inputmask")["opts"];return av();case"remove":var ap=v.el;af=d(ap);C=af.data("_inputmask")["maskset"];P=af.data("_inputmask")["opts"];ap._valueSet(n(af));af.unbind(".inputmask");af.removeClass("focus-inputmask");af.removeData("_inputmask");var ai;if(Object.getOwnPropertyDescriptor){ai=Object.getOwnPropertyDescriptor(ap,"value")}if(ai&&ai.get){if(ap._valueGet){Object.defineProperty(ap,"value",{get:ap._valueGet,set:ap._valueSet})}}else{if(document.__lookupGetter__&&ap.__lookupGetter__("value")){if(ap._valueGet){ap.__defineGetter__("value",ap._valueGet);ap.__defineSetter__("value",ap._valueSet)}}}try{delete ap._valueGet;delete ap._valueSet}catch(ar){ap._valueGet=undefined;ap._valueSet=undefined}break}}}d.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:d.noop,onincomplete:d.noop,oncleared:d.noop,repeat:0,greedy:true,autoUnmask:false,removeMaskOnSubmit:true,clearMaskOnLostFocus:true,insertMode:true,clearIncomplete:false,aliases:{},alias:null,onKeyUp:d.noop,onKeyPress:d.noop,onKeyDown:d.noop,onBeforeMask:undefined,onBeforePaste:undefined,onUnMask:undefined,showMaskOnFocus:true,showMaskOnHover:true,onKeyValidation:d.noop,skipOptionalPartCharacter:" ",showTooltip:false,numericInput:false,rightAlign:false,radixPoint:"",nojumps:false,nojumpsThreshold:0,keepStatic:false,definitions:{"9":{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:undefined},masksCache:{},escapeRegex:function(o){var n=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return o.replace(new RegExp("(\\"+n.join("|\\")+")","gim"),"\\$1")},format:function(p,n){var o=d.extend(true,{},d.inputmask.defaults,n);f(o.alias,n,o);return e({action:"format",value:p},b(o),o)},isValid:function(p,n){var o=d.extend(true,{},d.inputmask.defaults,n);f(o.alias,n,o);return e({action:"isValid",value:p},b(o),o)}};d.fn.inputmask=function(r,v,p,s,o){p=p||e;s=s||"_inputmask";function u(z,x){var A=d(z);for(var w in x){var y=A.data("inputmask-"+w.toLowerCase());if(y!=undefined){x[w]=y}}return x}var n=d.extend(true,{},d.inputmask.defaults,v),t;if(typeof r==="string"){switch(r){case"mask":f(n.alias,v,n);t=b(n,p!==e);if(t.length==0){return this}return this.each(function(){p({action:"mask",el:this},d.extend(true,{},t),u(this,n))});case"unmaskedvalue":var q=d(this);if(q.data(s)){return p({action:"unmaskedvalue","$input":q})}else{return q.val()}case"remove":return this.each(function(){var w=d(this);if(w.data(s)){p({action:"remove",el:this})}});case"getemptymask":if(this.data(s)){return p({action:"getemptymask",el:this})}else{return""}case"hasMaskedValue":return this.data(s)?!this.data(s)["opts"].autoUnmask:false;case"isComplete":if(this.data(s)){return p({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this})}else{return true}case"getmetadata":if(this.data(s)){t=this.data(s)["maskset"];return t.metadata}else{return undefined}case"_detectScope":f(n.alias,v,n);if(o!=undefined&&!f(o,v,n)&&d.inArray(o,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])==-1){n.mask=o}if(d.isFunction(n.mask)){n.mask=n.mask.call(this,n)}return d.isArray(n.mask);default:f(n.alias,v,n);if(!f(r,v,n)){n.mask=r}t=b(n,p!==e);if(t==undefined){return this}return this.each(function(){p({action:"mask",el:this},d.extend(true,{},t),u(this,n))})}}else{if(typeof r=="object"){n=d.extend(true,{},d.inputmask.defaults,r);f(n.alias,r,n);t=b(n,p!==e);if(t==undefined){return this}return this.each(function(){p({action:"mask",el:this},d.extend(true,{},t),u(this,n))})}else{if(r==undefined){return this.each(function(){var y=d(this).attr("data-inputmask");if(y&&y!=""){try{y=y.replace(new RegExp("'","g"),'"');var w=d.parseJSON("{"+y+"}");d.extend(true,w,v);n=d.extend(true,{},d.inputmask.defaults,w);f(n.alias,w,n);n.alias=undefined;d(this).inputmask("mask",n,p)}catch(x){}}})}}}}}return d.fn.inputmask}));