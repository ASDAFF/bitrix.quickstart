$(function(){$(".allcatnav").live("click",function(){var b=$("#fullmenu ul").height();if($(this).hasClass("active")){$("#fullmenu").animate({height:0},400);$("#fullmenu").css({"box-shadow":"none"});$(this).removeClass("active");$("#fullmenu").removeClass("active")}else{$(this).addClass("active");$("#fullmenu").addClass("active");var a=$(".header-brandzone-nav").offset();$("#fullmenu").css({right:a.left+"px",top:a.top+58+"px"});$("#fullmenu").css({display:"block",height:0,"box-shadow":"0 7px 12px 2px rgba(0,0,0,0.3), inset 0 5px 6px -3px rgba(0,0,0,0.3)"});$("#fullmenu").animate({height:b+"px"},400)}return false});$(".root-item").mouseover(function(){if($(".allcatnav").hasClass("active")){$("#fullmenu").animate({height:0},400);$("#fullmenu").css({"box-shadow":"none"});$(".allcatnav").removeClass("active");$("#fullmenu").removeClass("active");return false}})});function setWidthTopNav(){var a=$("#top-menu").find(".root-item");var d=tmLastW=0;var c=$("#top-menu-layout").width();for(var b=0;d<c;b++){tmLastW=$(a[b]).width();d=d+tmLastW;if(b>a.length){break}}count=b;tmSumO=d-tmLastW;if(d>c){onAllButton();removeLink(count)}else{offAllButton()}}function onAllButton(){$(".allcatnav").css({display:"block",opacity:0});$(".allcatnav").animate({opacity:1},500)}function offAllButton(){$(".allcatnav").css({display:"block",opacity:1});$(".allcatnav").animate({opacity:0},500);$(".allcatnav").css({display:"none"})}function saveCookie(){$.cookie("tmAllcat","1",{expires:60});$.cookie("tmCol",count,{expires:60});$.cookie("tmWidth",tmSumO,{expires:60})}function removeLink(){for(var a=0;a<count;a++){$("#fullmenu > ul > li:nth-child("+a+")").css({display:"none"})}}$(document).ready(function(){if($.cookie("tmAllcat")=="1"){onAllButton();setWidthTopNav();tmSumC=$.cookie("tmWidth");if(tmSumO==tmSumC){removeLink(count)}else{saveCookie(count,tmSumO);removeLink(count)}}else{setWidthTopNav();saveCookie(count,tmSumO)}});