var hs={graphicsDir:"#SITE_DIR#images/highslide/",restoreCursor:"",expandSteps:16,expandDuration:200,restoreSteps:15,restoreDuration:150,marginLeft:0,marginRight:0,marginTop:0,marginBottom:0,zIndexCounter:90001,restoreTitle:"Click to close image, click and drag to move.",loadingText:"Loading...",loadingTitle:"Click to cancel",loadingOpacity:0.75,focusTitle:"Click to bring to front",allowMultipleInstances:true,numberOfImagesToPreload:3,captionSlideSpeed:0,padToMinWidth:false,outlineWhileAnimating:2,outlineStartOffset:3,fullExpandTitle:"Expand to actual size",fullExpandPosition:"bottom right",fullExpandOpacity:1,enableKeyListener:true,captionId:null,spaceForCaption:30,slideshowGroup:null,minWidth:200,minHeight:200,allowSizeReduction:true,outlineType:"drop-shadow",wrapperClassName:"highslide-wrapper",preloadTheseImages:[],continuePreloading:true,expanders:[],overrides:["allowSizeReduction","outlineType","outlineWhileAnimating","spaceForCaption","captionId","captionText","captionEval","wrapperClassName","minWidth","minHeight","slideshowGroup"],overlays:[],faders:[],pendingOutlines:{},clones:{},ie:(document.all&&!window.opera),safari:navigator.userAgent.indexOf("Safari")!=-1,$:function(a){return document.getElementById(a)},push:function(a,b){a[a.length]=b},createElement:function(a,f,e,d,c){var b=document.createElement(a);if(f){hs.setAttribs(b,f)}if(c){hs.setStyles(b,{padding:0,border:"none",margin:0})}if(e){hs.setStyles(b,e)}if(d){d.appendChild(b)}return b},setAttribs:function(b,c){for(var a in c){b[a]=c[a]}},setStyles:function(b,c){for(var a in c){try{if(hs.ie&&a=="opacity"){b.style.filter="alpha(opacity="+(c[a]*100)+")"}else{b.style[a]=c[a]}}catch(d){}}},ieVersion:function(){arr=navigator.appVersion.split("MSIE");return parseFloat(arr[1])},clientInfo:function(){var a=document.compatMode&&document.compatMode!="BackCompat"?document.documentElement:document.body;return{width:hs.ie?a.clientWidth:self.innerWidth,height:hs.ie?a.clientHeight:self.innerHeight,scrollLeft:hs.ie?a.scrollLeft:pageXOffset,scrollTop:hs.ie?a.scrollTop:pageYOffset}},position:function(a){var b={x:a.offsetLeft,y:a.offsetTop};while(a.offsetParent){a=a.offsetParent;b.x+=a.offsetLeft;b.y+=a.offsetTop;if(a!=document.body&&a!=document.documentElement){b.x-=a.scrollLeft;b.y-=a.scrollTop}}return b},expand:function(b,f,c){if(b.getParams){return f}try{new hs.Expander(b,f,c);return false}catch(d){return true}},focusTopmost:function(){var b=0,a=-1;for(i=0;i<hs.expanders.length;i++){if(hs.expanders[i]){if(hs.expanders[i].wrapper.style.zIndex&&hs.expanders[i].wrapper.style.zIndex>b){b=hs.expanders[i].wrapper.style.zIndex;a=i}}}if(a==-1){hs.focusKey=-1}else{hs.expanders[a].focus()}},getAdjacentAnchor:function(d,f){var a=document.getElementsByTagName("A"),b={},e=-1,c=0;for(i=0;i<a.length;i++){if(hs.isHsAnchor(a[i])&&((hs.expanders[d].slideshowGroup==hs.getParam(a[i],"slideshowGroup")))){b[c]=a[i];if(hs.expanders[d]&&a[i]==hs.expanders[d].a){e=c}c++}}return b[e+f]},getParam:function(b,d){b.getParams=b.onclick;var c=b.getParams();b.getParams=null;return(c&&typeof c[d]!="undefined")?c[d]:hs[d]},getSrc:function(b){var c=hs.getParam(b,"src");if(c){return c}return b.href},getNode:function(e){var c=hs.$(e),d=hs.clones[e],b={};if(!c&&!d){return null}if(!d){d=c.cloneNode(true);d.id="";hs.clones[e]=d;return c}else{return d.cloneNode(true)}},purge:function(f){if(!hs.ie){return}var c=f.attributes,e,b,g;if(c){b=c.length;for(e=0;e<b;e+=1){g=c[e].name;if(typeof f[g]==="function"){f[g]=null}}}c=f.childNodes;if(c){b=c.length;for(e=0;e<b;e+=1){hs.purge(f.childNodes[e])}}},previousOrNext:function(b,f){var d=hs.getExpander(b);try{var a=hs.upcoming=hs.getAdjacentAnchor(d.key,f);a.onclick()}catch(c){}try{d.close()}catch(c){}return false},previous:function(a){return hs.previousOrNext(a,-1)},next:function(a){return hs.previousOrNext(a,1)},keyHandler:function(a){if(!a){a=window.event}if(!a.target){a.target=a.srcElement}if(a.target.form){return}var b=null;switch(a.keyCode){case 34:case 39:case 40:b=1;break;case 33:case 37:case 38:b=-1;break;case 27:case 13:b=0}if(b!==null){hs.removeEventListener(document,"keydown",hs.keyHandler);try{if(!hs.enableKeyListener){return true}}catch(a){}if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}if(b==0){try{hs.getExpander().close()}catch(a){}return false}else{return hs.previousOrNext(hs.focusKey,b)}}else{return true}},registerOverlay:function(a){hs.push(hs.overlays,a)},getWrapperKey:function(a){var c,b=/^highslide-wrapper-([0-9]+)$/;c=a;while(c.parentNode){if(c.id&&c.id.match(b)){return c.id.replace(b,"$1")}c=c.parentNode}c=a;while(c.parentNode){if(c.tagName&&hs.isHsAnchor(c)){for(key=0;key<hs.expanders.length;key++){exp=hs.expanders[key];if(exp&&exp.a==c){return key}}}c=c.parentNode}},getExpander:function(a){try{if(!a){return hs.expanders[hs.focusKey]}if(typeof a=="number"){return hs.expanders[a]}if(typeof a=="string"){a=hs.$(a)}return hs.expanders[hs.getWrapperKey(a)]}catch(b){}},isHsAnchor:function(b){return(b.onclick&&b.onclick.toString().replace(/\s/g," ").match(/hs.(htmlE|e)xpand/))},cleanUp:function(){for(i=0;i<hs.expanders.length;i++){if(hs.expanders[i]&&hs.expanders[i].isExpanded){hs.focusTopmost()}}},mouseClickHandler:function(d){if(!d){d=window.event}if(d.button>1){return true}if(!d.target){d.target=d.srcElement}var b=d.target;while(b.parentNode&&!(/highslide-(image|move|html|resize)/.test(b.className))){b=b.parentNode}var f=hs.getExpander(b);if(f&&d.type=="mousedown"){if(d.target.form){return}var a=b.className.match(/highslide-(image|move|resize)/);if(a){hs.dragArgs={exp:f,type:a[1],left:f.x.min,width:f.x.span,top:f.y.min,height:f.y.span,clickX:d.clientX,clickY:d.clientY};if(hs.dragArgs.type=="image"){f.content.style.cursor="move"}hs.addEventListener(document,"mousemove",hs.dragHandler);if(d.preventDefault){d.preventDefault()}if(/highslide-(image|html)-blur/.test(f.content.className)){f.focus();hs.hasFocused=true}return false}}else{if(d.type=="mouseup"){hs.removeEventListener(document,"mousemove",hs.dragHandler);if(hs.dragArgs){if(hs.dragArgs.type=="image"){hs.dragArgs.exp.content.style.cursor=hs.styleRestoreCursor}var c=(Math.abs(hs.dragArgs.dX)+Math.abs(hs.dragArgs.dY)>0);if(!c&&!hs.hasFocused&&!/(move|resize)/.test(hs.dragArgs.type)){f.close()}else{if(c||(!c&&hs.hasHtmlexpanders)){hs.dragArgs.exp.redoShowHide()}}hs.hasFocused=false;hs.dragArgs=null}else{if(/highslide-image-blur/.test(b.className)){b.style.cursor=hs.styleRestoreCursor}}}}},dragHandler:function(a){if(!hs.dragArgs){return}if(!a){a=window.event}var b=hs.dragArgs.exp;hs.dragArgs.dX=a.clientX-hs.dragArgs.clickX;hs.dragArgs.dY=a.clientY-hs.dragArgs.clickY;b.move(hs.dragArgs);return false},addEventListener:function(a,c,b){try{a.addEventListener(c,b,false)}catch(d){try{a.detachEvent("on"+c,b);a.attachEvent("on"+c,b)}catch(d){a["on"+c]=b}}},removeEventListener:function(a,c,b){try{a.removeEventListener(c,b,false)}catch(d){try{a.detachEvent("on"+c,b)}catch(d){a["on"+c]=null}}},preloadFullImage:function(b){if(hs.continuePreloading&&hs.preloadTheseImages[b]&&hs.preloadTheseImages[b]!="undefined"){var a=document.createElement("img");a.onload=function(){hs.preloadFullImage(b+1)};a.src=hs.preloadTheseImages[b]}},preloadImages:function(e){if(e&&typeof e!="object"){hs.numberOfImagesToPreload=e}var b,d,c=0;var g=document.getElementsByTagName("A");for(i=0;i<g.length;i++){b=g[i];d=hs.isHsAnchor(b);if(d&&d[0]=="hs.expand"){if(c<hs.numberOfImagesToPreload){hs.preloadTheseImages[c]=hs.getSrc(b);c++}}}new hs.Outline(hs.outlineType,function(){hs.preloadFullImage(0)});var f=hs.createElement("img",{src:hs.graphicsDir+hs.restoreCursor})},genContainer:function(){if(!hs.container){hs.container=hs.createElement("div",null,{position:"absolute",left:0,top:0,width:"100%",zIndex:hs.zIndexCounter},document.body,true);hs.loading=hs.createElement("a",{className:"highslide-loading",title:hs.loadingTitle,innerHTML:hs.loadingText},{position:"absolute",opacity:hs.loadingOpacity,left:"-9999px",zIndex:1},hs.container)}},fade:function(d,e,c,b,a){if(a==null){var a=c>e?1:-1}e=parseFloat(e);d.style.visibility=(e<=0)?"hidden":"visible";if(e<0||(a==1&&e>c)){return}if(b==null){b=hs.faders.length}if(typeof(d.i)!="undefined"&&d.i!=b){clearTimeout(hs.faders[d.i]);e=d.tempOpacity}d.i=b;d.tempOpacity=e;d.style.visibility=(e<=0)?"hidden":"visible";hs.setStyles(d,{opacity:e});hs.faders[b]=setTimeout(function(){hs.fade(d,Math.round((e+0.1*a)*100)/100,c,b,a)},25)},close:function(a){try{hs.getExpander(a).close()}catch(b){}return false}};hs.Outline=function(f,d){this.onLoad=d;this.outlineType=f;var a=hs.ieVersion(),e;this.hasAlphaImageLoader=hs.ie&&a>=5.5&&a<7;if(!f){if(d){d()}return}hs.genContainer();this.table=hs.createElement("table",{cellSpacing:0},{visibility:"hidden",position:"absolute",zIndex:hs.zIndexCounter++,borderCollapse:"collapse"},hs.container,true);this.tbody=hs.createElement("tbody",null,null,this.table,1);this.td=[];for(var b=0;b<=8;b++){if(b%3==0){e=hs.createElement("tr",null,{height:"auto"},this.tbody,true)}this.td[b]=hs.createElement("td",null,null,e,true);var c=b!=4?{lineHeight:0,fontSize:0}:{position:"relative"};hs.setStyles(this.td[b],c)}this.td[4].className=f;this.preloadGraphic()};hs.Outline.prototype={preloadGraphic:function(){var b=hs.graphicsDir+"outlines/"+this.outlineType+".png";var a=hs.safari?hs.container:null;this.graphic=hs.createElement("img",null,{position:"absolute",left:"-9999px",top:"-9999px"},a,true);var c=this;this.graphic.onload=function(){c.onGraphicLoad()};this.graphic.src=b},onGraphicLoad:function(){var d=this.offset=this.graphic.width/4,f=[[0,0],[0,-4],[-2,0],[0,-8],0,[-2,-8],[0,-2],[0,-6],[-2,-2]],c={height:(2*d)+"px",width:(2*d)+"px"};for(var b=0;b<=8;b++){if(f[b]){if(this.hasAlphaImageLoader){var a=(b==1||b==7)?"100%":this.graphic.width+"px";var e=hs.createElement("div",null,{width:"100%",height:"100%",position:"relative",overflow:"hidden"},this.td[b],true);hs.createElement("div",null,{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale, src='"+this.graphic.src+"')",position:"absolute",width:a,height:this.graphic.height+"px",left:(f[b][0]*d)+"px",top:(f[b][1]*d)+"px"},e,true)}else{hs.setStyles(this.td[b],{background:"url("+this.graphic.src+") "+(f[b][0]*d)+"px "+(f[b][1]*d)+"px"})}if(window.opera&&(b==3||b==5)){hs.createElement("div",null,c,this.td[b],true)}hs.setStyles(this.td[b],c)}}hs.pendingOutlines[this.outlineType]=this;if(this.onLoad){this.onLoad()}},setPosition:function(e,a,f,b,c,d){if(d){this.table.style.visibility=(c>=4*this.offset)?"visible":"hidden"}this.table.style.left=(a-this.offset)+"px";this.table.style.top=(f-this.offset)+"px";this.table.style.width=(b+2*(e.offsetBorderW+this.offset))+"px";b+=2*(e.offsetBorderW-this.offset);c+=+2*(e.offsetBorderH-this.offset);this.td[4].style.width=b>=0?b+"px":0;this.td[4].style.height=c>=0?c+"px":0;if(this.hasAlphaImageLoader){this.td[3].style.height=this.td[5].style.height=this.td[4].style.height}},destroy:function(a){if(a){this.table.style.visibility="hidden"}else{hs.purge(this.table);try{this.table.parentNode.removeChild(this.table)}catch(b){}}}};hs.Expander=function(k,f,b,l){this.a=k;this.custom=b;this.contentType=l||"image";this.isImage=!this.isHtml;hs.continuePreloading=false;hs.genContainer();var m=this.key=hs.expanders.length;for(i=0;i<hs.overrides.length;i++){var c=hs.overrides[i];this[c]=f&&typeof f[c]!="undefined"?f[c]:hs[c]}var d=this.thumb=(f?hs.$(f.thumbnailId):null)||k.getElementsByTagName("IMG")[0]||k;this.thumbsUserSetId=d.id||k.id;for(i=0;i<hs.expanders.length;i++){if(hs.expanders[i]&&hs.expanders[i].a==k){hs.expanders[i].focus();return false}}for(i=0;i<hs.expanders.length;i++){if(hs.expanders[i]&&hs.expanders[i].thumb!=d&&!hs.expanders[i].onLoadStarted){hs.expanders[i].cancelLoading()}}hs.expanders[this.key]=this;if(!hs.allowMultipleInstances){try{hs.expanders[m-1].close()}catch(h){}try{hs.expanders[hs.focusKey].close()}catch(h){}}this.overlays=[];var j=hs.position(d);this.thumbWidth=d.width?d.width:d.offsetWidth;this.thumbHeight=d.height?d.height:d.offsetHeight;this.thumbLeft=j.x;this.thumbTop=j.y;this.thumbOffsetBorderW=(this.thumb.offsetWidth-this.thumbWidth)/2;this.thumbOffsetBorderH=(this.thumb.offsetHeight-this.thumbHeight)/2;this.wrapper=hs.createElement("div",{id:"highslide-wrapper-"+this.key,className:this.wrapperClassName},{visibility:"hidden",position:"absolute",zIndex:hs.zIndexCounter++},null,true);this.wrapper.onmouseover=function(a){try{hs.expanders[m].wrapperMouseHandler(a)}catch(a){}};this.wrapper.onmouseout=function(a){try{hs.expanders[m].wrapperMouseHandler(a)}catch(a){}};if(this.contentType=="image"&&this.outlineWhileAnimating==2){this.outlineWhileAnimating=0}if(hs.pendingOutlines[this.outlineType]){this.connectOutline();this[this.contentType+"Create"]()}else{if(!this.outlineType){this[this.contentType+"Create"]()}else{this.displayLoading();var g=this;new hs.Outline(this.outlineType,function(){g.connectOutline();g[g.contentType+"Create"]()})}}};hs.Expander.prototype={connectOutline:function(a,c){var b=hs.pendingOutlines[this.outlineType];this.objOutline=b;hs.pendingOutlines[this.outlineType]=null},displayLoading:function(){if(this.onLoadStarted||this.loading){return}this.originalCursor=this.a.style.cursor;this.a.style.cursor="wait";this.loading=hs.loading;this.loading.href="javascript:hs.expanders["+this.key+"].cancelLoading()";this.loading.style.top=(this.thumbTop+(this.thumbHeight-this.loading.offsetHeight)/2)+"px";var b=this,a=(this.thumbLeft+this.thumbOffsetBorderW+(this.thumbWidth-this.loading.offsetWidth)/2)+"px";setTimeout(function(){if(b.loading){b.loading.style.left=a}},100)},imageCreate:function(){var b=this;var a=document.createElement("img");this.content=a;a.onload=function(){try{b.contentLoaded()}catch(c){}};a.className="highslide-image";a.style.visibility="hidden";a.style.display="block";a.style.position="absolute";a.style.maxWidth="none";a.style.zIndex=3;a.title=hs.restoreTitle;if(hs.safari){hs.container.appendChild(a)}a.src=hs.getSrc(this.a);this.displayLoading()},contentLoaded:function(){try{if(!this.content){return}if(this.onLoadStarted){return}else{this.onLoadStarted=true}if(this.loading){this.loading.style.left="-9999px";this.loading=null;this.a.style.cursor=this.originalCursor||""}this.marginBottom=hs.marginBottom;this.newWidth=this.content.width;this.newHeight=this.content.height;this.fullExpandWidth=this.newWidth;this.fullExpandHeight=this.newHeight;this.content.style.width=this.thumbWidth+"px";this.content.style.height=this.thumbHeight+"px";this.getCaption();this.wrapper.appendChild(this.content);this.content.style.position="relative";if(this.caption){this.wrapper.appendChild(this.caption)}this.wrapper.style.left=this.thumbLeft+"px";this.wrapper.style.top=this.thumbTop+"px";hs.container.appendChild(this.wrapper);this.offsetBorderW=(this.content.offsetWidth-this.thumbWidth)/2;this.offsetBorderH=(this.content.offsetHeight-this.thumbHeight)/2;var d=hs.marginRight+2*this.offsetBorderW;this.marginBottom+=2*this.offsetBorderH;var h=this.newWidth/this.newHeight;var b=this.allowSizeReduction?this.minWidth:this.newWidth;var l=this.allowSizeReduction?this.minHeight:this.newHeight;var f={x:"auto",y:"auto"};client=hs.clientInfo();this.x={min:parseInt(this.thumbLeft)-this.offsetBorderW+this.thumbOffsetBorderW,span:this.newWidth,minSpan:(this.newWidth<b&&!hs.padToMinWidth)?this.newWidth:b,marginMin:hs.marginLeft,marginMax:d,scroll:client.scrollLeft,clientSpan:client.width,thumbSpan:this.thumbWidth};var c=this.x.min+parseInt(this.thumbWidth);this.x=this.justify(this.x);this.y={min:parseInt(this.thumbTop)-this.offsetBorderH+this.thumbOffsetBorderH,span:this.newHeight,minSpan:this.newHeight<l?this.newHeight:l,marginMin:hs.marginTop,marginMax:this.marginBottom,scroll:client.scrollTop,clientSpan:client.height,thumbSpan:this.thumbHeight};var a=this.y.min+parseInt(this.thumbHeight);this.y=this.justify(this.y);this.correctRatio(h);var k=this.x;var j=this.y;this.show()}catch(g){window.location.href=hs.getSrc(this.a)}},justify:function(d){var e,c=d==this.x?"x":"y";var b=false;var a=true;d.min=Math.round(d.min-((d.span-d.thumbSpan)/2));if(d.min<d.scroll+d.marginMin){d.min=d.scroll+d.marginMin;b=true}if(d.span<d.minSpan){d.span=d.minSpan;a=false}if(d.min+d.span>d.scroll+d.clientSpan-d.marginMax){if(b&&a){d.span=d.clientSpan-d.marginMin-d.marginMax}else{if(d.span<d.clientSpan-d.marginMin-d.marginMax){d.min=d.scroll+d.clientSpan-d.span-d.marginMin-d.marginMax}else{d.min=d.scroll+d.marginMin;if(a){d.span=d.clientSpan-d.marginMin-d.marginMax}}}}if(d.span<d.minSpan){d.span=d.minSpan;a=false}if(d.min<d.marginMin){tmpMin=d.min;d.min=d.marginMin;if(a){d.span=d.span-(d.min-tmpMin)}}return d},correctRatio:function(c){var b=this.x;var f=this.y;var e=false;if(b.span/f.span>c){var a=b.span;b.span=f.span*c;if(b.span<b.minSpan){if(hs.padToMinWidth){b.imgSpan=b.span}b.span=b.minSpan;if(!b.imgSpan){f.span=b.span/c}}e=true}else{if(b.span/f.span<c){var d=f.span;f.span=b.span/c;e=true}}if(e){b.min=parseInt(this.thumbLeft)-this.offsetBorderW+this.thumbOffsetBorderW;b.minSpan=b.span;this.x=this.justify(b);f.min=parseInt(this.thumbTop)-this.offsetBorderH+this.thumbOffsetBorderH;f.minSpan=f.span;this.y=this.justify(f)}},show:function(){var a={x:this.x.min-20,y:this.y.min-20,w:this.x.span+40,h:this.y.span+40+this.spaceForCaption};hs.hideSelects=(hs.ie&&hs.ieVersion()<7);if(hs.hideSelects){this.showHideElements("SELECT","hidden",a)}hs.hideIframes=((window.opera&&navigator.appVersion<9)||navigator.vendor=="KDE"||(hs.ie&&hs.ieVersion()<5.5));if(hs.hideIframes){this.showHideElements("IFRAME","hidden",a)}if(this.x.imgSpan){this.content.style.margin="0 auto"}this.changeSize(1,{x:this.thumbLeft+this.thumbOffsetBorderW-this.offsetBorderW,y:this.thumbTop+this.thumbOffsetBorderH-this.offsetBorderH,w:this.thumbWidth,h:this.thumbHeight,imgW:this.thumbWidth,o:hs.outlineStartOffset},{x:this.x.min,y:this.y.min,w:this.x.span,h:this.y.span,imgW:this.x.imgSpan,o:this.objOutline?this.objOutline.offset:0},hs.expandDuration,hs.expandSteps)},changeSize:function(k,o,p,b,l){if(k&&this.objOutline&&!this.outlineWhileAnimating){this.objOutline.setPosition(this,this.x.min,this.y.min,this.x.span,this.y.span)}else{if(!k&&this.objOutline){if(this.outlineWhileAnimating){this.objOutline.setPosition(this,o.x,o.y,o.w,o.h)}else{this.objOutline.destroy(this.preserveContent)}}}if(!k){var d=this.wrapper.childNodes.length;for(i=d-1;i>=0;i--){var c=this.wrapper.childNodes[i];if(c!=this.content){hs.purge(c);this.wrapper.removeChild(c)}}}var j=(p.w-o.w)/l,g=(p.imgW-o.imgW)/l,a=(p.h-o.h)/l,h=(p.x-o.x)/l,f=(p.y-o.y)/l,m=(p.o-o.o)/l,q,e=this;for(i=1;i<=l;i++){o.w+=j;o.imgW+=g;o.h+=a;o.x+=h;o.y+=f;o.o+=m;q=Math.round(i*(b/l));(function(){var r=i<l?o:p,t={},s=i;for(var n in r){t[n]=r[n]}setTimeout(function(){if(k&&s==1){e.content.style.visibility="visible";e.a.className+=" highslide-active-anchor"}e.setSize(t)},q)})()}if(k){setTimeout(function(){if(e.objOutline){e.objOutline.table.style.visibility="visible"}},q);setTimeout(function(){if(e.caption){e.writeCaption()}e.afterExpand()},q+50)}else{setTimeout(function(){e.afterClose()},q)}},setSize:function(c){try{this.wrapper.style.width=(c.w+2*this.offsetBorderW)+"px";this.content.style.width=(c.imgW||c.w)+"px";this.content.style.height=c.h+"px";if(this.objOutline&&this.outlineWhileAnimating){var b=this.objOutline.offset-c.o;this.objOutline.setPosition(this,c.x+b,c.y+b,c.w-2*b,c.h-2*b,1)}hs.setStyles(this.wrapper,{visibility:"visible",left:c.x+"px",top:c.y+"px"})}catch(a){window.location.href=hs.getSrc(this.a)}},afterExpand:function(){this.isExpanded=true;this.focus();this.createOverlays();if(hs.showCredits){this.writeCredits()}if(this.fullExpandWidth>this.x.span){this.createFullExpand()}if(!this.caption){this.prepareNextOutline()}},prepareNextOutline:function(){var a=this.key;var b=this.outlineType;new hs.Outline(b,function(){try{hs.expanders[a].preloadNext()}catch(c){}})},preloadNext:function(){var b=hs.getAdjacentAnchor(this.key,1);if(b.onclick.toString().match(/hs\.expand/)){var a=hs.createElement("img",{src:hs.getSrc(b)})}},cancelLoading:function(){hs.expanders[this.key]=null;this.a.style.cursor=this.originalCursor;if(this.loading){hs.loading.style.left="-9999px"}},writeCredits:function(){var a=hs.createElement("a",{href:hs.creditsHref,className:"highslide-credits",innerHTML:hs.creditsText,title:hs.creditsTitle});this.createOverlay(a,"top left")},getCaption:function(){if(!this.captionId&&this.thumbsUserSetId){this.captionId="caption-for-"+this.thumbsUserSetId}if(this.captionId){this.caption=hs.getNode(this.captionId)}if(!this.caption&&!this.captionText&&this.captionEval){try{this.captionText=eval(this.captionEval)}catch(e){}}if(!this.caption&&this.captionText){this.caption=hs.createElement("div",{className:"highslide-caption",innerHTML:this.captionText})}if(!this.caption){var next=this.a.nextSibling;while(next&&!hs.isHsAnchor(next)){if(/highslide-caption/.test(next.className)){this.caption=next.cloneNode(1);break}next=next.nextSibling}}if(this.caption){this.marginBottom+=this.spaceForCaption}},writeCaption:function(){try{hs.setStyles(this.wrapper,{width:this.wrapper.offsetWidth+"px",height:this.wrapper.offsetHeight+"px"});hs.setStyles(this.caption,{visibility:"hidden",marginTop:hs.safari?0:"-"+this.y.span+"px"});this.caption.className+=" highslide-display-block";var a,j=this;if(hs.ie&&(hs.ieVersion()<6||document.compatMode=="BackCompat")){a=this.caption.offsetHeight}else{var b=hs.createElement("div",{innerHTML:this.caption.innerHTML},null,null,true);this.caption.innerHTML="";this.caption.appendChild(b);a=this.caption.childNodes[0].offsetHeight;this.caption.innerHTML=this.caption.childNodes[0].innerHTML}hs.setStyles(this.caption,{overflow:"hidden",height:0,zIndex:2,marginTop:0});this.wrapper.style.height="auto";if(hs.captionSlideSpeed){var f=(Math.round(a/50)||1)*hs.captionSlideSpeed}else{this.placeCaption(a,1);return}for(var d=a%f,c=0;d<=a;d+=f,c+=10){(function(){var h=d,e=(d==a)?1:0;setTimeout(function(){j.placeCaption(h,e)},c)})()}}catch(g){}},placeCaption:function(a,b){if(!this.caption){return}this.caption.style.height=a+"px";this.caption.style.visibility="visible";this.y.span=this.wrapper.offsetHeight-2*this.offsetBorderH;var c=this.objOutline;if(c){c.td[4].style.height=(this.wrapper.offsetHeight-2*this.objOutline.offset)+"px";if(c.hasAlphaImageLoader){c.td[3].style.height=c.td[5].style.height=c.td[4].style.height}}if(b){this.prepareNextOutline()}},showHideElements:function(b,a,e){var d=document.getElementsByTagName(b);if(d){for(i=0;i<d.length;i++){if(d[i].nodeName==b){var g=d[i].getAttribute("hidden-by");if(a=="visible"&&g){g=g.replace("["+this.key+"]","");d[i].setAttribute("hidden-by",g);if(!g){d[i].style.visibility="visible"}}else{if(a=="hidden"){var j=hs.position(d[i]);j.w=d[i].offsetWidth;j.h=d[i].offsetHeight;var h=(j.x+j.w<e.x||j.x>e.x+e.w);var f=(j.y+j.h<e.y||j.y>e.y+e.h);var c=hs.getWrapperKey(d[i]);if(!h&&!f&&c!=this.key){if(!g){d[i].setAttribute("hidden-by","["+this.key+"]")}else{if(!g.match("["+this.key+"]")){d[i].setAttribute("hidden-by",g+"["+this.key+"]")}}d[i].style.visibility="hidden"}else{if(g=="["+this.key+"]"||hs.focusKey==c){d[i].setAttribute("hidden-by","");d[i].style.visibility="visible"}else{if(g&&g.match("["+this.key+"]")){d[i].setAttribute("hidden-by",g.replace("["+this.key+"]",""))}}}}}}}}},focus:function(){this.wrapper.style.zIndex=hs.zIndexCounter++;for(i=0;i<hs.expanders.length;i++){if(hs.expanders[i]&&i==hs.focusKey){var a=hs.expanders[i];a.content.className+=" highslide-"+a.contentType+"-blur";if(a.caption){a.caption.className+=" highslide-caption-blur"}a.content.style.cursor=hs.ie?"hand":"pointer";a.content.title=hs.focusTitle}}if(this.objOutline){this.objOutline.table.style.zIndex=this.wrapper.style.zIndex}this.content.className="highslide-"+this.contentType;if(this.caption){this.caption.className=this.caption.className.replace(" highslide-caption-blur","")}this.content.title=hs.restoreTitle;hs.styleRestoreCursor=window.opera?"pointer":"url("+hs.graphicsDir+hs.restoreCursor+"), pointer";if(hs.ie&&hs.ieVersion()<6){hs.styleRestoreCursor="hand"}this.content.style.cursor=hs.styleRestoreCursor;hs.focusKey=this.key;hs.addEventListener(document,"keydown",hs.keyHandler)},move:function(a){this.x.min=a.left+a.dX;this.y.min=a.top+a.dY;hs.setStyles(this.wrapper,{left:this.x.min+"px",top:this.y.min+"px"});if(this.objOutline){this.objOutline.setPosition(this,this.x.min,this.y.min,this.x.span,this.y.span)}},close:function(){if(this.isClosing){return}this.isClosing=true;hs.removeEventListener(document,"keydown",hs.keyHandler);try{this.content.style.cursor="default";this.changeSize(0,{x:this.x.min,y:this.y.min,w:this.x.span,h:parseInt(this.content.style.height),imgW:this.x.imgSpan,o:this.objOutline?this.objOutline.offset:0},{x:this.thumbLeft-this.offsetBorderW+this.thumbOffsetBorderW,y:this.thumbTop-this.offsetBorderH+this.thumbOffsetBorderH,w:this.thumbWidth,h:this.thumbHeight,imgW:this.thumbWidth,o:hs.outlineStartOffset},hs.restoreDuration,hs.restoreSteps)}catch(a){this.afterClose()}},createOverlay:function(e,a,d,c){if(typeof e=="string"){e=hs.getNode(e)}if(!e||typeof e=="string"){return}var b=hs.createElement("div",null,{left:0,top:0,position:"absolute",zIndex:3,visibility:"hidden"},this.wrapper,true);if(c){hs.setStyles(e,{opacity:c})}e.className+=" highslide-display-block";b.appendChild(e);b.hsPos=a;this.positionOverlay(b);if(d){b.setAttribute("hideOnMouseOut",true)}if(!c){c=1}b.setAttribute("opacity",c);hs.fade(b,0,c);hs.push(this.overlays,b)},positionOverlay:function(d){var f=this.offsetBorderW;var b=this.x.span-d.offsetWidth;var e=this.offsetBorderH;var c=parseInt(this.content.style.height)-d.offsetHeight;var a=d.hsPos?d.hsPos:"center center";if(a.match(/^bottom/)){e+=c}if(a.match(/^center/)){e+=c/2}if(a.match(/right$/)){f+=b}if(a.match(/center$/)){f+=b/2}d.style.left=f+"px";d.style.top=e+"px"},createOverlays:function(){for(i=0;i<hs.overlays.length;i++){var a=hs.overlays[i];if((!a.thumbnailId&&!a.slideshowGroup)||a.thumbnailId==this.thumbsUserSetId||a.slideshowGroup===this.slideshowGroup){this.createOverlay(a.overlayId,a.position,a.hideOnMouseOut,a.opacity)}}},createFullExpand:function(){var b=hs.createElement("a",{href:"javascript:hs.expanders["+this.key+"].doFullExpand();",title:hs.fullExpandTitle,className:"highslide-full-expand"});this.fullExpandLabel=b;this.createOverlay(b,hs.fullExpandPosition,true,hs.fullExpandOpacity)},doFullExpand:function(){try{hs.purge(this.fullExpandLabel);this.fullExpandLabel.parentNode.removeChild(this.fullExpandLabel);this.focus();this.x.min=parseInt(this.wrapper.style.left)-(this.fullExpandWidth-this.content.width)/2;if(this.x.min<hs.marginLeft){this.x.min=hs.marginLeft}this.wrapper.style.left=this.x.min+"px";hs.setStyles(this.content,{width:this.fullExpandWidth+"px",height:this.fullExpandHeight+"px"});this.x.span=this.fullExpandWidth;this.wrapper.style.width=(this.x.span+2*this.offsetBorderW)+"px";this.y.span=this.wrapper.offsetHeight-2*this.offsetBorderH;if(this.objOutline){this.objOutline.setPosition(this,this.x.min,this.y.min,this.x.span,this.y.span)}for(var a=0;a<this.overlays.length;a++){this.positionOverlay(this.overlays[a])}this.redoShowHide()}catch(b){window.location.href=this.content.src}},redoShowHide:function(){var a={x:parseInt(this.wrapper.style.left)-20,y:parseInt(this.wrapper.style.top)-20,w:this.content.offsetWidth+40,h:this.content.offsetHeight+40+this.spaceForCaption};if(hs.hideSelects){this.showHideElements("SELECT","hidden",a)}if(hs.hideIframes){this.showHideElements("IFRAME","hidden",a)}},wrapperMouseHandler:function(b){if(!b){b=window.event}var a=/mouseover/i.test(b.type);if(!b.target){b.target=b.srcElement}if(!b.relatedTarget){b.relatedTarget=a?b.fromElement:b.toElement}if(hs.getExpander(b.relatedTarget)==this||hs.dragArgs){return}for(i=0;i<this.overlays.length;i++){var c=this.overlays[i];if(c.getAttribute("hideOnMouseOut")){var f=a?0:c.getAttribute("opacity"),d=a?c.getAttribute("opacity"):0;hs.fade(c,f,d)}}},afterClose:function(){this.a.className=this.a.className.replace("highslide-active-anchor","");if(hs.hideSelects){this.showHideElements("SELECT","visible")}if(hs.hideIframes){this.showHideElements("IFRAME","visible")}if(this.objOutline&&this.outlineWhileAnimating){this.objOutline.destroy()}hs.purge(this.wrapper);if(hs.ie&&hs.ieVersion()<5.5){this.wrapper.innerHTML=""}else{this.wrapper.parentNode.removeChild(this.wrapper)}hs.expanders[this.key]=null;hs.cleanUp()}};var HsExpander=hs.Expander;hs.addEventListener(document,"mousedown",hs.mouseClickHandler);hs.addEventListener(document,"mouseup",hs.mouseClickHandler);hs.addEventListener(window,"load",hs.preloadImages);