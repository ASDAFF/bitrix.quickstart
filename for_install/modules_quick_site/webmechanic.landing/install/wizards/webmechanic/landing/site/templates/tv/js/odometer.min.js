(function(){var o,q,G,j,v,y,F,k,t,m,z,l,a,A,c,f,d,p,B,D,e,r,i,E,C,s,b,x,u,h,n,g,w=[].slice;d='<span class="odometer-value"></span>';A='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+d+"</span></span>";j='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+A+"</span></span>";F='<span class="odometer-formatting-mark"></span>';G="(,ddd).dd";k=/^\(?([^)]*)\)?(?:(.)(d+))?$/;t=30;y=200;o=20;m=2;v=0.1;z=1000/t;q=1000/o;c="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd";C=document.createElement("div").style;f=(C.transition!=null)||(C.webkitTransition!=null)||(C.mozTransition!=null)||(C.oTransition!=null);i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;l=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;B=function(H){var I;I=document.createElement("div");I.innerHTML=H;return I.children[0]};r=function(I,H){return I.className=I.className.replace(new RegExp("(^| )"+(H.split(" ").join("|"))+"( |$)","gi")," ")};p=function(I,H){r(I,H);return I.className+=" "+H};s=function(J,I){var H;if(document.createEvent!=null){H=document.createEvent("HTMLEvents");H.initEvent(I,true,true);return J.dispatchEvent(H)}};e=function(){var I,H;return(I=(H=window.performance)!=null?typeof H.now==="function"?H.now():void 0:void 0)!=null?I:+(new Date)};E=function(I,H){if(H==null){H=0}if(!H){return Math.round(I)}I*=Math.pow(10,H);I+=0.5;I=Math.floor(I);return I/=Math.pow(10,H)};b=function(H){if(H<0){return Math.ceil(H)}else{return Math.floor(H)}};D=function(H){return H-E(H)};u=false;(x=function(){var L,K,I,J,H;if(u){return}if(window.jQuery!=null){u=true;J=["html","text"];H=[];for(K=0,I=J.length;K<I;K++){L=J[K];H.push((function(N){var M;M=window.jQuery.fn[N];return window.jQuery.fn[N]=function(P){var O;if((P==null)||(((O=this[0])!=null?O.odometer:void 0)==null)){return M.apply(this,arguments)}return this[0].odometer.update(P)}})(L))}return H}})();setTimeout(x,0);a=(function(){function H(U){var O,K,R,T,S,L,P,M,J,I,N=this;this.options=U;this.el=this.options.el;if(this.el.odometer!=null){return this.el.odometer}this.el.odometer=this;M=H.options;for(K in M){T=M[K];if(this.options[K]==null){this.options[K]=T}}if((S=this.options).duration==null){S.duration=y}this.MAX_VALUES=((this.options.duration/z)/m)|0;this.resetFormat();this.value=this.cleanValue((J=this.options.value)!=null?J:"");this.renderInside();this.render();try{I=["innerHTML","innerText","textContent"];for(L=0,P=I.length;L<P;L++){R=I[L];if(this.el[R]!=null){(function(V){return Object.defineProperty(N.el,V,{get:function(){var W;if(V==="innerHTML"){return N.inside.outerHTML}else{return(W=N.inside.innerText)!=null?W:N.inside.textContent}},set:function(W){return N.update(W)}})})(R)}}}catch(Q){O=Q;this.watchForMutations()}this}H.prototype.renderInside=function(){this.inside=document.createElement("div");this.inside.className="odometer-inside";this.el.innerHTML="";return this.el.appendChild(this.inside)};H.prototype.watchForMutations=function(){var I,K=this;if(l==null){return}try{if(this.observer==null){this.observer=new l(function(L){var M;M=K.el.innerText;K.renderInside();K.render(K.value);return K.update(M)})}this.watchMutations=true;return this.startWatchingMutations()}catch(J){I=J}};H.prototype.startWatchingMutations=function(){if(this.watchMutations){return this.observer.observe(this.el,{childList:true})}};H.prototype.stopWatchingMutations=function(){var I;return(I=this.observer)!=null?I.disconnect():void 0};H.prototype.cleanValue=function(J){var I;if(typeof J==="string"){J=J.replace((I=this.format.radix)!=null?I:".","<radix>");J=J.replace(/[.,]/g,"");J=J.replace("<radix>",".");J=parseFloat(J,10)||0}return E(J,this.format.precision)};H.prototype.bindTransitionEnd=function(){var L,K,N,J,M,I,O=this;if(this.transitionEndBound){return}this.transitionEndBound=true;K=false;M=c.split(" ");I=[];for(N=0,J=M.length;N<J;N++){L=M[N];I.push(this.el.addEventListener(L,function(){if(K){return true}K=true;setTimeout(function(){O.render();K=false;return s(O.el,"odometerdone")},0);return true},false))}return I};H.prototype.resetFormat=function(){var N,P,K,J,L,O,M,I;N=(M=this.options.format)!=null?M:G;N||(N="d");K=k.exec(N);if(!K){throw new Error("Odometer: Unparsable digit format")}I=K.slice(1,4),O=I[0],L=I[1],P=I[2];J=(P!=null?P.length:void 0)||0;return this.format={repeating:O,radix:L,precision:J}};H.prototype.render=function(S){var J,U,Q,P,M,O,T,L,K,R,I,N;if(S==null){S=this.value}this.stopWatchingMutations();this.resetFormat();this.inside.innerHTML="";O=this.options.theme;J=this.el.className.split(" ");M=[];for(L=0,R=J.length;L<R;L++){U=J[L];if(!U.length){continue}if(P=/^odometer-theme-(.+)$/.exec(U)){O=P[1];continue}if(/^odometer(-|$)/.test(U)){continue}M.push(U)}M.push("odometer");if(!f){M.push("odometer-no-transitions")}if(O){M.push("odometer-theme-"+O)}else{M.push("odometer-auto-theme")}this.el.className=M.join(" ");this.ribbons={};this.digits=[];T=!this.format.precision||!D(S)||false;N=S.toString().split("").reverse();for(K=0,I=N.length;K<I;K++){Q=N[K];if(Q==="."){T=true}this.addDigit(Q,T)}return this.startWatchingMutations()};H.prototype.update=function(J){var I,K=this;J=this.cleanValue(J);if(!(I=J-this.value)){return}r(this.el,"odometer-animating-up odometer-animating-down odometer-animating");if(I>0){p(this.el,"odometer-animating-up")}else{p(this.el,"odometer-animating-down")}this.stopWatchingMutations();this.animate(J);this.startWatchingMutations();setTimeout(function(){K.el.offsetHeight;return p(K.el,"odometer-animating")},0);return this.value=J};H.prototype.renderDigit=function(){return B(j)};H.prototype.insertDigit=function(J,I){if(I!=null){return this.inside.insertBefore(J,I)}else{if(!this.inside.children.length){return this.inside.appendChild(J)}else{return this.inside.insertBefore(J,this.inside.children[0])}}};H.prototype.addSpacer=function(K,L,J){var I;I=B(F);I.innerHTML=K;if(J){p(I,J)}return this.insertDigit(I,L)};H.prototype.addDigit=function(L,M){var J,N,I,K;if(M==null){M=true}if(L==="-"){return this.addSpacer(L,null,"odometer-negation-mark")}if(L==="."){return this.addSpacer((K=this.format.radix)!=null?K:".",null,"odometer-radix-mark")}if(M){I=false;while(true){if(!this.format.repeating.length){if(I){throw new Error("Bad odometer format without digits")}this.resetFormat();I=true}J=this.format.repeating[this.format.repeating.length-1];this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1);if(J==="d"){break}this.addSpacer(J)}}N=this.renderDigit();N.querySelector(".odometer-value").innerHTML=L;this.digits.push(N);return this.insertDigit(N)};H.prototype.animate=function(I){if(!f||this.options.animation==="count"){return this.animateCount(I)}else{return this.animateSlide(I)}};H.prototype.animateCount=function(L){var M,K,J,O,I,N=this;if(!(K=+L-this.value)){return}O=J=e();M=this.value;return(I=function(){var R,Q,P;if((e()-O)>N.options.duration){N.value=L;N.render();s(N.el,"odometerdone");return}R=e()-J;if(R>q){J=e();P=R/N.options.duration;Q=K*P;M+=Q;N.render(Math.round(M))}if(i!=null){return i(I)}else{return setTimeout(I,q)}})()};H.prototype.getDigitCount=function(){var L,I,N,K,M,J;K=1<=arguments.length?w.call(arguments,0):[];for(L=M=0,J=K.length;M<J;L=++M){N=K[L];K[L]=Math.abs(N)}I=Math.max.apply(Math,K);return Math.ceil(Math.log(I+1)/Math.log(10))};H.prototype.getFractionalDigitCount=function(){var K,O,N,M,J,L,I;J=1<=arguments.length?w.call(arguments,0):[];O=/^\-?\d*\.(\d*?)0*$/;for(K=L=0,I=J.length;L<I;K=++L){M=J[K];J[K]=M.toString();N=O.exec(J[K]);if(N==null){J[K]=0}else{J[K]=N[1].length}}return Math.max.apply(Math,J)};H.prototype.resetDigits=function(){this.digits=[];this.ribbons=[];this.inside.innerHTML="";return this.resetFormat()};H.prototype.animateSlide=function(V){var ae,O,W,ag,T,Z,P,ai,X,U,ab,ac,aa,S,ad,Y,Q,af,N,L,K,J,ah,ak,aj,I,R,M;Y=this.value;ai=this.getFractionalDigitCount(Y,V);if(ai){V=V*Math.pow(10,ai);Y=Y*Math.pow(10,ai)}if(!(W=V-Y)){return}this.bindTransitionEnd();ag=this.getDigitCount(Y,V);T=[];ae=0;for(ab=N=0;0<=ag?N<ag:N>ag;ab=0<=ag?++N:--N){Q=b(Y/Math.pow(10,ag-ab-1));P=b(V/Math.pow(10,ag-ab-1));Z=P-Q;if(Math.abs(Z)>this.MAX_VALUES){U=[];ac=Z/(this.MAX_VALUES+this.MAX_VALUES*ae*v);O=Q;while((Z>0&&O<P)||(Z<0&&O>P)){U.push(Math.round(O));O+=ac}if(U[U.length-1]!==P){U.push(P)}ae++}else{U=(function(){M=[];for(var al=Q;Q<=P?al<=P:al>=P;Q<=P?al++:al--){M.push(al)}return M}).apply(this)}for(ab=K=0,ah=U.length;K<ah;ab=++K){X=U[ab];U[ab]=Math.abs(X%10)}T.push(U)}this.resetDigits();R=T.reverse();for(ab=J=0,ak=R.length;J<ak;ab=++J){U=R[ab];if(!this.digits[ab]){this.addDigit(" ",ab>=ai)}if((af=this.ribbons)[ab]==null){af[ab]=this.digits[ab].querySelector(".odometer-ribbon-inner")}this.ribbons[ab].innerHTML="";if(W<0){U=U.reverse()}for(aa=I=0,aj=U.length;I<aj;aa=++I){X=U[aa];ad=document.createElement("div");ad.className="odometer-value";ad.innerHTML=X;this.ribbons[ab].appendChild(ad);if(aa===U.length-1){p(ad,"odometer-last-value")}if(aa===0){p(ad,"odometer-first-value")}}}if(Q<0){this.addDigit("-")}S=this.inside.querySelector(".odometer-radix-mark");if(S!=null){S.parent.removeChild(S)}if(ai){return this.addSpacer(this.format.radix,this.digits[ai-1],"odometer-radix-mark")}};return H})();a.options=(n=window.odometerOptions)!=null?n:{};setTimeout(function(){var K,J,L,H,I;if(window.odometerOptions){H=window.odometerOptions;I=[];for(K in H){J=H[K];I.push((L=a.options)[K]!=null?(L=a.options)[K]:L[K]=J)}return I}},0);a.init=function(){var K,M,L,J,H,I;if(document.querySelectorAll==null){return}M=document.querySelectorAll(a.options.selector||".odometer");I=[];for(L=0,J=M.length;L<J;L++){K=M[L];I.push(K.odometer=new a({el:K,value:(H=K.innerText)!=null?H:K.textContent}))}return I};if((((g=document.documentElement)!=null?g.doScroll:void 0)!=null)&&(document.createEventObject!=null)){h=document.onreadystatechange;document.onreadystatechange=function(){if(document.readyState==="complete"&&a.options.auto!==false){a.init()}return h!=null?h.apply(this,arguments):void 0}}else{document.addEventListener("DOMContentLoaded",function(){if(a.options.auto!==false){return a.init()}},false)}if(typeof define==="function"&&define.amd){define(["jquery"],function(){return a})}else{if(typeof exports===!"undefined"){module.exports=a}else{window.Odometer=a}}}).call(this);