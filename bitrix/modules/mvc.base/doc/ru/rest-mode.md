# Создание REST-сервера

## Включение и особенности функционирования
Любой компонент, сгенерированный мастером, может работать либо в обычном режиме, либо в режиме REST-сервера.
Для переключения режимов используется параметр REST_MODE, его можно переключить как в коде подключения компонента,
 таки в интерфейсе настроек компонента, в разделе "дополнительные параметры". 
 
Динамически, на этапе обработки запроса, переключать режимы работы, переключать режимы нельзя.
  
После переключения в поведении компонента происходят следующие изменения: 
 - Значение, возвращаемое action-функциями, будет сконвертировано в JSON и отправлено в качестве тела ответа
 - Элемент массива `$this->arResult['RESPONSE_DATA']` будет использован для сохранения данных, возвращаемых action-функцией. 
    Соответственно, если внутри action был использован этот ключ, то после выполнения функции все данные в нём сотрутся. 
 - Если запрос содержит данные в формате JSON, то они будут преобразованы в ассоциативный массив и добавлены в переменную $request компонента.
    То есть для получения этих данных нужно использовать вызов типа `$this->request['any-key-from-json']`.
 - Подключение и рендер шаблона теряет смысл, т.к. это всё будет сброшено командой `RestartBuffer();`. 
    Самостоятельно сбрасывать буфер нет необходимости, компонент это сделает за вас. 

