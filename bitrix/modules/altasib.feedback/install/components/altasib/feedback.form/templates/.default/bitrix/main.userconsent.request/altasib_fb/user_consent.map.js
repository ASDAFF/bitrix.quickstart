{"version":3,"file":"user_consent.min.js","sources":["user_consent.js"],"names":["UserConsentControl","params","this","caller","formNode","controlNode","inputNode","config","prototype","BX","UserConsent","msg","title","message","btnAccept","btnReject","loading","errTextLoad","events","save","refused","accepted","textList","current","autoSave","isFormSubmitted","isConsentSaved","attributeControl","load","context","item","find","bind","loadAll","limit","forEach","loadFromForms","formNodes","document","getElementsByTagName","convert","nodeListToArray","controlNodes","querySelectorAll","map","createItem","filter","submitEventName","addCustomEvent","onSubmit","onClick","querySelector","JSON","parse","getAttribute","parameters","tagName","findParent","e","requestForItem","preventDefault","check","checked","saveConsent","setCurrent","requestConsent","id","sec","replace","onAccepted","onRefused","actionRequestUrl","actionUrl","onCustomEvent","submit","initPopup","popup","isInit","nodes","container","shadow","head","loader","content","textarea","buttonAccept","buttonReject","onAccept","hide","onReject","init","tmplNode","createElement","innerHTML","children","body","insertBefore","textContent","setTitle","text","setContent","show","isContentVisible","style","display","sendData","hasOwnProperty","setTextToPopup","sendActionRequest","data","alert","titleBar","textTitlePos","indexOf","textTitleDotPos","substr","trim","split","Function","call","String","callback","url","window","location","href","originId","inputs","input","name","value","originatorId","apply","action","callbackSuccess","callbackFailure","sessid","bitrix_sessid","ajax","method","timeout","dataType","processData","onsuccess","proxy","error","onfailure","ready"],"mappings":"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"}