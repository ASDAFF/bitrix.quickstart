function RSGoProSorterGo(f,e,b,d){if(e){var a="#"+f;RSGoPro_Area2Darken($(a),"animashka");e.parent().find("a").removeClass("selected");e.addClass("selected");var c=e.html();if(e.parents(".dropdown").find(".select").length>0){e.parents(".dropdown").find(".select").html(c)}if(d!="Y"&&b&&b!=""){$.getJSON(b,{},function(g){RSGoPro_PutJSon(g,false,f);setTimeout(function(){RSGoPro_ScrollInit(".prices_jscrollpane");RSGoPro_TIMER();RSGoPro_SetSet()},75)}).fail(function(g){console.warn("sorter - change template -> error responsed")}).always(function(){RSGoPro_Area2Darken($(a),"animashka")})}}}$(document).ready(function(){$(document).on("click",".catalogsorter .template a, .catalogsorter .output .cool .dropdownin a, .catalogsorter .sort .cool .dropdownin a",function(){var a=$(this);if(a.parents(".catalogsorter").length>0){var d=a.parents(".catalogsorter").data("ajaxpagesid");if(d&&d!=""){if(a.parents(".js-bigdata").length>0){console.log("sorter - bigdata");RSGoProSorterGo(d,a,"","Y");var c=a.parents(".js-bigdata");BX.ajax({url:c.data("url"),method:"POST",data:{parameters:c.data("parameters"),template:c.data("template"),rcm:"yes",view:a.data("fvalue")},dataType:"html",processData:false,start:true,onsuccess:function(f){var e=BX.processHTML(f);BX(c.data("injectId")).innerHTML=e.HTML;BX.ajax.processScripts(e.SCRIPT);RSGoPro_ScrollInit(".prices_jscrollpane");RSGoPro_Area2Darken($("#"+d),"animashka");RSGoPro_TIMER();RSGoPro_SetSet()}})}else{var b=a.attr("href")+"&AJAX_CALL=Y&sorterchange="+d;RSGoProSorterGo(d,a,b,"N");if(a.parents(".dropdown").length>0){a.parents(".dropdown").removeClass("hover")}}}}return false});$(document).on("mouseenter",".catalogsorter .dropdown",function(){$(this).addClass("hover");return false}).on("mouseleave",".catalogsorter .dropdown",function(){$(this).removeClass("hover");return false}).on("click",".catalogsorter .dropdown",function(){$(this).toggleClass("hover");return false});$(".mix .catalogsorter").addClass("used")});