if(!window.BX_YMapAddPlacemark){window.BX_YMapAddPlacemark=function(d,c){if(null==d){return false}if(!c.LAT||!c.LON){return false}var b=new d.bx_context.YMaps.Placemark(new d.bx_context.YMaps.GeoPoint(c.LON,c.LAT),{style:window.plainstyle});if(null!=c.TEXT&&c.TEXT.length>0){b.setBalloonContent(c.TEXT.replace(/\n/g,"<br />"));var e="";if(c.TEXT.length>0){var a=c.TEXT.indexOf("\n");e=a<=0?c.TEXT:c.TEXT.substring(0,a)}b.setIconContent(e)}d.addOverlay(b);return b}}if(!window.BX_YMapAddPolyline){window.BX_YMapAddPolyline=function(g,e){if(null==g){return false}if(null!=e.POINTS&&e.POINTS.length>1){var b=[];for(var d=0,a=e.POINTS.length;d<a;d++){b[d]=new g.bx_context.YMaps.GeoPoint(e.POINTS[d].LON,e.POINTS[d].LAT)}}else{return false}if(null!=e.STYLE){var h=new g.bx_context.YMaps.Style();h.lineStyle=new g.bx_context.YMaps.LineStyle();h.lineStyle.strokeColor=e.STYLE.lineStyle.strokeColor;h.lineStyle.strokeWidth=e.STYLE.lineStyle.strokeWidth;var f="bitrix#line_"+Math.random();g.bx_context.YMaps.Styles.add(f,h)}var c=new g.bx_context.YMaps.Polyline(b,{style:f,clickable:true});c.setBalloonContent(e.TITLE);g.addOverlay(c);return c}};