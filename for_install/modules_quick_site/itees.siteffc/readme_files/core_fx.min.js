(function(c){var a={time:1,step:0.05,type:"linear",allowFloat:false};BX.fx=function(d){this.options=d;if(null!=this.options.time){this.options.originalTime=this.options.time}if(null!=this.options.step){this.options.originalStep=this.options.step}if(!this.__checkOptions()){return false}this.__go=BX.delegate(this.go,this);this.PARAMS={}};BX.fx.prototype.__checkOptions=function(){if(typeof this.options.start!=typeof this.options.finish){return false}if(null==this.options.time){this.options.time=a.time}if(null==this.options.step){this.options.step=a.step}if(null==this.options.type){this.options.type=a.type}if(null==this.options.allowFloat){this.options.allowFloat=a.allowFloat}this.options.time*=1000;this.options.step*=1000;if(typeof this.options.start!="object"){this.options.start={_param:this.options.start};this.options.finish={_param:this.options.finish}}var d;for(d in this.options.start){if(null==this.options.finish[d]){this.options.start[d]=null;delete this.options.start[d]}}if(!BX.type.isFunction(this.options.type)){if(BX.type.isFunction(c[this.options.type])){this.options.type=c[this.options.type]}else{if(BX.type.isFunction(BX.fx.RULES[this.options.type])){this.options.type=BX.fx.RULES[this.options.type]}else{this.options.type=BX.fx.RULES[a.type]}}}return true};BX.fx.prototype.go=function(){var d=new Date().valueOf();if(d<this.PARAMS.timeFinish){for(var e in this.PARAMS.current){this.PARAMS.current[e][0]=this.options.type.apply(this,[{start_value:this.PARAMS.start[e][0],finish_value:this.PARAMS.finish[e][0],current_value:this.PARAMS.current[e][0],current_time:d-this.PARAMS.timeStart,total_time:this.options.time}])}this._callback(this.options.callback);if(!this.paused){this.PARAMS.timer=setTimeout(this.__go,this.options.step)}}else{this.stop()}};BX.fx.prototype._callback=function(d){var f={};d=d||this.options.callback;for(var e in this.PARAMS.current){f[e]=(this.options.allowFloat?this.PARAMS.current[e][0]:Math.round(this.PARAMS.current[e][0]))+this.PARAMS.current[e][1]}return d.apply(this,[null!=f._param?f._param:f])};BX.fx.prototype.start=function(){var d,f,e;this.PARAMS.start={};this.PARAMS.current={};this.PARAMS.finish={};for(d in this.options.start){f=+this.options.start[d];e=(this.options.start[d]+"").substring((f+"").length);this.PARAMS.start[d]=[f,e];this.PARAMS.current[d]=[f,e];this.PARAMS.finish[d]=[+this.options.finish[d],e]}this._callback(this.options.callback_start);this._callback(this.options.callback);this.PARAMS.timeStart=new Date().valueOf();this.PARAMS.timeFinish=this.PARAMS.timeStart+this.options.time;this.PARAMS.timer=setTimeout(BX.delegate(this.go,this),this.options.step);return this};BX.fx.prototype.pause=function(){if(this.paused){this.PARAMS.timer=setTimeout(this.__go,this.options.step);this.paused=false}else{clearTimeout(this.PARAMS.timer);this.paused=true}};BX.fx.prototype.stop=function(d){d=!!d;if(this.PARAMS.timer){clearTimeout(this.PARAMS.timer)}if(null!=this.options.originalTime){this.options.time=this.options.originalTime}if(null!=this.options.originalStep){this.options.step=this.options.originalStep}this.PARAMS.current=this.PARAMS.finish;if(!d){this._callback(this.options.callback);this._callback(this.options.callback_complete)}};BX.fx.RULES={linear:function(d){return d.start_value+(d.current_time/d.total_time)*(d.finish_value-d.start_value)},decelerated:function(d){return d.start_value+Math.sqrt(d.current_time/d.total_time)*(d.finish_value-d.start_value)},accelerated:function(e){var d=e.current_time/e.total_time;return e.start_value+d*d*(e.finish_value-e.start_value)}};BX.fx.hide=function(e,d,g){e=BX(e);if(typeof d=="object"&&null==g){g=d;d=g.type}if(!BX.type.isNotEmptyString(d)){e.style.display="none";return}var f=BX.fx.EFFECTS[d](e,g,0);f.callback_complete=function(){if(g.hide!==false){e.style.display="none"}if(g.callback_complete){g.callback_complete.apply(this,arguments)}};return(new BX.fx(f)).start()};BX.fx.show=function(e,d,g){e=BX(e);if(typeof d=="object"&&null==g){g=d;d=g.type}if(!g){g={}}if(!BX.type.isNotEmptyString(d)){e.style.display="block";return}var f=BX.fx.EFFECTS[d](e,g,1);f.callback_complete=function(){if(g.show!==false){e.style.display="block"}if(g.callback_complete){g.callback_complete.apply(this,arguments)}};return(new BX.fx(f)).start()};BX.fx.EFFECTS={scroll:function(e,f,g){if(!f.direction){f.direction="vertical"}var i=f.direction=="horizontal"?"width":"height";var h=parseInt(BX.style(e,i));if(isNaN(h)){h=BX.pos(e)[i]}if(g==0){var j=h,d=f.min_height?parseInt(f.min_height):0}else{var d=h,j=f.min_height?parseInt(f.min_height):0}return{start:j,finish:d,time:f.time||a.time,type:"linear",callback_start:function(){if(BX.style(e,"position")=="static"){e.style.position="relative"}e.style.overflow="hidden";e.style[i]=j+"px";e.style.display="block"},callback:function(k){e.style[i]=k+"px"}}},fade:function(d,e,f){var g={time:e.time||a.time,type:f==0?"decelerated":"linear",start:f==0?1:0,finish:f==0?0:1,allowFloat:true};if(BX.browser.IsIE()&&!BX.browser.IsIE9()){g.start*=100;g.finish*=100;g.allowFloat=false;g.callback_start=function(){d.style.display="block";d.style.filter+="progid:DXImageTransform.Microsoft.Alpha(opacity="+g.start+")"};g.callback=function(h){(d.filters["DXImageTransform.Microsoft.alpha"]||d.filters.alpha).opacity=h}}else{g.callback_start=function(){d.style.display="block"};g.callback=function(h){d.style.opacity=d.style.KhtmlOpacity=d.style.MozOpacity=h}}return g},fold:function(e,f,h){if(h!=0){return}var i=BX.pos(e);var g=i.height/(i.width+i.height);var d={time:f.time||a.time,callback_complete:f.callback_complete,hide:f.hide};f.type="scroll";f.direction="vertical";f.min_height=f.min_height||10;f.hide=false;f.time=g*d.time;f.callback_complete=function(){e.style.whiteSpace="nowrap";f.direction="horizontal";f.min_height=null;f.time=d.time-f.time;f.hide=d.hide;f.callback_complete=d.callback_complete;BX.fx.hide(e,f)};return BX.fx.EFFECTS.scroll(e,f,h)},scale:function(e,f,g){var h={width:parseInt(BX.style(e,"width")),height:parseInt(BX.style(e,"height"))};if(isNaN(h.width)||isNaN(h.height)){var j=BX.pos(e);h={width:j.width,height:j.height}}if(g==0){var i=h,d={width:0,height:0}}else{var d=h,i={width:0,height:0}}return{start:i,finish:d,time:f.time||a.time,type:"linear",callback_start:function(){e.style.position="relative";e.style.overflow="hidden";e.style.display="block";e.style.height=i.height+"px";e.style.width=i.width+"px"},callback:function(k){e.style.height=k.height+"px";e.style.width=k.width+"px"}}}};var b={arStack:{},arRules:{},globalAnimationId:0};BX.fx.colorAnimate=function(h,k,e){if(h==null){return}animationId=h.getAttribute("data-animation-id");if(animationId==null){animationId=b.globalAnimationId;h.setAttribute("data-animation-id",b.globalAnimationId++)}var d=k.split(/\s*,\s*/);for(var f=0;f<d.length;f++){k=d[f];if(!b.arRules[k]){continue}var g=0;if(!b.arStack[animationId]){b.arStack[animationId]={}}else{if(b.arStack[animationId][k]){g=b.arStack[animationId][k].i;clearInterval(b.arStack[animationId][k].tId)}}if((g==0&&e)||(g==b.arRules[k][3]&&!e)){continue}b.arStack[animationId][k]={i:g,element:h,tId:setInterval('BX.fx.colorAnimate.run("'+animationId+'","'+k+'")',b.arRules[k][4]),back:Boolean(e)}}};BX.fx.colorAnimate.addRule=function(j,i,e,h,g,f,d){b.arRules[j]=[BX.util.hex2rgb(i),BX.util.hex2rgb(e),h.replace(/\-(.)/g,function(){return arguments[1].toUpperCase()}),g,f||1,d||false]};BX.fx.colorAnimate.run=function(i,h){element=b.arStack[i][h].element;b.arStack[i][h].i+=b.arStack[i][h].back?-1:1;var e=b.arStack[i][h].i/b.arRules[h][3];var f=1-e;var d=b.arRules[h][0];var g=b.arRules[h][1];element.style[b.arRules[h][2]]="rgb("+Math.floor(d.r*f+g.r*e)+","+Math.floor(d.g*f+g.g*e)+","+Math.floor(d.b*f+g.b*e)+")";if(b.arStack[i][h].i==b.arRules[h][3]||b.arStack[i][h].i==0){clearInterval(b.arStack[i][h].tId);if(b.arRules[h][5]){BX.fx.colorAnimate(b.arStack[i][h].element,h,true)}}};BX.easing=function(d){this.options=d;this.timer=null};BX.easing.prototype.animate=function(){if(!this.options||!this.options.start||!this.options.finish||typeof(this.options.start)!="object"||typeof(this.options.finish)!="object"){return null}for(var d in this.options.start){if(typeof(this.options.finish[d])=="undefined"){delete this.options.start[d]}}this.options.progress=function(e){var g={};for(var f in this.start){g[f]=Math.round(this.start[f]+(this.finish[f]-this.start[f])*e)}if(this.step){this.step(g)}};this.animateProgress()};BX.easing.prototype.stop=function(d){if(this.timer){clearInterval(this.timer);this.timer=null;if(d){this.options.complete&&this.options.complete()}}};BX.easing.prototype.animateProgress=function(){var f=new Date();var e=this.options.transition||BX.easing.transitions.linear;var d=this.options.duration||1000;this.timer=setInterval(BX.proxy(function(){var g=(new Date()-f)/d;if(g>1){g=1}this.options.progress(e(g));if(g==1){this.stop(true)}},this),this.options.delay||13)};BX.easing.makeEaseInOut=function(d){return function(e){if(e<0.5){return d(2*e)/2}else{return(2-d(2*(1-e)))/2}}};BX.easing.makeEaseOut=function(d){return function(e){return 1-d(1-e)}};BX.easing.transitions={linear:function(d){return d},quad:function(d){return Math.pow(d,2)},cubic:function(d){return Math.pow(d,3)},quart:function(d){return Math.pow(d,4)},quint:function(d){return Math.pow(d,5)},circ:function(d){return 1-Math.sin(Math.acos(d))},back:function(d){return Math.pow(d,2)*((1.5+1)*d-1.5)},elastic:function(d){return Math.pow(2,10*(d-1))*Math.cos(20*Math.PI*1.5/3*d)},bounce:function(f){for(var e=0,d=1;1;e+=d,d/=2){if(f>=(7-4*e)/11){return -Math.pow((11-6*e-11*f)/4,2)+Math.pow(d,2)}}}}})(window);