(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./jquery.inputmask"],a)}else{a(jQuery)}}(function(a){a.extend(a.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}});a.extend(a.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(c){var b=a.inputmask.escapeRegex.call(this,c);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+b+"[01])")},val2:function(c){var b=a.inputmask.escapeRegex.call(this,c);return new RegExp("((0[1-9]|[12][0-9])"+b+"(0[1-9]|1[012]))|(30"+b+"(0[13-9]|1[012]))|(31"+b+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,b,c){if(isNaN(e)){return false}var d=parseInt(e.concat(b.toString().slice(e.length)));var f=parseInt(e.concat(c.toString().slice(e.length)));return(!isNaN(d)?b<=d&&d<=c:false)||(!isNaN(f)?b<=f&&f<=c:false)},determinebaseyear:function(c,e,g){var f=(new Date()).getFullYear();if(c>f){return c}if(e<f){var b=e.toString().slice(0,2);var h=e.toString().slice(2,4);while(e<b+g){b--}var d=b+h;return c>d?c:d}return f},onKeyUp:function(g,b,d,f){var h=a(this);if(g.ctrlKey&&g.keyCode==f.keyCode.RIGHT){var c=new Date();h.val(c.getDate().toString()+(c.getMonth()+1).toString()+c.getFullYear().toString())}},definitions:{"1":{validator:function(c,f,g,b,d){var e=d.regex.val1.test(c);if(!b&&!e){if(c.charAt(1)==d.separator||"-./".indexOf(c.charAt(1))!=-1){e=d.regex.val1.test("0"+c.charAt(0));if(e){f.buffer[g-1]="0";return{refreshFromBuffer:{start:g-1,end:g},pos:g,c:c.charAt(0)}}}}return e},cardinality:2,prevalidator:[{validator:function(c,f,g,b,d){if(!isNaN(f.buffer[g+1])){c+=f.buffer[g+1]}var e=c.length==1?d.regex.val1pre.test(c):d.regex.val1.test(c);if(!b&&!e){e=d.regex.val1.test("0"+c);if(e){f.buffer[g]="0";g++;return{pos:g}}}return e},cardinality:1}]},"2":{validator:function(d,h,f,g,b){var c=(b.mask.indexOf("2")==b.mask.length-1)?h.buffer.join("").substr(5,3):h.buffer.join("").substr(0,3);if(c.indexOf(b.placeholder[0])!=-1){c="01"+b.separator}var j=b.regex.val2(b.separator).test(c+d);if(!g&&!j){if(d.charAt(1)==b.separator||"-./".indexOf(d.charAt(1))!=-1){j=b.regex.val2(b.separator).test(c+"0"+d.charAt(0));if(j){h.buffer[f-1]="0";return{refreshFromBuffer:{start:f-1,end:f},pos:f,c:d.charAt(0)}}}}if((b.mask.indexOf("2")==b.mask.length-1)&&j){var i=h.buffer.join("").substr(4,4)+d;if(i!=b.leapday){return true}else{var e=parseInt(h.buffer.join("").substr(0,4),10);if(e%4===0){if(e%100===0){if(e%400===0){return true}else{return false}}else{return true}}else{return false}}}return j},cardinality:2,prevalidator:[{validator:function(c,g,h,b,d){if(!isNaN(g.buffer[h+1])){c+=g.buffer[h+1]}var f=(d.mask.indexOf("2")==d.mask.length-1)?g.buffer.join("").substr(5,3):g.buffer.join("").substr(0,3);if(f.indexOf(d.placeholder[0])!=-1){f="01"+d.separator}var e=c.length==1?d.regex.val2pre(d.separator).test(f+c):d.regex.val2(d.separator).test(f+c);if(!b&&!e){e=d.regex.val2(d.separator).test(f+"0"+c);if(e){g.buffer[h]="0";h++;return{pos:h}}}return e},cardinality:1}]},y:{validator:function(c,f,h,b,e){if(e.isInYearRange(c,e.yearrange.minyear,e.yearrange.maxyear)){var g=f.buffer.join("").substr(0,6);if(g!=e.leapday){return true}else{var d=parseInt(c,10);if(d%4===0){if(d%100===0){if(d%400===0){return true}else{return false}}else{return true}}else{return false}}}else{return false}},cardinality:4,prevalidator:[{validator:function(d,g,h,c,e){var f=e.isInYearRange(d,e.yearrange.minyear,e.yearrange.maxyear);if(!c&&!f){var b=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,d+"0").toString().slice(0,1);f=e.isInYearRange(b+d,e.yearrange.minyear,e.yearrange.maxyear);if(f){g.buffer[h++]=b.charAt(0);return{pos:h}}b=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,d+"0").toString().slice(0,2);f=e.isInYearRange(b+d,e.yearrange.minyear,e.yearrange.maxyear);if(f){g.buffer[h++]=b.charAt(0);g.buffer[h++]=b.charAt(1);return{pos:h}}}return f},cardinality:1},{validator:function(c,h,f,g,b){var j=b.isInYearRange(c,b.yearrange.minyear,b.yearrange.maxyear);if(!g&&!j){var d=b.determinebaseyear(b.yearrange.minyear,b.yearrange.maxyear,c).toString().slice(0,2);j=b.isInYearRange(c[0]+d[1]+c[1],b.yearrange.minyear,b.yearrange.maxyear);if(j){h.buffer[f++]=d.charAt(1);return{pos:f}}d=b.determinebaseyear(b.yearrange.minyear,b.yearrange.maxyear,c).toString().slice(0,2);if(b.isInYearRange(d+c,b.yearrange.minyear,b.yearrange.maxyear)){var i=h.buffer.join("").substr(0,6);if(i!=b.leapday){j=true}else{var e=parseInt(c,10);if(e%4===0){if(e%100===0){if(e%400===0){j=true}else{j=false}}else{j=true}}else{j=false}}}else{j=false}if(j){h.buffer[f-1]=d.charAt(0);h.buffer[f++]=d.charAt(1);h.buffer[f++]=c.charAt(0);return{refreshFromBuffer:{start:f-3,end:f},pos:f}}}return j},cardinality:2},{validator:function(c,e,f,b,d){return d.isInYearRange(c,d.yearrange.minyear,d.yearrange.maxyear)},cardinality:3}]}},insertMode:false,autoUnmask:false},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(c){var b=a.inputmask.escapeRegex.call(this,c);return new RegExp("((0[13-9]|1[012])"+b+"[0-3])|(02"+b+"[0-2])")},val2:function(c){var b=a.inputmask.escapeRegex.call(this,c);return new RegExp("((0[1-9]|1[012])"+b+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+b+"30)|((0[13578]|1[02])"+b+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(g,b,d,f){var h=a(this);if(g.ctrlKey&&g.keyCode==f.keyCode.RIGHT){var c=new Date();h.val((c.getMonth()+1).toString()+c.getDate().toString()+c.getFullYear().toString())}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(g,b,d,f){var h=a(this);if(g.ctrlKey&&g.keyCode==f.keyCode.RIGHT){var c=new Date();h.val(c.getFullYear().toString()+(c.getMonth()+1).toString()+c.getDate().toString())}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(d,g,h,b,e){if(e.hourFormat=="24"){if(parseInt(d,10)==24){g.buffer[h-1]="0";g.buffer[h]="0";return{refreshFromBuffer:{start:h-1,end:h},c:"0"}}}var f=e.regex.hrs.test(d);if(!b&&!f){if(d.charAt(1)==e.timeseparator||"-.:".indexOf(d.charAt(1))!=-1){f=e.regex.hrs.test("0"+d.charAt(0));if(f){g.buffer[h-1]="0";g.buffer[h]=d.charAt(0);h++;return{refreshFromBuffer:{start:h-2,end:h},pos:h,c:e.timeseparator}}}}if(f&&e.hourFormat!=="24"&&e.regex.hrs24.test(d)){var c=parseInt(d,10);if(c==24){g.buffer[h+5]="a";g.buffer[h+6]="m"}else{g.buffer[h+5]="p";g.buffer[h+6]="m"}c=c-12;if(c<10){g.buffer[h]=c.toString();g.buffer[h-1]="0"}else{g.buffer[h]=c.toString().charAt(1);g.buffer[h-1]=c.toString().charAt(0)}return{refreshFromBuffer:{start:h-1,end:h+6},c:g.buffer[h]}}return f},cardinality:2,prevalidator:[{validator:function(c,f,g,b,d){var e=d.regex.hrspre.test(c);if(!b&&!e){e=d.regex.hrs.test("0"+c);if(e){f.buffer[g]="0";g++;return{pos:g}}}return e},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(c,f,g,b,d){var e=d.regex.mspre.test(c);if(!b&&!e){e=d.regex.ms.test("0"+c);if(e){f.buffer[g]="0";g++;return{pos:g}}}return e},cardinality:1}]},t:{validator:function(c,e,f,b,d){return d.regex.ampm.test(c+"m")},casing:"lower",cardinality:1}},insertMode:false,autoUnmask:false},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:false},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:false},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}});return a.fn.inputmask}));