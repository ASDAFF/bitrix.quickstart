<? $GLOBALS['_575864954_']=Array('in' .'_' .'array','is_a' .'rray','seri' .'ali' .'z' .'e','intval','is_array','in_ar' .'ray','seria' .'lize','is_' .'array','i' .'ntval','i' .'n_a' .'rray','in_array','pr' .'eg_' .'replac' .'e','unserialize','a' .'rray_keys','intval'); ?><? function _1518185793($i){$a=Array('LANG','DATA','DATA','DATA','DATA','LANG','CODE','CODE','CODE','SID','SID','SID','CODE','SID','CODE','CODE','SID','SID','CODE','CODE','CODE','CODE','CODE','SID','SID','SID','SID','SID','DATA','DATA','DATA','DATA','DATA','/^(>=|<=|=|!|>|<)/','','DATA','DATA','LANG','ID','LID','ASC','PROPERTY','PROPERTY','LANG','LID',"NAME",'NAME',"DESCRIPTION",'DESCRIPTION');return $a[$i];} ?><? class CStartShopOrderProperty extends CStartShop implements CStartShopInterface{private static $arFieldsEditable=array('CODE','SID','SORT','ACTIVE','TYPE','SUBTYPE','REQUIRED','DATA','USER_FIELD');public static function getArFieldsEditable(){return static::$arFieldsEditable;}private static $arFieldsFiltering=array('ID','CODE','SID','SORT','ACTIVE','TYPE','SUBTYPE','REQUIRED','DATA','USER_FIELD');public static function getArFieldsFiltering(){return static::$arFieldsFiltering;}protected static $sLanguageTable="startshop_order_properties_language";protected static $sLanguageTableLink="PROPERTY";protected static $sLanguageTableLanguage="LID";protected static $arLanguageFields=array("NAME","DESCRIPTION");public static function Add($_0){if(empty($_0['CODE'])|| $_0['SID']=== null)return false;$_1=$_0[_1518185793(0)];$_0=CStartShopUtil::ArrayFilter($_0,function($_2){return $GLOBALS['_575864954_'][0]($_2,CStartShopOrderProperty::getArFieldsEditable());},STARTSHOP_UTIL_ARRAY_FILTER_USE_KEY);if(!$GLOBALS['_575864954_'][1]($_1))$_1=array();$_3=(bool)static::GetList(array(),array('CODE'=> $_0['CODE'],'SID'=> $_0['SID']))->Fetch();if($_3)return false;if(!empty($_0[_1518185793(1)])){$_0[_1518185793(2)]=$GLOBALS['_575864954_'][2]($_0[_1518185793(3)]);}else{$_0[_1518185793(4)]=false;}$_4=CStartShopDBQueryBX::Insert()->Into('startshop_order_properties')->Values($_0)->Execute();if($_4){foreach($_1 as $_2 => $_5)static::SetLanguage($_4,$_2,$_5);return $_4;}return false;}public static function Update($_6,$_0){$_6=$GLOBALS['_575864954_'][3]($_6);$_1=$_0[_1518185793(5)];$_3=false;$_7=static::GetByID($_6)->GetNext();if(empty($_7))return false;if(!$GLOBALS['_575864954_'][4]($_1))$_1=false;if(isset($_0[_1518185793(6)])&& empty($_0[_1518185793(7)]))unset($_0[_1518185793(8)]);if(isset($_0[_1518185793(9)])&& empty($_0[_1518185793(10)]))unset($_0[_1518185793(11)]);if(isset($_0[_1518185793(12)])|| isset($_0[_1518185793(13)]))if($_0[_1518185793(14)]!= $_7[_1518185793(15)]|| $_0[_1518185793(16)]!= $_7[_1518185793(17)]){$_8=array();if(isset($_0[_1518185793(18)])){$_8[_1518185793(19)]=$_0[_1518185793(20)];}else{$_8[_1518185793(21)]=$_7[_1518185793(22)];}if(isset($_0[_1518185793(23)])){$_8[_1518185793(24)]=$_0[_1518185793(25)];}else{$_8[_1518185793(26)]=$_7[_1518185793(27)];}$_3=(bool)static::GetList(array(),$_8)->Fetch();unset($_8);}if($_3)return false;$_0=CStartShopUtil::ArrayFilter($_0,function($_2){return $GLOBALS['_575864954_'][5]($_2,CStartShopOrderProperty::getArFieldsEditable());},STARTSHOP_UTIL_ARRAY_FILTER_USE_KEY);if(isset($_0[_1518185793(28)]))if(!empty($_0[_1518185793(29)])){$_0[_1518185793(30)]=$GLOBALS['_575864954_'][6]($_0[_1518185793(31)]);}else{$_0[_1518185793(32)]=false;}if(!empty($_0))CStartShopDBQueryBX::Update()->Tables('startshop_order_properties')->Values($_0)->Where(array('ID'=> $_6))->Execute();if($GLOBALS['_575864954_'][7]($_1)){static::DeleteLanguages($_6);foreach($_1 as $_2 => $_5)static::SetLanguage($_6,$_2,$_5);}return true;}public static function Delete($_6){$_6=$GLOBALS['_575864954_'][8]($_6);CStartShopDBQueryBX::Delete()->From('startshop_order_properties')->Where(array('ID'=> $_6))->Execute();static::DeleteLanguages($_6);return true;}public static function DeleteAll(){CStartShopDBQueryBX::Delete()->From('startshop_order_properties')->Execute();static::DeleteLanguagesAll();return true;}public static function GetList($_9=array('ID'=> 'ASC'),$_10=array()){$_11=array();$_9=CStartShopUtil::ArrayFilter($_9,function($_2){return $GLOBALS['_575864954_'][9]($_2,CStartShopOrderProperty::getArFieldsFiltering());},STARTSHOP_UTIL_ARRAY_FILTER_USE_KEY);$_10=CStartShopUtil::ArrayFilter($_10,function($_2){return $GLOBALS['_575864954_'][10]($GLOBALS['_575864954_'][11](_1518185793(33),_1518185793(34),$_2),CStartShopOrderProperty::getArFieldsFiltering());},STARTSHOP_UTIL_ARRAY_FILTER_USE_KEY);$_12=CStartShopDBQueryBX::Select()->From('startshop_order_properties')->Where($_10)->OrderBy($_9)->Execute();while($_7=$_12->Fetch()){$_7[_1518185793(35)]=$GLOBALS['_575864954_'][12]($_7[_1518185793(36)]);$_7[_1518185793(37)]=array();$_11[$_7[_1518185793(38)]]=$_7;}if(!empty($_11)){$_13=static::GetLanguageList(array(_1518185793(39)=> _1518185793(40)),array(_1518185793(41)=> $GLOBALS['_575864954_'][13]($_11)));while($_5=$_13->GetNext())$_11[$_5[_1518185793(42)]][_1518185793(43)][$_5[_1518185793(44)]]=array(_1518185793(45)=> $_5[_1518185793(46)],_1518185793(47)=> $_5[_1518185793(48)]);}return CStartShopUtil::ArrayToDBResult($_11);}public static function GetByID($_6){$_6=$GLOBALS['_575864954_'][14]($_6);return static::GetList(array(),array("ID"=> $_6));}} ?>
