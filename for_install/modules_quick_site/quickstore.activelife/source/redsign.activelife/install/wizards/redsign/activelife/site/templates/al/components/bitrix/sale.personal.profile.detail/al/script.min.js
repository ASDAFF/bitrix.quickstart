BX.namespace("BX.Sale.PersonalProfileComponent");(function(){BX.Sale.PersonalProfileComponent.PersonalProfileDetail={init:function(){var a=document.getElementsByClassName("sale-personal-profile-detail-property-file");Array.prototype.forEach.call(a,function(c){var e=c.getElementsByClassName("profile-property-input-delete-file")[0];var d=c.getElementsByClassName("sale-personal-profile-detail-input-file")[0];var b=c.getElementsByClassName("sale-personal-profile-detail-load-file-info")[0];var f=c.getElementsByClassName("sale-personal-profile-detail-load-file-cancel")[0];BX.bindDelegate(c,"click",{"class":"profile-property-check-file"},BX.proxy(function(g){if(e.value!=""){idList=e.value.split(";");if(idList.indexOf(g.target.value)===-1){e.value=e.value+";"+g.target.value}else{idList.splice(idList.indexOf(g.target.value),1);e.value=idList.join(";")}}else{e.value=g.target.value}},this));BX.bind(d,"change",BX.delegate(function(g){if(g.target.files.length>1){b.innerHTML=BX.message("SPPD_FILE_COUNT")+g.target.files.length;f.classList.remove("sale-personal-profile-hide")}else{if(g.target.files.length==1){fileName=g.target.files[0].name;if(fileName.length>40){b.innerHTML=fileName.substr(0,9)+"..."+fileName.substr(-9)}else{b.innerHTML=g.target.files[0].name}f.classList.remove("sale-personal-profile-hide")}else{f.classList.add("sale-personal-profile-hide");b.innerHTML=BX.message("SPPD_FILE_NOT_SELECTED")}}},this));BX.bind(f,"click",BX.delegate(function(){f.classList.add("sale-personal-profile-hide");b.innerHTML=BX.message("SPPD_FILE_NOT_SELECTED");d.value="";d.files=[]},this))})}}})();