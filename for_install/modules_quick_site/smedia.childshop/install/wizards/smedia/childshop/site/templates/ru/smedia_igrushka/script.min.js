function analogs_count(b){var a=document.getElementById("an_count");if(!a){return}$(a).html(b);return false}function UpdateCompare(a){$.ajax({type:"GET",url:"/compare.php",data:"data="+a,success:function(b){$(".compare_num").empty();$(".compare_num").append(b);num=b*1;if($(".comp_main").css("display")=="none"&&num>0){$(".comp_main").css({display:"block",height:"0"});$(".comp_main").animate({height:"22px"},300)}else{if($(".comp_main").css("display")!="none"&&num==0){$(".comp_main").css("display","none")}}}})}function disableAddToCart(a,d,c){var b=document.getElementById(a);if(!b){return}var e=b.form;if(d=="detail"){$(b).addClass("button_inbasket_card").css("cursor","default").attr("title","��� � �������");$(e).removeAttr("action")}else{if(d=="list"){$(b).addClass("button_inbasket").toggleClass("disabled").css("cursor","default").attr("title","��� � �������");$(e).removeAttr("action")}else{if(d=="new"){$(b).addClass("icon_add_off").toggleClass("disabled").unbind("click").css("cursor","default").attr("title","��� � �������");$(e).removeAttr("action")}else{if(d=="special"){$(b).html("��� � �������").toggleClass("disabled").unbind("click").css("cursor","default").attr("title","��� � �������");$(e).removeAttr("action")}}}}}function checkDisableAddToCart(a,b,f,k,e){var c="ID="+f;for(var j=0;j<a.length;j++){var m=document.getElementById("select_"+f+"_"+a[j]);if(m){c=c+"&"+a[j]+"="+m.options[m.selectedIndex].innerHTML}else{var h=document.getElementById("input_"+f+"_"+a[j]);if(h){c=c+"&"+a[j]+"="+h.value}}}var g=document.getElementById(b);var l=g.form;var d="";if(k=="detail"){d="button_inbasket_card"}else{d="button_inbasket"}$.ajax({type:"GET",url:"/include/checkDisableAddToCart.php",data:c,success:function(n){var i=JSON.parse(n);if(i.disable=="Y"){$(g).addClass(d).addClass("disabled").css("cursor","default").attr("title",i.title);$(l).removeAttr("action")}else{$(g).removeClass(d).removeClass("disabled").css("cursor","pointer").attr("title","� �������");$(l).attr("action",e)}}})}function addToCartForm(g,f,e,j,d){var c=$(g).attr("action");if(!c){return false}var a=$(g).attr("method");var h=$(g).serialize();var b="";if(e=="detail"){b="button_inbasket_card"}else{b="button_inbasket"}var i=document.getElementById(f);$.ajax({type:a,url:c,data:h,success:function(l){$(d).addClass(b).addClass("disabled").css("cursor","default").attr("title",j);$(g).removeAttr("action");if(!i){$("#cart_line").html(l);return}var m="";var p=null;if(e=="detail"){m="catalog-detail-hover";p=$(g).parent("div.catalog-detail")}else{if(e=="list"){m="catalog-item-hover";p=$(g).parent("div.catalog-item")}}p.unbind("mouseover").unbind("mouseout").removeClass(m);var o=$(i);var k=o.position();var n=o.clone().insertBefore(o);n.css({position:"absolute",left:k.left,top:k.top});n.animate({width:0,height:0,left:948,top:-250},600,"linear");n.data("hoverClassName",m);n.queue($.proxy(function(){n.remove();$("#cart_line").html(l);if(p.data("adminMode")===true){var q="";if(e=="detail"){q="catalog-detail-hover"}else{if(e=="list"){q="catalog-item-hover"}}p.addClass(q).bind({mouseover:function(){$(this).removeClass(q).addClass(q)},mouseout:function(){$(this).removeClass(q)}})}},{wrapper:p,flyImage:n,mode:this.mode}))}});return false}function addToCart(c,a,e,d){if(!c||!c.href){return}var b=$(c);if(e=="detail"){b.toggleClass("disabled").unbind("click").css("cursor","default")}else{if(e=="list"){b.removeClass("catalog-item-buy").addClass("catalog-item-in-the-cart").unbind("click").css("cursor","default")}else{b.unbind("click").css("cursor","default")}}$.get(c.href+"&ajax_buy=1",$.proxy(function(h){if(this.mode=="detail"){this.button.removeAttr("href").addClass("button_inbasket_card").attr("title","��� � �������")}else{if(this.mode=="list"){this.button.removeAttr("href").addClass("button_inbasket").attr("title","��� � �������")}else{if(this.mode=="new"){this.button.removeAttr("href").addClass("icon_add_off").attr("title","��� � �������")}else{this.button.removeAttr("href").html("��� � �������").attr("title","��� � �������")}}}var i=document.getElementById(this.imageToFlyId);if(!i){$("#cart_line").html(h);return}var g="";var l=null;if(this.mode=="detail"){g="catalog-detail-hover";l=this.button.parents("div.catalog-detail")}else{g="catalog-item-hover";l=this.button.parents("div.catalog-item")}l.unbind("mouseover").unbind("mouseout").removeClass(g);var k=$(i);var f=k.position();var j=k.clone().insertBefore(k);j.css({position:"absolute",left:f.left,top:f.top});j.animate({width:0,height:0,left:1000,top:-58},600,"linear");j.data("hoverClassName",g);j.queue($.proxy(function(){this.flyImage.remove();$("#cart_line").html(h);if(this.wrapper.data("adminMode")===true){var m="";if(this.mode=="detail"){m="catalog-detail-hover"}else{m="catalog-item-hover"}this.wrapper.addClass(m).bind({mouseover:function(){$(this).removeClass(m).addClass(m)},mouseout:function(){$(this).removeClass(m)}})}},{wrapper:l,flyImage:j,mode:this.mode}))},{button:b,mode:e,imageToFlyId:a}));return false}function disableAddToCompare(b,d){var c=document.getElementById(b);if(!c){return}var a=$(c).attr("href");a=a.replace("ADD_TO_COMPARE_LIST","DELETE_FROM_COMPARE_LIST");$(c).removeClass("catalog-item-compare").addClass("catalog-item-compared").attr("href",a).attr("onclick",'return deleteFromCompare(this, "������� �� ������ ����������");').css({"background-position":"0 -24px"});return false}function addToCompare(c,e){if(!c||!c.href){return}var a=c.href;var d=a.replace("ADD_TO_COMPARE_LIST","DELETE_FROM_COMPARE_LIST");var b=$(c);b.removeClass("catalog-item-compare").addClass("catalog-item-compared").attr("href",d).attr("onclick",'return deleteFromCompare(this, "������� �� ������ ����������");').css({"background-position":"0 -24px"});$.get(a+"&ajax_compare=1&backurl="+decodeURIComponent(window.location.pathname),$.proxy(function(g){var f=$("#compare");f.html(g);if(f.css("display")=="none"){f.css({display:"block",height:"0"});f.animate({height:"22px"},300)}},b));return false}function deleteFromCompare(c,e){if(!c||!c.href){return}var a=c.href;var d=a.replace("DELETE_FROM_COMPARE_LIST","ADD_TO_COMPARE_LIST");var b=$(c);b.removeClass("catalog-item-compare").addClass("catalog-item-compared").attr("href",d).attr("onclick",'return addToCompare(this, "�������� � ������ ����������");').css({"background-position":"0 0"});$.get(a+"&ajax_compare=1&backurl="+decodeURIComponent(window.location.pathname),$.proxy(function(g){var f=$("#compare");f.html(g);if(f.css("display")=="none"){f.css({display:"block",height:"0"});f.animate({height:"22px"},300)}},b));return false};